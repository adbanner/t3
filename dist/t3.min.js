!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.t3=e()}}(function(){var e;return function t(e,n,i){function o(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};e[s][0].call(u.exports,function(t){var n=e[s][1][t];return o(n?n:t)},u,u.exports,t,e,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,t,n){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(e){return"function"==typeof e}function r(e){return"number"==typeof e}function s(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(e){if(!r(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},i.prototype.emit=function(e){var t,n,i,r,l,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],a(n))return!1;if(o(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(i=arguments.length,r=new Array(i-1),l=1;i>l;l++)r[l-1]=arguments[l];n.apply(this,r)}else if(s(n)){for(i=arguments.length,r=new Array(i-1),l=1;i>l;l++)r[l-1]=arguments[l];for(c=n.slice(),i=c.length,l=0;i>l;l++)c[l].apply(this,r)}return!0},i.prototype.addListener=function(e,t){var n;if(!o(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,o(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned){var n;n=a(this._maxListeners)?i.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!o(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},i.prototype.removeListener=function(e,t){var n,i,r,a;if(!o(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],r=n.length,i=-1,n===t||o(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(s(n)){for(a=r;a-->0;)if(n[a]===t||n[a].listener&&n[a].listener===t){i=a;break}if(0>i)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},i.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],o(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},i.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?o(this._events[e])?[this._events[e]]:this._events[e].slice():[]},i.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?o(e._events[t])?1:e._events[t].length:0}},{}],2:[function(e,t,n){t.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],3:[function(e,t,n){function i(){u=!1,a.length?c=a.concat(c):d=-1,c.length&&o()}function o(){if(!u){var e=setTimeout(i);u=!0;for(var t=c.length;t;){for(a=c,c=[];++d<t;)a[d].run();d=-1,t=c.length}a=null,u=!1,clearTimeout(e)}}function r(e,t){this.fun=e,this.array=t}function s(){}var a,l=t.exports={},c=[],u=!1,d=-1;l.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new r(e,t)),1!==c.length||u||setTimeout(o,0)},r.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=s,l.addListener=s,l.once=s,l.off=s,l.removeListener=s,l.removeAllListeners=s,l.emit=s,l.binding=function(e){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(e){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],4:[function(e,t,n){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],5:[function(e,t,n){(function(t,i){function o(e,t){var i={seen:[],stylize:s};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),m(t)?i.showHidden=t:t&&n._extend(i,t),w(i.showHidden)&&(i.showHidden=!1),w(i.depth)&&(i.depth=2),w(i.colors)&&(i.colors=!1),w(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=r),l(i,e,i.depth)}function r(e,t){var n=o.styles[t];return n?"["+o.colors[n][0]+"m"+e+"["+o.colors[n][1]+"m":e}function s(e,t){return e}function a(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function l(e,t,i){if(e.customInspect&&t&&A(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var o=t.inspect(i,e);return b(o)||(o=l(e,o,i)),o}var r=c(e,t);if(r)return r;var s=Object.keys(t),m=a(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),k(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return u(t);if(0===s.length){if(A(t)){var _=t.name?": "+t.name:"";return e.stylize("[Function"+_+"]","special")}if(x(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(C(t))return e.stylize(Date.prototype.toString.call(t),"date");if(k(t))return u(t)}var g="",v=!1,y=["{","}"];if(f(t)&&(v=!0,y=["[","]"]),A(t)){var w=t.name?": "+t.name:"";g=" [Function"+w+"]"}if(x(t)&&(g=" "+RegExp.prototype.toString.call(t)),C(t)&&(g=" "+Date.prototype.toUTCString.call(t)),k(t)&&(g=" "+u(t)),0===s.length&&(!v||0==t.length))return y[0]+g+y[1];if(0>i)return x(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var E;return E=v?d(e,t,i,m,s):s.map(function(n){return h(e,t,i,m,n,v)}),e.seen.pop(),p(E,g,y)}function c(e,t){if(w(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return v(t)?e.stylize(""+t,"number"):m(t)?e.stylize(""+t,"boolean"):_(t)?e.stylize("null","null"):void 0}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,i,o){for(var r=[],s=0,a=t.length;a>s;++s)r.push(M(t,String(s))?h(e,t,n,i,String(s),!0):"");return o.forEach(function(o){o.match(/^\d+$/)||r.push(h(e,t,n,i,o,!0))}),r}function h(e,t,n,i,o,r){var s,a,c;if(c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},c.get?a=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),M(i,o)||(s="["+o+"]"),a||(e.seen.indexOf(c.value)<0?(a=_(n)?l(e,c.value,null):l(e,c.value,n-1),a.indexOf("\n")>-1&&(a=r?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n"))):a=e.stylize("[Circular]","special")),w(s)){if(r&&o.match(/^\d+$/))return a;s=JSON.stringify(""+o),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function p(e,t,n){var i=0,o=e.reduce(function(e,t){return i++,t.indexOf("\n")>=0&&i++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return o>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function f(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function _(e){return null===e}function g(e){return null==e}function v(e){return"number"==typeof e}function b(e){return"string"==typeof e}function y(e){return"symbol"==typeof e}function w(e){return void 0===e}function x(e){return E(e)&&"[object RegExp]"===L(e)}function E(e){return"object"==typeof e&&null!==e}function C(e){return E(e)&&"[object Date]"===L(e)}function k(e){return E(e)&&("[object Error]"===L(e)||e instanceof Error)}function A(e){return"function"==typeof e}function S(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function L(e){return Object.prototype.toString.call(e)}function O(e){return 10>e?"0"+e.toString(10):e.toString(10)}function T(){var e=new Date,t=[O(e.getHours()),O(e.getMinutes()),O(e.getSeconds())].join(":");return[e.getDate(),j[e.getMonth()],t].join(" ")}function M(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var R=/%[sdj%]/g;n.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(o(arguments[n]));return t.join(" ")}for(var n=1,i=arguments,r=i.length,s=String(e).replace(R,function(e){if("%%"===e)return"%";if(n>=r)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(t){return"[Circular]"}default:return e}}),a=i[n];r>n;a=i[++n])s+=_(a)||!E(a)?" "+a:" "+o(a);return s},n.deprecate=function(e,o){function r(){if(!s){if(t.throwDeprecation)throw new Error(o);t.traceDeprecation?console.trace(o):console.error(o),s=!0}return e.apply(this,arguments)}if(w(i.process))return function(){return n.deprecate(e,o).apply(this,arguments)};if(t.noDeprecation===!0)return e;var s=!1;return r};var N,D={};n.debuglog=function(e){if(w(N)&&(N=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!D[e])if(new RegExp("\\b"+e+"\\b","i").test(N)){var i=t.pid;D[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,i,t)}}else D[e]=function(){};return D[e]},n.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=f,n.isBoolean=m,n.isNull=_,n.isNullOrUndefined=g,n.isNumber=v,n.isString=b,n.isSymbol=y,n.isUndefined=w,n.isRegExp=x,n.isObject=E,n.isDate=C,n.isError=k,n.isFunction=A,n.isPrimitive=S,n.isBuffer=e("./support/isBuffer");var j=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",T(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!E(t))return e;for(var n=Object.keys(t),i=n.length;i--;)e[n[i]]=t[n[i]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":4,_process:3,inherits:2}],6:[function(e,t,n){t.exports=e("./vendor/dat.gui"),t.exports.color=e("./vendor/dat.color")},{"./vendor/dat.color":7,"./vendor/dat.gui":8}],7:[function(e,t,n){var i=t.exports=i||{};i.color=i.color||{},i.utils=i.utils||{},i.utils.common=function(){var e=Array.prototype.forEach,t=Array.prototype.slice;return{BREAK:{},extend:function(e){return this.each(t.call(arguments,1),function(t){for(var n in t)this.isUndefined(t[n])||(e[n]=t[n])},this),e},defaults:function(e){return this.each(t.call(arguments,1),function(t){for(var n in t)this.isUndefined(e[n])&&(e[n]=t[n])},this),e},compose:function(){var e=t.call(arguments);return function(){for(var n=t.call(arguments),i=e.length-1;i>=0;i--)n=[e[i].apply(this,n)];return n[0]}},each:function(t,n,i){if(e&&t.forEach===e)t.forEach(n,i);else if(t.length===t.length+0){for(var o=0,r=t.length;r>o;o++)if(o in t&&n.call(i,t[o],o)===this.BREAK)return}else for(var o in t)if(n.call(i,t[o],o)===this.BREAK)return},defer:function(e){setTimeout(e,0)},toArray:function(e){return e.toArray?e.toArray():t.call(e)},isUndefined:function(e){return void 0===e},isNull:function(e){return null===e},isNaN:function(e){return e!==e},isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return e===!1||e===!0},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)}}}(),i.color.toString=function(e){return function(t){if(1==t.a||e.isUndefined(t.a)){for(var n=t.hex.toString(16);n.length<6;)n="0"+n;return"#"+n}return"rgba("+Math.round(t.r)+","+Math.round(t.g)+","+Math.round(t.b)+","+t.a+")"}}(i.utils.common),i.Color=i.color.Color=function(e,t,n,i){function o(e,t,n){Object.defineProperty(e,t,{get:function(){return"RGB"===this.__state.space?this.__state[t]:(s(this,t,n),this.__state[t])},set:function(e){"RGB"!==this.__state.space&&(s(this,t,n),this.__state.space="RGB"),this.__state[t]=e}})}function r(e,t){Object.defineProperty(e,t,{get:function(){return"HSV"===this.__state.space?this.__state[t]:(a(this),this.__state[t])},set:function(e){"HSV"!==this.__state.space&&(a(this),this.__state.space="HSV"),this.__state[t]=e}})}function s(e,n,o){if("HEX"===e.__state.space)e.__state[n]=t.component_from_hex(e.__state.hex,o);else{if("HSV"!==e.__state.space)throw"Corrupted color state";i.extend(e.__state,t.hsv_to_rgb(e.__state.h,e.__state.s,e.__state.v))}}function a(e){var n=t.rgb_to_hsv(e.r,e.g,e.b);i.extend(e.__state,{s:n.s,v:n.v}),i.isNaN(n.h)?i.isUndefined(e.__state.h)&&(e.__state.h=0):e.__state.h=n.h}var l=function(){if(this.__state=e.apply(this,arguments),this.__state===!1)throw"Failed to interpret color arguments";this.__state.a=this.__state.a||1};return l.COMPONENTS=["r","g","b","h","s","v","hex","a"],i.extend(l.prototype,{toString:function(){return n(this)},toOriginal:function(){return this.__state.conversion.write(this)}}),o(l.prototype,"r",2),o(l.prototype,"g",1),o(l.prototype,"b",0),r(l.prototype,"h"),r(l.prototype,"s"),r(l.prototype,"v"),Object.defineProperty(l.prototype,"a",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}}),Object.defineProperty(l.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=t.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(e){this.__state.space="HEX",this.__state.hex=e}}),l}(i.color.interpret=function(e,t){var n,i,o=function(){i=!1;var e=arguments.length>1?t.toArray(arguments):arguments[0];return t.each(r,function(o){return o.litmus(e)?(t.each(o.conversions,function(o,r){return n=o.read(e),i===!1&&n!==!1?(i=n,n.conversionName=r,n.conversion=o,t.BREAK):void 0}),t.BREAK):void 0}),i},r=[{litmus:t.isString,conversions:{THREE_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null===t?!1:{space:"HEX",hex:parseInt("0x"+t[1].toString()+t[1].toString()+t[2].toString()+t[2].toString()+t[3].toString()+t[3].toString())}},write:e},SIX_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9]{6})$/i);return null===t?!1:{space:"HEX",hex:parseInt("0x"+t[1].toString())}},write:e},CSS_RGB:{read:function(e){var t=e.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null===t?!1:{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3])}},write:e},CSS_RGBA:{read:function(e){var t=e.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);return null===t?!1:{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3]),a:parseFloat(t[4])}},write:e}}},{litmus:t.isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:t.isArray,conversions:{RGB_ARRAY:{read:function(e){return 3!=e.length?!1:{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return 4!=e.length?!1:{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:t.isObject,conversions:{RGBA_OBJ:{read:function(e){return t.isNumber(e.r)&&t.isNumber(e.g)&&t.isNumber(e.b)&&t.isNumber(e.a)?{space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}:!1},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return t.isNumber(e.r)&&t.isNumber(e.g)&&t.isNumber(e.b)?{space:"RGB",r:e.r,g:e.g,b:e.b}:!1},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return t.isNumber(e.h)&&t.isNumber(e.s)&&t.isNumber(e.v)&&t.isNumber(e.a)?{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}:!1},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return t.isNumber(e.h)&&t.isNumber(e.s)&&t.isNumber(e.v)?{space:"HSV",h:e.h,s:e.s,v:e.v}:!1},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}];return o}(i.color.toString,i.utils.common),i.color.math=function(){var e;return{hsv_to_rgb:function(e,t,n){var i=Math.floor(e/60)%6,o=e/60-Math.floor(e/60),r=n*(1-t),s=n*(1-o*t),a=n*(1-(1-o)*t),l=[[n,a,r],[s,n,r],[r,n,a],[r,s,n],[a,r,n],[n,r,s]][i];return{r:255*l[0],g:255*l[1],b:255*l[2]}},rgb_to_hsv:function(e,t,n){var i,o,r=Math.min(e,t,n),s=Math.max(e,t,n),a=s-r;return 0==s?{h:0/0,s:0,v:0}:(o=a/s,i=e==s?(t-n)/a:t==s?2+(n-e)/a:4+(e-t)/a,i/=6,0>i&&(i+=1),{h:360*i,s:o,v:s/255})},rgb_to_hex:function(e,t,n){var i=this.hex_with_component(0,2,e);return i=this.hex_with_component(i,1,t),i=this.hex_with_component(i,0,n)},component_from_hex:function(e,t){return e>>8*t&255},hex_with_component:function(t,n,i){return i<<(e=8*n)|t&~(255<<e)}}}(),i.color.toString,i.utils.common)},{}],8:[function(e,t,n){var i=t.exports=i||{};i.gui=i.gui||{},i.utils=i.utils||{},i.controllers=i.controllers||{},i.dom=i.dom||{},i.color=i.color||{},i.utils.css=function(){return{load:function(e,t){t=t||document;var n=t.createElement("link");n.type="text/css",n.rel="stylesheet",n.href=e,t.getElementsByTagName("head")[0].appendChild(n)},inject:function(e,t){t=t||document;var n=document.createElement("style");n.type="text/css",n.innerHTML=e,t.getElementsByTagName("head")[0].appendChild(n)}}}(),i.utils.common=function(){var e=Array.prototype.forEach,t=Array.prototype.slice;return{BREAK:{},extend:function(e){return this.each(t.call(arguments,1),function(t){for(var n in t)this.isUndefined(t[n])||(e[n]=t[n])},this),e},defaults:function(e){return this.each(t.call(arguments,1),function(t){for(var n in t)this.isUndefined(e[n])&&(e[n]=t[n])},this),e},compose:function(){var e=t.call(arguments);return function(){for(var n=t.call(arguments),i=e.length-1;i>=0;i--)n=[e[i].apply(this,n)];return n[0]}},each:function(t,n,i){if(e&&t.forEach===e)t.forEach(n,i);else if(t.length===t.length+0){for(var o=0,r=t.length;r>o;o++)if(o in t&&n.call(i,t[o],o)===this.BREAK)return}else for(var o in t)if(n.call(i,t[o],o)===this.BREAK)return},defer:function(e){setTimeout(e,0)},toArray:function(e){return e.toArray?e.toArray():t.call(e)},isUndefined:function(e){return void 0===e},isNull:function(e){return null===e},isNaN:function(e){return e!==e},isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return e===!1||e===!0},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)}}}(),i.controllers.Controller=function(e){var t=function(e,t){this.initialValue=e[t],this.domElement=document.createElement("div"),this.object=e,this.property=t,this.__onChange=void 0,this.__onFinishChange=void 0};return e.extend(t.prototype,{onChange:function(e){return this.__onChange=e,this},onFinishChange:function(e){return this.__onFinishChange=e,this},setValue:function(e){return this.object[this.property]=e,this.__onChange&&this.__onChange.call(this,e),this.updateDisplay(),this},getValue:function(){return this.object[this.property]},updateDisplay:function(){return this},isModified:function(){return this.initialValue!==this.getValue()}}),t}(i.utils.common),i.dom.dom=function(e){function t(t){if("0"===t||e.isUndefined(t))return 0;var n=t.match(o);return e.isNull(n)?0:parseFloat(n[1])}var n={HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},i={};e.each(n,function(t,n){e.each(t,function(e){i[e]=n})});var o=/(\d+(\.\d+)?)px/,r={makeSelectable:function(e,t){void 0!==e&&void 0!==e.style&&(e.onselectstart=t?function(){return!1}:function(){},e.style.MozUserSelect=t?"auto":"none",e.style.KhtmlUserSelect=t?"auto":"none",e.unselectable=t?"on":"off")},makeFullscreen:function(t,n,i){e.isUndefined(n)&&(n=!0),e.isUndefined(i)&&(i=!0),t.style.position="absolute",n&&(t.style.left=0,t.style.right=0),i&&(t.style.top=0,t.style.bottom=0)},fakeEvent:function(t,n,o,r){o=o||{};var s=i[n];if(!s)throw new Error("Event type "+n+" not supported.");var a=document.createEvent(s);switch(s){case"MouseEvents":var l=o.x||o.clientX||0,c=o.y||o.clientY||0;a.initMouseEvent(n,o.bubbles||!1,o.cancelable||!0,window,o.clickCount||1,0,0,l,c,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var u=a.initKeyboardEvent||a.initKeyEvent;e.defaults(o,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),u(n,o.bubbles||!1,o.cancelable,window,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,o.keyCode,o.charCode);break;default:a.initEvent(n,o.bubbles||!1,o.cancelable||!0)}e.defaults(a,r),t.dispatchEvent(a)},bind:function(e,t,n,i){return i=i||!1,e.addEventListener?e.addEventListener(t,n,i):e.attachEvent&&e.attachEvent("on"+t,n),r},unbind:function(e,t,n,i){return i=i||!1,e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent&&e.detachEvent("on"+t,n),r},addClass:function(e,t){if(void 0===e.className)e.className=t;else if(e.className!==t){var n=e.className.split(/ +/);-1==n.indexOf(t)&&(n.push(t),e.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return r},removeClass:function(e,t){if(t)if(void 0===e.className);else if(e.className===t)e.removeAttribute("class");else{var n=e.className.split(/ +/),i=n.indexOf(t);-1!=i&&(n.splice(i,1),e.className=n.join(" "))}else e.className=void 0;return r},hasClass:function(e,t){return new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)").test(e.className)||!1},getWidth:function(e){var n=getComputedStyle(e);return t(n["border-left-width"])+t(n["border-right-width"])+t(n["padding-left"])+t(n["padding-right"])+t(n.width)},getHeight:function(e){var n=getComputedStyle(e);return t(n["border-top-width"])+t(n["border-bottom-width"])+t(n["padding-top"])+t(n["padding-bottom"])+t(n.height)},getOffset:function(e){var t={left:0,top:0};if(e.offsetParent)do t.left+=e.offsetLeft,t.top+=e.offsetTop;while(e=e.offsetParent);return t},isActive:function(e){return e===document.activeElement&&(e.type||e.href)}};return r}(i.utils.common),i.controllers.OptionController=function(e,t,n){var i=function(e,o,r){i.superclass.call(this,e,o);var s=this;if(this.__select=document.createElement("select"),n.isArray(r)){var a={};n.each(r,function(e){a[e]=e}),r=a}n.each(r,function(e,t){var n=document.createElement("option");n.innerHTML=t,n.setAttribute("value",e),s.__select.appendChild(n)}),this.updateDisplay(),t.bind(this.__select,"change",function(){var e=this.options[this.selectedIndex].value;s.setValue(e)}),this.domElement.appendChild(this.__select)};return i.superclass=e,n.extend(i.prototype,e.prototype,{setValue:function(e){var t=i.superclass.prototype.setValue.call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),t},updateDisplay:function(){return this.__select.value=this.getValue(),i.superclass.prototype.updateDisplay.call(this)}}),i}(i.controllers.Controller,i.dom.dom,i.utils.common),i.controllers.NumberController=function(e,t){function n(e){return e=e.toString(),e.indexOf(".")>-1?e.length-e.indexOf(".")-1:0}var i=function(e,o,r){i.superclass.call(this,e,o),r=r||{},this.__min=r.min,this.__max=r.max,this.__step=r.step,this.__impliedStep=t.isUndefined(this.__step)?0==this.initialValue?1:Math.pow(10,Math.floor(Math.log(this.initialValue)/Math.LN10))/10:this.__step,this.__precision=n(this.__impliedStep)};return i.superclass=e,t.extend(i.prototype,e.prototype,{setValue:function(e){return void 0!==this.__min&&e<this.__min?e=this.__min:void 0!==this.__max&&e>this.__max&&(e=this.__max),void 0!==this.__step&&e%this.__step!=0&&(e=Math.round(e/this.__step)*this.__step),i.superclass.prototype.setValue.call(this,e)},min:function(e){return this.__min=e,this},max:function(e){return this.__max=e,this},step:function(e){return this.__step=e,this}}),i}(i.controllers.Controller,i.utils.common),i.controllers.NumberControllerBox=function(e,t,n){function i(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}var o=function(e,i,r){function s(){var e=parseFloat(h.__input.value);n.isNaN(e)||h.setValue(e)}function a(){s(),h.__onFinishChange&&h.__onFinishChange.call(h,h.getValue())}function l(e){t.bind(window,"mousemove",c),t.bind(window,"mouseup",u),d=e.clientY}function c(e){var t=d-e.clientY;h.setValue(h.getValue()+t*h.__impliedStep),d=e.clientY}function u(){t.unbind(window,"mousemove",c),t.unbind(window,"mouseup",u)}this.__truncationSuspended=!1,o.superclass.call(this,e,i,r);var d,h=this;this.__input=document.createElement("input"),this.__input.setAttribute("type","text"),t.bind(this.__input,"change",s),t.bind(this.__input,"blur",a),t.bind(this.__input,"mousedown",l),t.bind(this.__input,"keydown",function(e){13===e.keyCode&&(h.__truncationSuspended=!0,this.blur(),h.__truncationSuspended=!1)}),this.updateDisplay(),this.domElement.appendChild(this.__input)};return o.superclass=e,n.extend(o.prototype,e.prototype,{updateDisplay:function(){return this.__input.value=this.__truncationSuspended?this.getValue():i(this.getValue(),this.__precision),o.superclass.prototype.updateDisplay.call(this)}}),o}(i.controllers.NumberController,i.dom.dom,i.utils.common),i.controllers.NumberControllerSlider=function(e,t,n,i,o){function r(e,t,n,i,o){return i+(o-i)*((e-t)/(n-t))}var s=function(e,n,i,o,a){function l(e){t.bind(window,"mousemove",c),t.bind(window,"mouseup",u),c(e)}function c(e){e.preventDefault();var n=t.getOffset(d.__background),i=t.getWidth(d.__background);return d.setValue(r(e.clientX,n.left,n.left+i,d.__min,d.__max)),!1}function u(){t.unbind(window,"mousemove",c),t.unbind(window,"mouseup",u),d.__onFinishChange&&d.__onFinishChange.call(d,d.getValue())}s.superclass.call(this,e,n,{min:i,max:o,step:a});var d=this;this.__background=document.createElement("div"),this.__foreground=document.createElement("div"),t.bind(this.__background,"mousedown",l),t.addClass(this.__background,"slider"),t.addClass(this.__foreground,"slider-fg"),this.updateDisplay(),this.__background.appendChild(this.__foreground),this.domElement.appendChild(this.__background)};return s.superclass=e,s.useDefaultStyles=function(){n.inject(o)},i.extend(s.prototype,e.prototype,{updateDisplay:function(){var e=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*e+"%",s.superclass.prototype.updateDisplay.call(this)}}),s}(i.controllers.NumberController,i.dom.dom,i.utils.css,i.utils.common,".slider {\n  box-shadow: inset 0 2px 4px rgba(0,0,0,0.15);\n  height: 1em;\n  border-radius: 1em;\n  background-color: #eee;\n  padding: 0 0.5em;\n  overflow: hidden;\n}\n\n.slider-fg {\n  padding: 1px 0 2px 0;\n  background-color: #aaa;\n  height: 1em;\n  margin-left: -0.5em;\n  padding-right: 0.5em;\n  border-radius: 1em 0 0 1em;\n}\n\n.slider-fg:after {\n  display: inline-block;\n  border-radius: 1em;\n  background-color: #fff;\n  border:  1px solid #aaa;\n  content: '';\n  float: right;\n  margin-right: -1em;\n  margin-top: -1px;\n  height: 0.9em;\n  width: 0.9em;\n}"),i.controllers.FunctionController=function(e,t,n){var i=function(e,n,o){i.superclass.call(this,e,n);var r=this;this.__button=document.createElement("div"),this.__button.innerHTML=void 0===o?"Fire":o,t.bind(this.__button,"click",function(e){return e.preventDefault(),r.fire(),!1}),t.addClass(this.__button,"button"),this.domElement.appendChild(this.__button)};return i.superclass=e,n.extend(i.prototype,e.prototype,{fire:function(){this.__onChange&&this.__onChange.call(this),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.getValue().call(this.object)}}),i}(i.controllers.Controller,i.dom.dom,i.utils.common),i.controllers.BooleanController=function(e,t,n){var i=function(e,n){function o(){r.setValue(!r.__prev)}i.superclass.call(this,e,n);var r=this;this.__prev=this.getValue(),this.__checkbox=document.createElement("input"),this.__checkbox.setAttribute("type","checkbox"),t.bind(this.__checkbox,"change",o,!1),this.domElement.appendChild(this.__checkbox),this.updateDisplay()};return i.superclass=e,n.extend(i.prototype,e.prototype,{setValue:function(e){var t=i.superclass.prototype.setValue.call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),t},updateDisplay:function(){return this.getValue()===!0?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0):this.__checkbox.checked=!1,i.superclass.prototype.updateDisplay.call(this)}}),i}(i.controllers.Controller,i.dom.dom,i.utils.common),i.color.toString=function(e){return function(t){if(1==t.a||e.isUndefined(t.a)){for(var n=t.hex.toString(16);n.length<6;)n="0"+n;return"#"+n}return"rgba("+Math.round(t.r)+","+Math.round(t.g)+","+Math.round(t.b)+","+t.a+")"}}(i.utils.common),i.color.interpret=function(e,t){var n,i,o=function(){i=!1;var e=arguments.length>1?t.toArray(arguments):arguments[0];return t.each(r,function(o){return o.litmus(e)?(t.each(o.conversions,function(o,r){return n=o.read(e),i===!1&&n!==!1?(i=n,n.conversionName=r,n.conversion=o,t.BREAK):void 0}),t.BREAK):void 0}),i},r=[{litmus:t.isString,conversions:{THREE_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null===t?!1:{space:"HEX",hex:parseInt("0x"+t[1].toString()+t[1].toString()+t[2].toString()+t[2].toString()+t[3].toString()+t[3].toString())}},write:e},SIX_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9]{6})$/i);return null===t?!1:{space:"HEX",hex:parseInt("0x"+t[1].toString())}},write:e},CSS_RGB:{read:function(e){var t=e.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null===t?!1:{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3])}},write:e},CSS_RGBA:{read:function(e){var t=e.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);return null===t?!1:{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3]),a:parseFloat(t[4])}},write:e}}},{litmus:t.isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:t.isArray,conversions:{RGB_ARRAY:{read:function(e){return 3!=e.length?!1:{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return 4!=e.length?!1:{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:t.isObject,conversions:{RGBA_OBJ:{read:function(e){return t.isNumber(e.r)&&t.isNumber(e.g)&&t.isNumber(e.b)&&t.isNumber(e.a)?{
space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}:!1},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return t.isNumber(e.r)&&t.isNumber(e.g)&&t.isNumber(e.b)?{space:"RGB",r:e.r,g:e.g,b:e.b}:!1},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return t.isNumber(e.h)&&t.isNumber(e.s)&&t.isNumber(e.v)&&t.isNumber(e.a)?{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}:!1},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return t.isNumber(e.h)&&t.isNumber(e.s)&&t.isNumber(e.v)?{space:"HSV",h:e.h,s:e.s,v:e.v}:!1},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}];return o}(i.color.toString,i.utils.common),i.GUI=i.gui.GUI=function(e,t,n,i,o,r,s,a,l,c,u,d,h,p,f){function m(e,t,n,r){if(void 0===t[n])throw new Error("Object "+t+' has no property "'+n+'"');var s;if(r.color)s=new u(t,n);else{var a=[t,n].concat(r.factoryArgs);s=i.apply(e,a)}r.before instanceof o&&(r.before=r.before.__li),v(e,s),p.addClass(s.domElement,"c");var l=document.createElement("span");p.addClass(l,"property-name"),l.innerHTML=s.property;var c=document.createElement("div");c.appendChild(l),c.appendChild(s.domElement);var d=_(e,c,r.before);return p.addClass(d,z.CLASS_CONTROLLER_ROW),p.addClass(d,typeof s.getValue()),g(e,d,s),e.__controllers.push(s),s}function _(e,t,n){var i=document.createElement("li");return t&&i.appendChild(t),n?e.__ul.insertBefore(i,params.before):e.__ul.appendChild(i),e.onResize(),i}function g(e,t,n){if(n.__li=t,n.__gui=e,f.extend(n,{options:function(t){return arguments.length>1?(n.remove(),m(e,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[f.toArray(arguments)]})):f.isArray(t)||f.isObject(t)?(n.remove(),m(e,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[t]})):void 0},name:function(e){return n.__li.firstElementChild.firstElementChild.innerHTML=e,n},listen:function(){return n.__gui.listen(n),n},remove:function(){return n.__gui.remove(n),n}}),n instanceof l){var i=new a(n.object,n.property,{min:n.__min,max:n.__max,step:n.__step});f.each(["updateDisplay","onChange","onFinishChange"],function(e){var t=n[e],o=i[e];n[e]=i[e]=function(){var e=Array.prototype.slice.call(arguments);return t.apply(n,e),o.apply(i,e)}}),p.addClass(t,"has-slider"),n.domElement.insertBefore(i.domElement,n.domElement.firstElementChild)}else if(n instanceof a){var o=function(t){return f.isNumber(n.__min)&&f.isNumber(n.__max)?(n.remove(),m(e,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[n.__min,n.__max,n.__step]})):t};n.min=f.compose(o,n.min),n.max=f.compose(o,n.max)}else n instanceof r?(p.bind(t,"click",function(){p.fakeEvent(n.__checkbox,"click")}),p.bind(n.__checkbox,"click",function(e){e.stopPropagation()})):n instanceof s?(p.bind(t,"click",function(){p.fakeEvent(n.__button,"click")}),p.bind(t,"mouseover",function(){p.addClass(n.__button,"hover")}),p.bind(t,"mouseout",function(){p.removeClass(n.__button,"hover")})):n instanceof u&&(p.addClass(t,"color"),n.updateDisplay=f.compose(function(e){return t.style.borderLeftColor=n.__color.toString(),e},n.updateDisplay),n.updateDisplay());n.setValue=f.compose(function(t){return e.getRoot().__preset_select&&n.isModified()&&A(e.getRoot(),!0),t},n.setValue)}function v(e,t){var n=e.getRoot(),i=n.__rememberedObjects.indexOf(t.object);if(-1!=i){var o=n.__rememberedObjectIndecesToControllers[i];if(void 0===o&&(o={},n.__rememberedObjectIndecesToControllers[i]=o),o[t.property]=t,n.load&&n.load.remembered){var r,s=n.load.remembered;if(s[e.preset])r=s[e.preset];else{if(!s[N])return;r=s[N]}if(r[i]&&void 0!==r[i][t.property]){var a=r[i][t.property];t.initialValue=a,t.setValue(a)}}}}function b(e,t){return document.location.href+"."+t}function y(e){function t(){c.style.display=e.useLocalStorage?"block":"none"}var n=e.__save_row=document.createElement("li");p.addClass(e.domElement,"has-save"),e.__ul.insertBefore(n,e.__ul.firstChild),p.addClass(n,"save-row");var i=document.createElement("span");i.innerHTML="&nbsp;",p.addClass(i,"button gears");var o=document.createElement("span");o.innerHTML="Save",p.addClass(o,"button"),p.addClass(o,"save");var r=document.createElement("span");r.innerHTML="New",p.addClass(r,"button"),p.addClass(r,"save-as");var s=document.createElement("span");s.innerHTML="Revert",p.addClass(s,"button"),p.addClass(s,"revert");var a=e.__preset_select=document.createElement("select");if(e.load&&e.load.remembered?f.each(e.load.remembered,function(t,n){C(e,n,n==e.preset)}):C(e,N,!1),p.bind(a,"change",function(){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].innerHTML=e.__preset_select[t].value;e.preset=this.value}),n.appendChild(a),n.appendChild(i),n.appendChild(o),n.appendChild(r),n.appendChild(s),D){var l=document.getElementById("dg-save-locally"),c=document.getElementById("dg-local-explain");l.style.display="block";var u=document.getElementById("dg-local-storage");"true"===localStorage.getItem(b(e,"isLocal"))&&u.setAttribute("checked","checked"),t(),p.bind(u,"change",function(){e.useLocalStorage=!e.useLocalStorage,t()})}var d=document.getElementById("dg-new-constructor");p.bind(d,"keydown",function(e){!e.metaKey||67!==e.which&&67!=e.keyCode||L.hide()}),p.bind(i,"click",function(){d.innerHTML=JSON.stringify(e.getSaveObject(),void 0,2),L.show(),d.focus(),d.select()}),p.bind(o,"click",function(){e.save()}),p.bind(r,"click",function(){var t=prompt("Enter a new preset name.");t&&e.saveAs(t)}),p.bind(s,"click",function(){e.revert()})}function w(e){function t(t){return t.preventDefault(),o=t.clientX,p.addClass(e.__closeButton,z.CLASS_DRAG),p.bind(window,"mousemove",n),p.bind(window,"mouseup",i),!1}function n(t){return t.preventDefault(),e.width+=o-t.clientX,e.onResize(),o=t.clientX,!1}function i(){p.removeClass(e.__closeButton,z.CLASS_DRAG),p.unbind(window,"mousemove",n),p.unbind(window,"mouseup",i)}e.__resize_handle=document.createElement("div"),f.extend(e.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"});var o;p.bind(e.__resize_handle,"mousedown",t),p.bind(e.__closeButton,"mousedown",t),e.domElement.insertBefore(e.__resize_handle,e.domElement.firstElementChild)}function x(e,t){e.domElement.style.width=t+"px",e.__save_row&&e.autoPlace&&(e.__save_row.style.width=t+"px"),e.__closeButton&&(e.__closeButton.style.width=t+"px")}function E(e,t){var n={};return f.each(e.__rememberedObjects,function(i,o){var r={},s=e.__rememberedObjectIndecesToControllers[o];f.each(s,function(e,n){r[n]=t?e.initialValue:e.getValue()}),n[o]=r}),n}function C(e,t,n){var i=document.createElement("option");i.innerHTML=t,i.value=t,e.__preset_select.appendChild(i),n&&(e.__preset_select.selectedIndex=e.__preset_select.length-1)}function k(e){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].value==e.preset&&(e.__preset_select.selectedIndex=t)}function A(e,t){var n=e.__preset_select[e.__preset_select.selectedIndex];n.innerHTML=t?n.value+"*":n.value}function S(e){0!=e.length&&d(function(){S(e)}),f.each(e,function(e){e.updateDisplay()})}e.inject(n);var L,O,T="dg",M=72,R=20,N="Default",D=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}}(),j=!0,P=!1,F=[],z=function(e){function t(){localStorage.setItem(b(i,"gui"),JSON.stringify(i.getSaveObject()))}function n(){var e=i.getRoot();e.width+=1,f.defer(function(){e.width-=1})}var i=this;this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),p.addClass(this.domElement,T),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],e=e||{},e=f.defaults(e,{autoPlace:!0,width:z.DEFAULT_WIDTH}),e=f.defaults(e,{resizable:e.autoPlace,hideable:e.autoPlace}),f.isUndefined(e.load)?e.load={preset:N}:e.preset&&(e.load.preset=e.preset),f.isUndefined(e.parent)&&e.hideable&&F.push(this),e.resizable=f.isUndefined(e.parent)&&e.resizable,e.autoPlace&&f.isUndefined(e.scrollable)&&(e.scrollable=!0);var o=D&&"true"===localStorage.getItem(b(this,"isLocal"));if(Object.defineProperties(this,{parent:{get:function(){return e.parent}},scrollable:{get:function(){return e.scrollable}},autoPlace:{get:function(){return e.autoPlace}},preset:{get:function(){return i.parent?i.getRoot().preset:e.load.preset},set:function(t){i.parent?i.getRoot().preset=t:e.load.preset=t,k(this),i.revert()}},width:{get:function(){return e.width},set:function(t){e.width=t,x(i,t)}},name:{get:function(){return e.name},set:function(t){e.name=t,s&&(s.innerHTML=e.name)}},closed:{get:function(){return e.closed},set:function(t){e.closed=t,e.closed?p.addClass(i.__ul,z.CLASS_CLOSED):p.removeClass(i.__ul,z.CLASS_CLOSED),this.onResize(),i.__closeButton&&(i.__closeButton.innerHTML=t?z.TEXT_OPEN:z.TEXT_CLOSED)}},load:{get:function(){return e.load}},useLocalStorage:{get:function(){return o},set:function(e){D&&(o=e,e?p.bind(window,"unload",t):p.unbind(window,"unload",t),localStorage.setItem(b(i,"isLocal"),e))}}}),f.isUndefined(e.parent)){if(e.closed=!1,p.addClass(this.domElement,z.CLASS_MAIN),p.makeSelectable(this.domElement,!1),D&&o){i.useLocalStorage=!0;var r=localStorage.getItem(b(this,"gui"));r&&(e.load=JSON.parse(r))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=z.TEXT_CLOSED,p.addClass(this.__closeButton,z.CLASS_CLOSE_BUTTON),this.domElement.appendChild(this.__closeButton),p.bind(this.__closeButton,"click",function(){i.closed=!i.closed})}else{void 0===e.closed&&(e.closed=!0);var s=document.createTextNode(e.name);p.addClass(s,"controller-name");var a=_(i,s),l=function(e){return e.preventDefault(),i.closed=!i.closed,!1};p.addClass(this.__ul,z.CLASS_CLOSED),p.addClass(a,"title"),p.bind(a,"click",l),e.closed||(this.closed=!1)}e.autoPlace&&(f.isUndefined(e.parent)&&(j&&(O=document.createElement("div"),p.addClass(O,T),p.addClass(O,z.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(O),j=!1),O.appendChild(this.domElement),p.addClass(this.domElement,z.CLASS_AUTO_PLACE)),this.parent||x(i,e.width)),p.bind(window,"resize",function(){i.onResize()}),p.bind(this.__ul,"webkitTransitionEnd",function(){i.onResize()}),p.bind(this.__ul,"transitionend",function(){i.onResize()}),p.bind(this.__ul,"oTransitionEnd",function(){i.onResize()}),this.onResize(),e.resizable&&w(this);i.getRoot();e.parent||n()};return z.toggleHide=function(){P=!P,f.each(F,function(e){e.domElement.style.zIndex=P?-999:999,e.domElement.style.opacity=P?0:1})},z.CLASS_AUTO_PLACE="a",z.CLASS_AUTO_PLACE_CONTAINER="ac",z.CLASS_MAIN="main",z.CLASS_CONTROLLER_ROW="cr",z.CLASS_TOO_TALL="taller-than-window",z.CLASS_CLOSED="closed",z.CLASS_CLOSE_BUTTON="close-button",z.CLASS_DRAG="drag",z.DEFAULT_WIDTH=245,z.TEXT_CLOSED="Close Controls",z.TEXT_OPEN="Open Controls",p.bind(window,"keydown",function(e){"text"===document.activeElement.type||e.which!==M&&e.keyCode!=M||z.toggleHide()},!1),f.extend(z.prototype,{add:function(e,t){return m(this,e,t,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(e,t){return m(this,e,t,{color:!0})},remove:function(e){this.__ul.removeChild(e.__li),this.__controllers.slice(this.__controllers.indexOf(e),1);var t=this;f.defer(function(){t.onResize()})},destroy:function(){this.autoPlace&&O.removeChild(this.domElement)},addFolder:function(e){if(void 0!==this.__folders[e])throw new Error('You already have a folder in this GUI by the name "'+e+'"');var t={name:e,parent:this};t.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[e]&&(t.closed=this.load.folders[e].closed,t.load=this.load.folders[e]);var n=new z(t);this.__folders[e]=n;var i=_(this,n.domElement);return p.addClass(i,"folder"),n},open:function(){this.closed=!1},close:function(){this.closed=!0},onResize:function(){var e=this.getRoot();if(e.scrollable){var t=p.getOffset(e.__ul).top,n=0;f.each(e.__ul.childNodes,function(t){e.autoPlace&&t===e.__save_row||(n+=p.getHeight(t))}),window.innerHeight-t-R<n?(p.addClass(e.domElement,z.CLASS_TOO_TALL),e.__ul.style.height=window.innerHeight-t-R+"px"):(p.removeClass(e.domElement,z.CLASS_TOO_TALL),e.__ul.style.height="auto")}e.__resize_handle&&f.defer(function(){e.__resize_handle.style.height=e.__ul.offsetHeight+"px"}),e.__closeButton&&(e.__closeButton.style.width=e.width+"px")},remember:function(){if(f.isUndefined(L)&&(L=new h,L.domElement.innerHTML=t),this.parent)throw new Error("You can only call remember on a top level GUI.");var e=this;f.each(Array.prototype.slice.call(arguments),function(t){0==e.__rememberedObjects.length&&y(e),-1==e.__rememberedObjects.indexOf(t)&&e.__rememberedObjects.push(t)}),this.autoPlace&&x(this,this.width)},getRoot:function(){for(var e=this;e.parent;)e=e.parent;return e},getSaveObject:function(){var e=this.load;return e.closed=this.closed,this.__rememberedObjects.length>0&&(e.preset=this.preset,e.remembered||(e.remembered={}),e.remembered[this.preset]=E(this)),e.folders={},f.each(this.__folders,function(t,n){e.folders[n]=t.getSaveObject()}),e},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=E(this),A(this,!1)},saveAs:function(e){this.load.remembered||(this.load.remembered={},this.load.remembered[N]=E(this,!0)),this.load.remembered[e]=E(this),this.preset=e,C(this,e,!0)},revert:function(e){f.each(this.__controllers,function(t){this.getRoot().load.remembered?v(e||this.getRoot(),t):t.setValue(t.initialValue)},this),f.each(this.__folders,function(e){e.revert(e)}),e||A(this.getRoot(),!1)},listen:function(e){var t=0==this.__listening.length;this.__listening.push(e),t&&S(this.__listening)}}),z}(i.utils.css,'<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n      \n    </div>\n    \n  </div>\n\n</div>',".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear;border:0;position:absolute;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-x:hidden}.dg.a.has-save ul{margin-top:27px}.dg.a.has-save ul.closed{margin-top:0}.dg.a .save-row{position:fixed;top:0;z-index:1002}.dg li{-webkit-transition:height 0.1s ease-out;-o-transition:height 0.1s ease-out;-moz-transition:height 0.1s ease-out;transition:height 0.1s ease-out}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;overflow:hidden;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li > *{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:9px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2fa1d6}.dg .cr.number input[type=text]{color:#2fa1d6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2fa1d6}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n",i.controllers.factory=function(e,t,n,i,o,r,s){return function(a,l){var c=a[l];return s.isArray(arguments[2])||s.isObject(arguments[2])?new e(a,l,arguments[2]):s.isNumber(c)?s.isNumber(arguments[2])&&s.isNumber(arguments[3])?new n(a,l,arguments[2],arguments[3]):new t(a,l,{min:arguments[2],max:arguments[3]}):s.isString(c)?new i(a,l):s.isFunction(c)?new o(a,l,""):s.isBoolean(c)?new r(a,l):void 0}}(i.controllers.OptionController,i.controllers.NumberControllerBox,i.controllers.NumberControllerSlider,i.controllers.StringController=function(e,t,n){var i=function(e,n){function o(){s.setValue(s.__input.value)}function r(){s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}i.superclass.call(this,e,n);var s=this;this.__input=document.createElement("input"),this.__input.setAttribute("type","text"),t.bind(this.__input,"keyup",o),t.bind(this.__input,"change",o),t.bind(this.__input,"blur",r),t.bind(this.__input,"keydown",function(e){13===e.keyCode&&this.blur()}),this.updateDisplay(),this.domElement.appendChild(this.__input)};return i.superclass=e,n.extend(i.prototype,e.prototype,{updateDisplay:function(){return t.isActive(this.__input)||(this.__input.value=this.getValue()),i.superclass.prototype.updateDisplay.call(this)}}),i}(i.controllers.Controller,i.dom.dom,i.utils.common),i.controllers.FunctionController,i.controllers.BooleanController,i.utils.common),i.controllers.Controller,i.controllers.BooleanController,i.controllers.FunctionController,i.controllers.NumberControllerBox,i.controllers.NumberControllerSlider,i.controllers.OptionController,i.controllers.ColorController=function(e,t,n,i,o){function r(e,t,n,i){e.style.background="",o.each(l,function(o){e.style.cssText+="background: "+o+"linear-gradient("+t+", "+n+" 0%, "+i+" 100%); "})}function s(e){e.style.background="",e.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",e.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}var a=function(e,l){function c(e){p(e),t.bind(window,"mousemove",p),t.bind(window,"mouseup",u)}function u(){t.unbind(window,"mousemove",p),t.unbind(window,"mouseup",u)}function d(){var e=i(this.value);e!==!1?(m.__color.__state=e,m.setValue(m.__color.toOriginal())):this.value=m.__color.toString()}function h(){t.unbind(window,"mousemove",f),t.unbind(window,"mouseup",h)}function p(e){e.preventDefault();var n=t.getWidth(m.__saturation_field),i=t.getOffset(m.__saturation_field),o=(e.clientX-i.left+document.body.scrollLeft)/n,r=1-(e.clientY-i.top+document.body.scrollTop)/n;return r>1?r=1:0>r&&(r=0),o>1?o=1:0>o&&(o=0),m.__color.v=r,m.__color.s=o,m.setValue(m.__color.toOriginal()),!1}function f(e){e.preventDefault();var n=t.getHeight(m.__hue_field),i=t.getOffset(m.__hue_field),o=1-(e.clientY-i.top+document.body.scrollTop)/n;return o>1?o=1:0>o&&(o=0),m.__color.h=360*o,m.setValue(m.__color.toOriginal()),!1}a.superclass.call(this,e,l),this.__color=new n(this.getValue()),this.__temp=new n(0);var m=this;this.domElement=document.createElement("div"),t.makeSelectable(this.domElement,!1),this.__selector=document.createElement("div"),this.__selector.className="selector",this.__saturation_field=document.createElement("div"),this.__saturation_field.className="saturation-field",this.__field_knob=document.createElement("div"),this.__field_knob.className="field-knob",this.__field_knob_border="2px solid ",this.__hue_knob=document.createElement("div"),this.__hue_knob.className="hue-knob",this.__hue_field=document.createElement("div"),this.__hue_field.className="hue-field",this.__input=document.createElement("input"),this.__input.type="text",this.__input_textShadow="0 1px 1px ",t.bind(this.__input,"keydown",function(e){13===e.keyCode&&d.call(this)}),t.bind(this.__input,"blur",d),t.bind(this.__selector,"mousedown",function(e){t.addClass(this,"drag").bind(window,"mouseup",function(e){t.removeClass(m.__selector,"drag")})});var _=document.createElement("div");o.extend(this.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),o.extend(this.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:this.__field_knob_border+(this.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),o.extend(this.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),o.extend(this.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),o.extend(_.style,{width:"100%",height:"100%",background:"none"}),r(_,"top","rgba(0,0,0,0)","#000"),o.extend(this.__hue_field.style,{width:"15px",height:"100px",display:"inline-block",border:"1px solid #555",cursor:"ns-resize"}),s(this.__hue_field),o.extend(this.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:this.__input_textShadow+"rgba(0,0,0,0.7)"}),t.bind(this.__saturation_field,"mousedown",c),t.bind(this.__field_knob,"mousedown",c),t.bind(this.__hue_field,"mousedown",function(e){f(e),t.bind(window,"mousemove",f),t.bind(window,"mouseup",h)}),this.__saturation_field.appendChild(_),this.__selector.appendChild(this.__field_knob),this.__selector.appendChild(this.__saturation_field),this.__selector.appendChild(this.__hue_field),this.__hue_field.appendChild(this.__hue_knob),this.domElement.appendChild(this.__input),this.domElement.appendChild(this.__selector),this.updateDisplay()};a.superclass=e,o.extend(a.prototype,e.prototype,{updateDisplay:function(){var e=i(this.getValue());if(e!==!1){var t=!1;o.each(n.COMPONENTS,function(n){return o.isUndefined(e[n])||o.isUndefined(this.__color.__state[n])||e[n]===this.__color.__state[n]?void 0:(t=!0,{})},this),t&&o.extend(this.__color.__state,e)}o.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var s=this.__color.v<.5||this.__color.s>.5?255:0,a=255-s;o.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toString(),border:this.__field_knob_border+"rgb("+s+","+s+","+s+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,r(this.__saturation_field,"left","#fff",this.__temp.toString()),o.extend(this.__input.style,{backgroundColor:this.__input.value=this.__color.toString(),color:"rgb("+s+","+s+","+s+")",textShadow:this.__input_textShadow+"rgba("+a+","+a+","+a+",.7)"})}});var l=["-moz-","-o-","-webkit-","-ms-",""];return a}(i.controllers.Controller,i.dom.dom,i.color.Color=function(e,t,n,i){function o(e,t,n){Object.defineProperty(e,t,{get:function(){return"RGB"===this.__state.space?this.__state[t]:(s(this,t,n),this.__state[t])},set:function(e){"RGB"!==this.__state.space&&(s(this,t,n),this.__state.space="RGB"),this.__state[t]=e}})}function r(e,t){Object.defineProperty(e,t,{get:function(){return"HSV"===this.__state.space?this.__state[t]:(a(this),this.__state[t])},set:function(e){"HSV"!==this.__state.space&&(a(this),this.__state.space="HSV"),this.__state[t]=e}})}function s(e,n,o){if("HEX"===e.__state.space)e.__state[n]=t.component_from_hex(e.__state.hex,o);else{if("HSV"!==e.__state.space)throw"Corrupted color state";i.extend(e.__state,t.hsv_to_rgb(e.__state.h,e.__state.s,e.__state.v))}}function a(e){var n=t.rgb_to_hsv(e.r,e.g,e.b);i.extend(e.__state,{s:n.s,v:n.v}),i.isNaN(n.h)?i.isUndefined(e.__state.h)&&(e.__state.h=0):e.__state.h=n.h}var l=function(){if(this.__state=e.apply(this,arguments),this.__state===!1)throw"Failed to interpret color arguments";this.__state.a=this.__state.a||1};return l.COMPONENTS=["r","g","b","h","s","v","hex","a"],i.extend(l.prototype,{toString:function(){return n(this)},toOriginal:function(){return this.__state.conversion.write(this)}}),o(l.prototype,"r",2),o(l.prototype,"g",1),o(l.prototype,"b",0),r(l.prototype,"h"),r(l.prototype,"s"),r(l.prototype,"v"),Object.defineProperty(l.prototype,"a",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}}),Object.defineProperty(l.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=t.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(e){this.__state.space="HEX",this.__state.hex=e}}),l}(i.color.interpret,i.color.math=function(){var e;return{hsv_to_rgb:function(e,t,n){var i=Math.floor(e/60)%6,o=e/60-Math.floor(e/60),r=n*(1-t),s=n*(1-o*t),a=n*(1-(1-o)*t),l=[[n,a,r],[s,n,r],[r,n,a],[r,s,n],[a,r,n],[n,r,s]][i];return{r:255*l[0],g:255*l[1],b:255*l[2]}},rgb_to_hsv:function(e,t,n){var i,o,r=Math.min(e,t,n),s=Math.max(e,t,n),a=s-r;return 0==s?{h:0/0,s:0,v:0}:(o=a/s,i=e==s?(t-n)/a:t==s?2+(n-e)/a:4+(e-t)/a,i/=6,0>i&&(i+=1),{h:360*i,s:o,v:s/255})},rgb_to_hex:function(e,t,n){var i=this.hex_with_component(0,2,e);return i=this.hex_with_component(i,1,t),i=this.hex_with_component(i,0,n)},component_from_hex:function(e,t){return e>>8*t&255},hex_with_component:function(t,n,i){return i<<(e=8*n)|t&~(255<<e)}}}(),i.color.toString,i.utils.common),i.color.interpret,i.utils.common),i.utils.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)}}(),i.dom.CenteredDiv=function(e,t){var n=function(){this.backgroundElement=document.createElement("div"),t.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear"}),e.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),t.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var n=this;e.bind(this.backgroundElement,"click",function(){n.hide()})};return n.prototype.show=function(){var e=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),t.defer(function(){e.backgroundElement.style.opacity=1,e.domElement.style.opacity=1,e.domElement.style.webkitTransform="scale(1)"})},n.prototype.hide=function(){var t=this,n=function(){t.domElement.style.display="none",t.backgroundElement.style.display="none",e.unbind(t.domElement,"webkitTransitionEnd",n),e.unbind(t.domElement,"transitionend",n),e.unbind(t.domElement,"oTransitionEnd",n)};e.bind(this.domElement,"webkitTransitionEnd",n),e.bind(this.domElement,"transitionend",n),e.bind(this.domElement,"oTransitionEnd",n),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"},n.prototype.layout=function(){this.domElement.style.left=window.innerWidth/2-e.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-e.getHeight(this.domElement)/2+"px"},n}(i.dom.dom,i.utils.common),i.dom.dom,i.utils.common)},{}],9:[function(e,t,n){var i,o=Object.prototype.hasOwnProperty,r=Object.prototype.toString,s=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===r.call(e)},a=function(e){"use strict";if(!e||"[object Object]"!==r.call(e))return!1;var t=o.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&o.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!n)return!1;var s;for(s in e);return s===i||o.call(e,s)};t.exports=function l(){"use strict";var e,t,n,o,r,c,u=arguments[0],d=1,h=arguments.length,p=!1;for("boolean"==typeof u?(p=u,u=arguments[1]||{},d=2):("object"!=typeof u&&"function"!=typeof u||null==u)&&(u={});h>d;++d)if(e=arguments[d],
null!=e)for(t in e)n=u[t],o=e[t],u!==o&&(p&&o&&(a(o)||(r=s(o)))?(r?(r=!1,c=n&&s(n)?n:[]):c=n&&a(n)?n:{},u[t]=l(p,c,o)):o!==i&&(u[t]=o));return u}},{}],10:[function(e,t,n){"object"==typeof window.performance?window.performance.now?t.exports=function(){return window.performance.now()}:window.performance.webkitNow&&(t.exports=function(){return window.performance.webkitNow()}):t.exports=Date.now?Date.now:function(){return(new Date).getTime()}},{}],11:[function(e,t,n){function i(e,t,n,i){e[o](s+t,"wheel"==r?n:function(e){!e&&(e=window.event);var t={originalEvent:e,target:e.target||e.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==e.type?0:1,deltaX:0,delatZ:0,preventDefault:function(){e.preventDefault?e.preventDefault():e.returnValue=!1}};return"mousewheel"==r?(t.deltaY=-1/40*e.wheelDelta,e.wheelDeltaX&&(t.deltaX=-1/40*e.wheelDeltaX)):t.deltaY=e.detail,n(t)},i||!1)}var o,r,s="";window.addEventListener?o="addEventListener":(o="attachEvent",s="on"),r="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",t.exports=function(e,t,n){i(e,r,t,n),"DOMMouseScroll"==r&&i(e,"MozMousePixelScroll",t,n)}},{}],12:[function(e,t,n){for(var i=0,o=["ms","moz","webkit","o"],r=0;r<o.length&&!window.requestAnimationFrame;++r)window.requestAnimationFrame=window[o[r]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[o[r]+"CancelAnimationFrame"]||window[o[r]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){var n=(new Date).getTime(),o=Math.max(0,16-(n-i)),r=window.setTimeout(function(){e(n+o)},o);return i=n+o,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})},{}],13:[function(e,t,n){"use strict";function i(e,t,n,i,o,r){var s=["function ",e,"(a,l,h,",i.join(","),"){",r?"":"var i=",n?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a",o?".get(m)":"[m]"];return r?s.push(t.indexOf("c")<0?";if(x===y){return m}else if(x<=y){":";var p=c(x,y);if(p===0){return m}else if(p<=0){"):s.push(";if(",t,"){i=m;"),s.push(n?"l=m+1}else{h=m-1}":"h=m-1}else{l=m+1}"),s.push("}"),s.push(r?"return -1};":"return i};"),s.join("")}function o(e,t,n,o){var r=new Function([i("A","x"+e+"y",t,["y"],!1,o),i("B","x"+e+"y",t,["y"],!0,o),i("P","c(x,y)"+e+"0",t,["y","c"],!1,o),i("Q","c(x,y)"+e+"0",t,["y","c"],!0,o),"function dispatchBsearch",n,"(a,y,c,l,h){if(a.shape){if(typeof(c)==='function'){return Q(a,(l===undefined)?0:l|0,(h===undefined)?a.shape[0]-1:h|0,y,c)}else{return B(a,(c===undefined)?0:c|0,(l===undefined)?a.shape[0]-1:l|0,y)}}else{if(typeof(c)==='function'){return P(a,(l===undefined)?0:l|0,(h===undefined)?a.length-1:h|0,y,c)}else{return A(a,(c===undefined)?0:c|0,(l===undefined)?a.length-1:l|0,y)}}}return dispatchBsearch",n].join(""));return r()}t.exports={ge:o(">=",!1,"GE"),gt:o(">",!1,"GT"),lt:o("<",!0,"LT"),le:o("<=",!0,"LE"),eq:o("-",!0,"EQ",!0)}},{}],14:[function(t,n,i){!function(t,i){"undefined"!=typeof n?n.exports=i():"function"==typeof e&&"object"==typeof e.amd?e(i):this[t]=i()}("domready",function(){var e,t=[],n=document,i=n.documentElement.doScroll,o="DOMContentLoaded",r=(i?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return r||n.addEventListener(o,e=function(){for(n.removeEventListener(o,e),r=1;e=t.shift();)e()}),function(e){r?setTimeout(e,0):t.push(e)}})},{}],15:[function(e,t,n){"use strict";function i(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}t.exports=i},{}],16:[function(e,t,n){"use strict";function i(e){for(var t=new Array(e),n=0;e>n;++n)t[n]=n;return t}t.exports=i},{}],17:[function(e,t,n){"use strict";function i(e,t){for(var n=1,i=e.length,o=e[0],r=e[0],s=1;i>s;++s)if(r=o,o=e[s],t(o,r)){if(s===n){n++;continue}e[n++]=o}return e.length=n,e}function o(e){for(var t=1,n=e.length,i=e[0],o=e[0],r=1;n>r;++r,o=i)if(o=i,i=e[r],i!==o){if(r===t){t++;continue}e[t++]=i}return e.length=t,e}function r(e,t,n){return 0===e.length?e:t?(n||e.sort(t),i(e,t)):(n||e.sort(),o(e))}t.exports=r},{}],18:[function(e,t,n){var i,o="undefined"!=typeof window?window.navigator.userAgent:"",r=/OS X/.test(o),s=/Opera/.test(o),a=!/like Gecko/.test(o)&&!s,l=t.exports={0:r?"<menu>":"<UNK>",1:"<mouse 1>",2:"<mouse 2>",3:"<break>",4:"<mouse 3>",5:"<mouse 4>",6:"<mouse 5>",8:"<backspace>",9:"<tab>",12:"<clear>",13:"<enter>",16:"<shift>",17:"<control>",18:"<alt>",19:"<pause>",20:"<caps-lock>",21:"<ime-hangul>",23:"<ime-junja>",24:"<ime-final>",25:"<ime-kanji>",27:"<escape>",28:"<ime-convert>",29:"<ime-nonconvert>",30:"<ime-accept>",31:"<ime-mode-change>",27:"<escape>",32:"<space>",33:"<page-up>",34:"<page-down>",35:"<end>",36:"<home>",37:"<left>",38:"<up>",39:"<right>",40:"<down>",41:"<select>",42:"<print>",43:"<execute>",44:"<snapshot>",45:"<insert>",46:"<delete>",47:"<help>",91:"<meta>",92:"<meta>",93:r?"<meta>":"<menu>",95:"<sleep>",106:"<num-*>",107:"<num-+>",108:"<num-enter>",109:"<num-->",110:"<num-.>",111:"<num-/>",144:"<num-lock>",145:"<scroll-lock>",160:"<shift-left>",161:"<shift-right>",162:"<control-left>",163:"<control-right>",164:"<alt-left>",165:"<alt-right>",166:"<browser-back>",167:"<browser-forward>",168:"<browser-refresh>",169:"<browser-stop>",170:"<browser-search>",171:"<browser-favorites>",172:"<browser-home>",173:r&&a?"-":"<volume-mute>",174:"<volume-down>",175:"<volume-up>",176:"<next-track>",177:"<prev-track>",178:"<stop>",179:"<play-pause>",180:"<launch-mail>",181:"<launch-media-select>",182:"<launch-app 1>",183:"<launch-app 2>",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",223:"<meta>",224:"<meta>",226:"<alt-gr>",229:"<ime-process>",231:s?"`":"<unicode>",246:"<attention>",247:"<crsel>",248:"<exsel>",249:"<erase-eof>",250:"<play>",251:"<zoom>",252:"<no-name>",253:"<pa-1>",254:"<clear>"};for(i=58;65>i;++i)l[i]=String.fromCharCode(i);for(i=48;58>i;++i)l[i]=i-48+"";for(i=65;91>i;++i)l[i]=String.fromCharCode(i);for(i=96;106>i;++i)l[i]="<num-"+(i-96)+">";for(i=112;136>i;++i)l[i]="F"+(i-111)},{}],19:[function(e,t,n){"use strict";function i(e){return P.eq(V,e)}function o(e){return i(I[e])}function r(){T.call(this),this._curKeyState=new Array(V.length),this._pressCount=new Array(V.length),this._releaseCount=new Array(V.length),this._tickInterval=null,this._rafHandle=null,this._tickRate=0,this._lastTick=B(),this._frameTime=0,this._paused=!0,this._width=0,this._height=0,this._wantFullscreen=!1,this._wantPointerLock=!1,this._fullscreenActive=!1,this._pointerLockActive=!1,this._render=p.bind(void 0,this),this.preventDefaults=!0,this.stopPropagation=!1;for(var e=0;e<V.length;++e)this._curKeyState[e]=!1,this._pressCount[e]=this._releaseCount[e]=0;this.element=null,this.bindings={},this.frameSkip=100,this.tickCount=0,this.frameCount=0,this.startTime=B(),this.tickTime=this._tickRate,this.frameTime=10,this.stickyFullscreen=!1,this.stickyPointLock=!1,this.scroll=[0,0,0],this.mouseX=0,this.mouseY=0,this.prevMouseX=0,this.prevMouseY=0}function s(e,t,n){if(n in t){for(var o=t[n],r=0,s=o.length;s>r;++r)if(e[i(o[r])])return!0;return!1}var a=i(n);return a>=0?e[a]:!1}function a(e,t,n){if(n in t){for(var o=t[n],r=0,s=0,a=o.length;a>s;++s)r+=e[i(o[s])];return r}var l=i(n);return l>=0?e[l]:0}function l(e){var t=e.element;if(e._wantFullscreen&&!e._fullscreenActive){var n=t.requestFullscreen||t.requestFullScreen||t.webkitRequestFullscreen||t.webkitRequestFullScreen||t.mozRequestFullscreen||t.mozRequestFullScreen||function(){};n.call(t)}if(e._wantPointerLock&&!e._pointerLockActive){var i=t.requestPointerLock||t.webkitRequestPointerLock||t.mozRequestPointerLock||t.msRequestPointerLock||t.oRequestPointerLock||function(){};i.call(t)}}function c(e){e._fullscreenActive=document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||!1,!e.stickyFullscreen&&e._fullscreenActive&&(e._wantFullscreen=!1)}function u(e,t){e._pointerLockActive=e.element===(document.pointerLockElement||document.mozPointerLockElement||document.webkitPointerLockElement||null),!e.stickyPointerLock&&e._pointerLockActive&&(e._wantPointerLock=!1)}function d(e,t,n){var i=e._curKeyState[t];i!==n&&(n?e._pressCount[t]++:e._releaseCount[t]++,e._curKeyState[t]=n)}function h(e){for(var t,n,i,o=B()+e.frameSkip,r=e._pressCount,s=e._releaseCount,a=e._tickRate,l=V.length;!e._paused&&B()>=e._lastTick+a;){if(B()>o)return void(e._lastTick=B()+a);for(n=B(),e.emit("tick"),i=B(),e.tickTime=i-n,++e.tickCount,e._lastTick+=a,t=0;l>t;++t)r[t]=s[t]=0;e._pointerLockActive?(e.prevMouseX=e.mouseX=e.width>>1,e.prevMouseY=e.mouseY=e.height>>1):(e.prevMouseX=e.mouseX,e.prevMouseY=e.mouseY),e.scroll[0]=e.scroll[1]=e.scroll[2]=0}}function p(e){e._rafHandle=requestAnimationFrame(e._render),h(e);var t;t=e._paused?e._frameTime:z(1,(B()-e._lastTick)/e._tickRate),++e.frameCount;var n=B();e.emit("render",t);var i=B();e.frameTime=i-n}function f(e){return document.activeElement===document.body||document.activeElement===e.element}function m(e,t){e.preventDefaults&&t.preventDefault(),e.stopPropagation&&t.stopPropagation()}function _(e,t){m(e,t);var n=o(t.keyCode||t["char"]||t.which||t.charCode);n>=0&&d(e,n,!1)}function g(e,t){if(f(e))if(m(e,t),t.metaKey)A(e,t);else{var n=o(t.keyCode||t["char"]||t.which||t.charCode);n>=0&&d(e,n,!0)}}function v(e,t){for(var n=0;32>n;++n)d(e,Y[n],!!(t&1<<n))}function b(e,t){if(m(e,t),e._pointerLockActive){var n=t.movementX||t.mozMovementX||t.webkitMovementX||0,i=t.movementY||t.mozMovementY||t.webkitMovementY||0;e.mouseX+=n,e.mouseY+=i}else e.mouseX=t.clientX-e.element.offsetLeft,e.mouseY=t.clientY-e.element.offsetTop;return!1}function y(e,t){return m(e,t),d(e,Y[t.button],!0),!1}function w(e,t){return m(e,t),d(e,Y[t.button],!1),!1}function x(e,t){return m(e,t),e._pointerLockActive?(e.prevMouseX=e.mouseX=e.width>>1,e.prevMouseY=e.mouseY=e.height>>1):(e.prevMouseX=e.mouseX=t.clientX-e.element.offsetLeft,e.prevMouseY=e.mouseY=t.clientY-e.element.offsetTop),!1}function E(e,t){return m(e,t),v(e,0),!1}function C(e,t){m(e,t);var n=1;switch(t.deltaMode){case 0:n=1;break;case 1:n=12;break;case 2:n=e.height}return e.scroll[0]+=t.deltaX*n,e.scroll[1]+=t.deltaY*n,e.scroll[2]+=t.deltaZ*n||0,!1}function k(e,t){return m(e,t),!1}function A(e,t){var n,i=V.length,o=e._curKeyState,r=e._releaseCount;for(n=0;i>n;++n)o[n]&&++r[n],o[n]=!1;return!1}function S(e,t){var n=0|e.element.clientWidth,i=0|e.element.clientHeight;(n!==e._width||i!==e._height)&&(e._width=n,e._height=i,e.emit("resize",n,i))}function L(){var e=document.createElement("div");return e.tabindex=1,e.style.position="absolute",e.style.left="0px",e.style.right="0px",e.style.top="0px",e.style.bottom="0px",e.style.height="100%",e.style.overflow="hidden",document.body.appendChild(e),document.body.style.overflow="hidden",document.body.style.height="100%",e}function O(e){e=e||{};var t=!!e.fullscreen,n=t;void 0!==typeof e.pointerLock&&(n=!!e.pointerLock);var i=new r;return i._tickRate=e.tickRate||30,i.frameSkip=e.frameSkip||5*(i._tickRate+5),i.stickyFullscreen=!!e.stickyFullscreen||!!e.sticky,i.stickyPointerLock=!!e.stickPointerLock||!e.sticky,e.bindings&&(i.bindings=e.bindings),setTimeout(function(){R(function(){var o=e.element;if("string"==typeof o){var r=document.querySelector(o);r||(r=document.getElementById(o)),r||(r=document.getElementByClass(o)[0]),r||(r=L()),i.element=r}else i.element="object"==typeof o&&o?o:"function"==typeof o?o():L();i.element.style&&(i.element.style["-webkit-touch-callout"]="none",i.element.style["-webkit-user-select"]="none",i.element.style["-khtml-user-select"]="none",i.element.style["-moz-user-select"]="none",i.element.style["-ms-user-select"]="none",i.element.style["user-select"]="none"),i._width=i.element.clientWidth,i._height=i.element.clientHeight;var s=S.bind(void 0,i);if("undefined"!=typeof MutationObserver){var a=new MutationObserver(s);a.observe(i.element,{attributes:!0,subtree:!0})}else i.element.addEventListener("DOMSubtreeModified",s,!1);window.addEventListener("resize",s,!1),window.addEventListener("keydown",g.bind(void 0,i),!1),window.addEventListener("keyup",_.bind(void 0,i),!1),i.element.oncontextmenu=k.bind(void 0,i),i.element.addEventListener("mousedown",y.bind(void 0,i),!1),i.element.addEventListener("mouseup",w.bind(void 0,i),!1),i.element.addEventListener("mousemove",b.bind(void 0,i),!1),i.element.addEventListener("mouseenter",x.bind(void 0,i),!1);var d=E.bind(void 0,i);i.element.addEventListener("mouseleave",d,!1),i.element.addEventListener("mouseout",d,!1),window.addEventListener("mouseleave",d,!1),window.addEventListener("mouseout",d,!1);var h=A.bind(void 0,i);i.element.addEventListener("blur",h,!1),i.element.addEventListener("focusout",h,!1),i.element.addEventListener("focus",h,!1),window.addEventListener("blur",h,!1),window.addEventListener("focusout",h,!1),window.addEventListener("focus",h,!1),H(i.element,C.bind(void 0,i),!1);var p=c.bind(void 0,i);document.addEventListener("fullscreenchange",p,!1),document.addEventListener("mozfullscreenchange",p,!1),document.addEventListener("webkitfullscreenchange",p,!1),i.element.addEventListener("click",l.bind(void 0,i),!1);var f=u.bind(void 0,i);document.addEventListener("pointerlockchange",f,!1),document.addEventListener("mozpointerlockchange",f,!1),document.addEventListener("webkitpointerlockchange",f,!1),document.addEventListener("pointerlocklost",f,!1),document.addEventListener("webkitpointerlocklost",f,!1),document.addEventListener("mozpointerlocklost",f,!1),i.fullscreen=t,i.pointerLock=n,i.bind("mouse-left","mouse-1"),i.bind("mouse-right","mouse-3"),i.bind("mouse-middle","mouse-2"),i._lastTick=B(),i.startTime=B(),i.paused=!1,i.emit("init")})},0),i}var T=e("events").EventEmitter,M=e("util"),R=e("domready"),N=e("vkey"),D=e("invert-hash"),j=e("uniq"),P=e("binary-search-bounds"),F=e("iota-array"),z=Math.min;e("./lib/raf-polyfill.js");var H=e("./lib/mousewheel-polyfill.js"),B=e("./lib/hrtime-polyfill.js"),I=function(){var e,t,n=new Array(256);for(e=0;256>e;++e)n[e]="UNK";for(e in N)t=N[e],"<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&(t=t.substring(1,t.length-1)),t=t.replace(/\s/g,"-"),n[parseInt(e)]=t;return n}(),V=j(Object.keys(D(I)));M.inherits(r,T);var G=r.prototype;G.keyNames=V,G.bind=function(e){var t;t=e in this.bindings?this.bindings[e]:[];for(var n,o=1,r=arguments.length;r>o;++o)if(n=arguments[o],i(n)>=0)t.push(n);else if(n in this.bindings)for(var s=this.bindings[n],a=0;a<s.length;++a)t.push(s[a]);t=j(t),t.length>0&&(this.bindings[e]=t),this.emit("bind",e,t)},G.unbind=function(e){e in this.bindings&&delete this.bindings[e],this.emit("unbind",e)},G.down=function(e){return s(this._curKeyState,this.bindings,e)},G.wasDown=function(e){return this.down(e)||!!this.press(e)},G.up=function(e){return!this.down(e)},G.wasUp=function(e){return this.up(e)||!!this.release(e)},G.press=function(e){return a(this._pressCount,this.bindings,e)},G.release=function(e){return a(this._releaseCount,this.bindings,e)},Object.defineProperty(G,"paused",{get:function(){return this._paused},set:function(e){var t=!!e;t!==this._paused&&(this._paused?(this._paused=!1,this._lastTick=B()-Math.floor(this._frameTime*this._tickRate),this._tickInterval=setInterval(h,this._tickRate,this),this._rafHandle=requestAnimationFrame(this._render)):(this._paused=!0,this._frameTime=z(1,(B()-this._lastTick)/this._tickRate),clearInterval(this._tickInterval)))}});var U=document.exitFullscreen||document.cancelFullscreen||document.cancelFullScreen||document.webkitCancelFullscreen||document.webkitCancelFullScreen||document.mozCancelFullscreen||document.mozCancelFullScreen||function(){};Object.defineProperty(G,"fullscreen",{get:function(){return this._fullscreenActive},set:function(e){var t=!!e;return t?(this._wantFullscreen=!0,l(this)):(this._wantFullscreen=!1,U.call(document)),this._fullscreenActive}});var X=document.exitPointerLock||document.webkitExitPointerLock||document.mozExitPointerLock||function(){};Object.defineProperty(G,"pointerLock",{get:function(){return this._pointerLockActive},set:function(e){var t=!!e;return t?(this._wantPointerLock=!0,l(this)):(this._wantPointerLock=!1,X.call(document)),this._pointerLockActive}}),Object.defineProperty(G,"width",{get:function(){return this.element.clientWidth}}),Object.defineProperty(G,"height",{get:function(){return this.element.clientHeight}});var Y=F(32).map(function(e){return i("mouse-"+(e+1))});t.exports=O},{"./lib/hrtime-polyfill.js":10,"./lib/mousewheel-polyfill.js":11,"./lib/raf-polyfill.js":12,"binary-search-bounds":13,domready:14,events:1,"invert-hash":15,"iota-array":16,uniq:17,util:5,vkey:18}],20:[function(e,t,n){var i=function(){var e=Date.now(),t=e,n=0,i=1/0,o=0,r=0,s=1/0,a=0,l=0,c=0,u=document.createElement("div");u.id="stats",u.addEventListener("mousedown",function(e){e.preventDefault(),v(++c%2)},!1),u.style.cssText="width:80px;opacity:0.9;cursor:pointer";var d=document.createElement("div");d.id="fps",d.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#002",u.appendChild(d);var h=document.createElement("div");h.id="fpsText",h.style.cssText="color:#0ff;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",h.innerHTML="FPS",d.appendChild(h);var p=document.createElement("div");for(p.id="fpsGraph",p.style.cssText="position:relative;width:74px;height:30px;background-color:#0ff",d.appendChild(p);74>p.children.length;){var f=document.createElement("span");f.style.cssText="width:1px;height:30px;float:left;background-color:#113",p.appendChild(f)}var m=document.createElement("div");m.id="ms",m.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#020;display:none",u.appendChild(m);var _=document.createElement("div");_.id="msText",_.style.cssText="color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",_.innerHTML="MS",m.appendChild(_);var g=document.createElement("div");for(g.id="msGraph",g.style.cssText="position:relative;width:74px;height:30px;background-color:#0f0",m.appendChild(g);74>g.children.length;)f=document.createElement("span"),f.style.cssText="width:1px;height:30px;float:left;background-color:#131",g.appendChild(f);var v=function(e){switch(c=e){case 0:d.style.display="block",m.style.display="none";break;case 1:d.style.display="none",m.style.display="block"}};return{REVISION:12,domElement:u,setMode:v,begin:function(){e=Date.now()},end:function(){var c=Date.now();n=c-e,i=Math.min(i,n),o=Math.max(o,n),_.textContent=n+" MS ("+i+"-"+o+")";var u=Math.min(30,30-30*(n/200));return g.appendChild(g.firstChild).style.height=u+"px",l++,c>t+1e3&&(r=Math.round(1e3*l/(c-t)),s=Math.min(s,r),a=Math.max(a,r),h.textContent=r+" FPS ("+s+"-"+a+")",u=Math.min(30,30-30*(r/100)),p.appendChild(p.firstChild).style.height=u+"px",t=c,l=0),c},update:function(){e=this.end()}}};"object"==typeof t&&(t.exports=i)},{}],21:[function(e,t,n){"use strict";function i(e){return this instanceof i?(this.options=a(!0,{target:null,width:window.innerWidth,height:window.innerHeight,injectCache:!1,fullScreen:!1,theme:"dark",helperOptions:{},defaultSceneOptions:{fog:!0},init:r,tick:r,render:r,shellOptions:{}},e),this.scenes={},this.activeScene=null,this.cameras={},this.activeCamera=null,this.renderer=null,this.datgui=null,this.stats=null,this.shell=null,this.theme=null,this.__t3cache__={},void this.gameShell()):new i(e)}var o=function(e,t){if(!e)throw t||"assertion failed"},r=function(){},s=window.THREE,a=e("extend"),l=e("stats-js"),c=e("dat-gui"),u=e("game-shell"),d=e("./model/Coordinates"),h=e("./themes/");i.prototype.gameShell=function(){return this.shell=u(a(this.options.shellOptions,{element:this.options.target})),this.shell.on("init",this.init.bind(this)),this.shell.on("tick",this.tick.bind(this)),this.shell.on("render",this.render.bind(this)),this.shell.on("resize",this.resize.bind(this)),this},i.prototype.getOptions=function(){return this.options},i.prototype.init=function(){var e=this,t=e.getOptions();e.injectCache(t.injectCache),e.setTheme(t.theme),e.createDefaultRenderer(),e.createDefaultScene(),e.createDefaultCamera(),e.createDefaultLights(),e.initDatGui(),e.initStats(),e.initCoordinates(),e.options.init.call(this)},i.prototype.createDefaultRenderer=function(){var e=this,t=e.getOptions(),n=new s.WebGLRenderer({antialias:!0});return n.setClearColor(e.theme.clearColor,1),n.setSize(t.width,t.height),this.shell.element.appendChild(n.domElement),e.renderer=n,e},i.prototype.setActiveCamera=function(e){return this.activeCamera=this.cameras[e],this},i.prototype.addCamera=function(e,t){return console.assert(t instanceof s.PerspectiveCamera||t instanceof s.OrthographicCamera),this.cameras[e]=t,this},i.prototype.createDefaultCamera=function(){var e,t=this,n=t.getOptions(),i=n.width,o=n.height,r={fov:38,ratio:i/o,near:1,far:1e4};return e=new s.PerspectiveCamera(r.fov,r.ratio,r.near,r.far),e.position.set(500,300,500),n.fullScreen&&THREEx.WindowResize.bind(t.renderer,e),t.createCameraControls(e).addCamera("default",e).setActiveCamera("default"),t},i.prototype.createCameraControls=function(e){var t=this;return e.cameraControls=new s.OrbitControls(e,t.renderer.domElement),e.cameraControls.target.set(0,0,0),t},i.prototype.setActiveScene=function(e){return this.activeScene=this.scenes[e],this},i.prototype.addScene=function(e,t){return console.assert(t instanceof s.Scene),this.scenes[e]=t,this},i.prototype.createDefaultScene=function(){var e=this,t=e.getOptions(),n=new s.Scene;return t.defaultSceneOptions.fog&&(n.fog=new s.Fog(e.theme.fogColor,2e3,4e3)),e.addScene("default",n).setActiveScene("default"),e},i.prototype.createDefaultLights=function(){var e,t=this.scenes["default"];return e=new s.AmbientLight(2236962),t.add(e).cache("ambient-light-1"),e=new s.DirectionalLight(16777215,1),e.position.set(200,400,500),t.add(e).cache("directional-light-1"),e=new s.DirectionalLight(16777215,1),e.position.set(-500,250,-200),t.add(e).cache("directional-light-2"),this},i.prototype.setTheme=function(e){var t=this;return h[e]?t.theme=h[e]:console.warn("theme not found!"),t},i.prototype.initDatGui=function(){var e=this,t=new c.GUI({autoPlace:!1});a(t.domElement.style,{position:"absolute",top:"0px",right:"0px",zIndex:"1"}),this.shell.element.appendChild(t.domElement),e.datgui=t;var n=this.datgui.addFolder("game shell");return n.add(this.shell,"startTime"),n.add(this.shell,"tickCount").listen(),n.add(this.shell,"frameCount").listen(),n.add(this.shell,"frameSkip").listen(),n.add(this.shell,"tickTime").listen(),n.add(this.shell,"paused").listen(),n.add(this.shell,"fullscreen").listen(),e},i.prototype.initStats=function(){{var e,t=this;t.getOptions()}return e=new l,a(e.domElement.style,{position:"absolute",zIndex:1,bottom:"0px"}),this.shell.element.appendChild(e.domElement),t.stats=e,t},i.prototype.initCoordinates=function(){var e=this.getOptions();this.scenes["default"].add(new d(e.helperOptions,this.theme).initDatGui(this.datgui).mesh)},i.prototype.tick=function(){var e=this;e.options.tick.call(this)},i.prototype.render=function(e){var t=this;t.stats.update(),t.activeCamera.cameraControls&&t.activeCamera.cameraControls.update(e),t.renderer.render(t.activeScene,t.activeCamera),t.options.render.call(this,e)},i.prototype.injectCache=function(e){var t,n,i=this,r=s.Object3D.prototype.add,a=s.Object3D.prototype.remove,l=this.__t3cache__;e?(s.Object3D.prototype.add=function(e){return n="add",t=e,r.apply(this,arguments)},s.Object3D.prototype.remove=function(e){return n="remove",t=e,a.apply(this,arguments)},s.Object3D.prototype.cache=function(e){return o(t,"T3.Application.prototype.cache: this method needs a previous call to add/remove"),"add"===n?(t.name=t.name||e,o(t.name),l[t.name]=t):(o(t.name),delete l[t.name]),t=null,i}):s.Object3D.prototype.cache=function(){return this}},i.prototype.getFromCache=function(e){return this.__t3cache__[e]},i.prototype.resize=function(){this.renderer.setSize(window.innerWidth,window.innerHeight),this.activeCamera.aspect=window.innerWidth/window.innerHeight,this.activeCamera.updateProjectionMatrix()},t.exports=i},{"./model/Coordinates":24,"./themes/":26,"dat-gui":6,extend:9,"game-shell":19,"stats-js":20}],22:[function(e,t,n){e("./lib/OrbitControls");var i=e("extend"),o=e("./Application");i(o,{model:{Coordinates:e("./model/Coordinates")},themes:e("./themes/")}),t.exports=o},{"./Application":21,"./lib/OrbitControls":23,"./model/Coordinates":24,"./themes/":26,extend:9}],23:[function(e,t,n){var i=window.THREE;i.OrbitControls=function(e,t){function n(){return 2*Math.PI/60/60*h.autoRotateSpeed}function o(){return Math.pow(.95,h.zoomSpeed)}function r(e){if(h.enabled!==!1){if(e.preventDefault(),0===e.button){if(h.noRotate===!0)return;R=M.ROTATE,f.set(e.clientX,e.clientY)}else if(1===e.button){if(h.noZoom===!0)return;R=M.DOLLY,x.set(e.clientX,e.clientY)}else if(2===e.button){if(h.noPan===!0)return;R=M.PAN,g.set(e.clientX,e.clientY)}document.addEventListener("mousemove",s,!1),document.addEventListener("mouseup",a,!1),h.dispatchEvent(P)}}function s(e){if(h.enabled!==!1){e.preventDefault();var t=h.domElement===document?h.domElement.body:h.domElement;if(R===M.ROTATE){if(h.noRotate===!0)return;m.set(e.clientX,e.clientY),_.subVectors(m,f),h.rotateLeft(2*Math.PI*_.x/t.clientWidth*h.rotateSpeed),h.rotateUp(2*Math.PI*_.y/t.clientHeight*h.rotateSpeed),f.copy(m)}else if(R===M.DOLLY){if(h.noZoom===!0)return;E.set(e.clientX,e.clientY),C.subVectors(E,x),C.y>0?h.dollyIn():h.dollyOut(),x.copy(E)}else if(R===M.PAN){if(h.noPan===!0)return;v.set(e.clientX,e.clientY),b.subVectors(v,g),h.pan(b.x,b.y),g.copy(v)}h.update()}}function a(){h.enabled!==!1&&(document.removeEventListener("mousemove",s,!1),document.removeEventListener("mouseup",a,!1),h.dispatchEvent(F),R=M.NONE)}function l(e){if(h.enabled!==!1&&h.noZoom!==!0){e.preventDefault(),e.stopPropagation();var t=0;void 0!==e.wheelDelta?t=e.wheelDelta:void 0!==e.detail&&(t=-e.detail),t>0?h.dollyOut():h.dollyIn(),h.update(),h.dispatchEvent(P),h.dispatchEvent(F)}}function c(e){if(h.enabled!==!1){switch(e.touches.length){case 1:if(h.noRotate===!0)return;R=M.TOUCH_ROTATE,f.set(e.touches[0].pageX,e.touches[0].pageY);break;case 2:if(h.noZoom===!0)return;R=M.TOUCH_DOLLY;var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,i=Math.sqrt(t*t+n*n);x.set(0,i);break;case 3:if(h.noPan===!0)return;R=M.TOUCH_PAN,g.set(e.touches[0].pageX,e.touches[0].pageY);break;default:R=M.NONE}h.dispatchEvent(P)}}function u(e){if(h.enabled!==!1){e.preventDefault(),e.stopPropagation();var t=h.domElement===document?h.domElement.body:h.domElement;switch(e.touches.length){case 1:if(h.noRotate===!0)return;if(R!==M.TOUCH_ROTATE)return;m.set(e.touches[0].pageX,e.touches[0].pageY),_.subVectors(m,f),h.rotateLeft(2*Math.PI*_.x/t.clientWidth*h.rotateSpeed),h.rotateUp(2*Math.PI*_.y/t.clientHeight*h.rotateSpeed),f.copy(m),h.update();break;case 2:if(h.noZoom===!0)return;if(R!==M.TOUCH_DOLLY)return;var n=e.touches[0].pageX-e.touches[1].pageX,i=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(n*n+i*i);E.set(0,o),C.subVectors(E,x),C.y>0?h.dollyOut():h.dollyIn(),x.copy(E),h.update();break;case 3:if(h.noPan===!0)return;if(R!==M.TOUCH_PAN)return;v.set(e.touches[0].pageX,e.touches[0].pageY),b.subVectors(v,g),h.pan(b.x,b.y),g.copy(v),h.update();break;default:R=M.NONE}}}function d(){h.enabled!==!1&&(h.dispatchEvent(F),R=M.NONE)}this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.target=new i.Vector3,this.center=this.target,this.noZoom=!1,this.zoomSpeed=1,this.minDistance=0,this.maxDistance=1/0,this.noRotate=!1,this.rotateSpeed=1,this.noPan=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.noKeys=!1,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40};var h=this,p=1e-6,f=new i.Vector2,m=new i.Vector2,_=new i.Vector2,g=new i.Vector2,v=new i.Vector2,b=new i.Vector2,y=new i.Vector3,w=new i.Vector3,x=new i.Vector2,E=new i.Vector2,C=new i.Vector2,k=0,A=0,S=1,L=new i.Vector3,O=new i.Vector3,T=new i.Quaternion,M={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},R=M.NONE;this.target0=this.target.clone(),this.position0=this.object.position.clone();var N=(new i.Quaternion).setFromUnitVectors(e.up,new i.Vector3(0,1,0)),D=N.clone().inverse(),j={type:"change"},P={type:"start"},F={type:"end"};this.rotateLeft=function(e){void 0===e&&(e=n()),A-=e},this.rotateUp=function(e){void 0===e&&(e=n()),k-=e},this.panLeft=function(e){var t=this.object.matrix.elements;y.set(t[0],t[1],t[2]),y.multiplyScalar(-e),L.add(y)},this.panUp=function(e){var t=this.object.matrix.elements;y.set(t[4],t[5],t[6]),y.multiplyScalar(e),L.add(y)},this.pan=function(e,t){var n=h.domElement===document?h.domElement.body:h.domElement;if(void 0!==h.object.fov){var i=h.object.position,o=i.clone().sub(h.target),r=o.length();r*=Math.tan(h.object.fov/2*Math.PI/180),h.panLeft(2*e*r/n.clientHeight),h.panUp(2*t*r/n.clientHeight)}else void 0!==h.object.top?(h.panLeft(e*(h.object.right-h.object.left)/n.clientWidth),h.panUp(t*(h.object.top-h.object.bottom)/n.clientHeight)):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.")},this.dollyIn=function(e){void 0===e&&(e=o()),S/=e},this.dollyOut=function(e){void 0===e&&(e=o()),S*=e},this.update=function(){var e=this.object.position;w.copy(e).sub(this.target),w.applyQuaternion(N);var t=Math.atan2(w.x,w.z),i=Math.atan2(Math.sqrt(w.x*w.x+w.z*w.z),w.y);this.autoRotate&&this.rotateLeft(n()),t+=A,i+=k,i=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,i)),i=Math.max(p,Math.min(Math.PI-p,i));var o=w.length()*S;o=Math.max(this.minDistance,Math.min(this.maxDistance,o)),this.target.add(L),w.x=o*Math.sin(i)*Math.sin(t),w.y=o*Math.cos(i),w.z=o*Math.sin(i)*Math.cos(t),w.applyQuaternion(D),e.copy(this.target).add(w),this.object.lookAt(this.target),A=0,k=0,S=1,L.set(0,0,0),(O.distanceToSquared(this.object.position)>p||8*(1-T.dot(this.object.quaternion))>p)&&(this.dispatchEvent(j),O.copy(this.object.position),T.copy(this.object.quaternion))},this.reset=function(){R=M.NONE,this.target.copy(this.target0),this.object.position.copy(this.position0),this.update()},this.domElement.addEventListener("contextmenu",function(e){e.preventDefault()},!1),this.domElement.addEventListener("mousedown",r,!1),this.domElement.addEventListener("mousewheel",l,!1),this.domElement.addEventListener("DOMMouseScroll",l,!1),this.domElement.addEventListener("touchstart",c,!1),this.domElement.addEventListener("touchend",d,!1),this.domElement.addEventListener("touchmove",u,!1),this.update()},i.OrbitControls.prototype=Object.create(i.EventDispatcher.prototype)},{}],24:[function(e,t,n){function i(e,t){e=e||{},this.mesh=new o.Object3D,this.axes={name:"Axes",mesh:this.drawAllAxes({axisLength:100,axisRadius:1,axisTess:50}),visible:void 0!==e.axes?e.axes:!0},this.ground={name:"Ground",mesh:this.drawGround({size:1e5,color:t.groundColor}),visible:void 0!==e.ground?e.ground:!0},this.gridX={name:"XY grid",mesh:this.drawGrid({size:1e4,scale:.01,color:t.gridColor}),visible:void 0!==e.gridX?e.gridX:!0},this.gridY={name:"XZ grid",mesh:this.drawGrid({size:1e4,scale:.01,orientation:"y",color:t.gridColor}),visible:void 0!==e.gridY?e.gridY:!1},this.gridZ={name:"YZ grid",mesh:this.drawGrid({size:1e4,scale:.01,orientation:"z",color:t.gridColor}),visible:void 0!==e.gridZ?e.gridZ:!1},i.prototype.init.call(this,e)}var o=window.THREE;i.prototype.init=function(e){var t=this;for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];i.mesh&&(t.mesh.add(i.mesh),i.mesh.visible=i.visible)}return t},i.prototype.initDatGui=function(e){var t,n=this;t=e.addFolder("default scene helpers");for(var i in n)if(n.hasOwnProperty(i)){var o=n[i];o.hasOwnProperty("mesh")&&t.add(o,"visible").name(o.name).onFinishChange(function(e){return function(t){e.mesh.visible=t}}(o))}return n},i.prototype.drawGrid=function(e){e=e||{};var t=void 0!==e.color?e.color:"#505050",n=void 0!==e.orientation?e.orientation:"x",i=new o.GridHelper(500,10);return i.setColors(11053224,t),"x"===n?i.rotation.x=-Math.PI/2:"y"===n?i.rotation.y=-Math.PI/2:"z"===n&&(i.rotation.z=-Math.PI/2),i},i.prototype.drawGround=function(e){e=e||{};var t=void 0!==e.size?e.size:100,n=void 0!==e.color?e.color:0,i=void 0!==e.offset?e.offset:-.5,r=new o.Mesh(new o.PlaneGeometry(t,t),new o.MeshBasicMaterial({
transparent:!0,side:o.DoubleSide,opacity:.6,color:n}));return r.rotation.x=-Math.PI/2,r.position.y=i,r},i.prototype.drawAxes=function(e){e=e||{};var t=void 0!==e.axisRadius?e.axisRadius:.04,n=void 0!==e.axisLength?e.axisLength:11,i=void 0!==e.axisTess?e.axisTess:48,r=void 0!==e.axisOrientation?e.axisOrientation:"x",s=new o.Object3D,a=new o.MeshLambertMaterial({color:0,side:o.DoubleSide}),l=new o.Mesh(new o.CylinderGeometry(t,t,n,i,1,!0),a);"x"===r?(l.rotation.z=-Math.PI/2,l.position.x=n/2-1):"y"===r&&(l.position.y=n/2-1),s.add(l);var c=new o.Mesh(new o.CylinderGeometry(0,4*t,8*t,i,1,!0),a);return"x"===r?(c.rotation.z=-Math.PI/2,c.position.x=n-1+4*t/2):"y"===r&&(c.position.y=n-1+4*t/2),s.add(c),s},i.prototype.drawAllAxes=function(e){e=e||{};var t=void 0!==e.axisRadius?e.axisRadius:.04,n=void 0!==e.axisLength?e.axisLength:10,i=void 0!==e.axisTess?e.axisTess:24,r=new o.Object3D,s=new o.MeshLambertMaterial({color:16711680}),a=new o.MeshLambertMaterial({color:65280}),l=new o.MeshLambertMaterial({color:255});s.side=o.DoubleSide,a.side=o.DoubleSide,l.side=o.DoubleSide;var c=new o.Mesh(new o.CylinderGeometry(t,t,n,i,1,!0),s),u=new o.Mesh(new o.CylinderGeometry(t,t,n,i,1,!0),a),d=new o.Mesh(new o.CylinderGeometry(t,t,n,i,1,!0),l);c.rotation.z=-Math.PI/2,c.position.x=n/2-1,u.position.y=n/2-1,d.rotation.y=-Math.PI/2,d.rotation.z=-Math.PI/2,d.position.z=n/2-1,r.add(c),r.add(u),r.add(d);var h=new o.Mesh(new o.CylinderGeometry(0,4*t,4*t,i,1,!0),s),p=new o.Mesh(new o.CylinderGeometry(0,4*t,4*t,i,1,!0),a),f=new o.Mesh(new o.CylinderGeometry(0,4*t,4*t,i,1,!0),l);return h.rotation.z=-Math.PI/2,h.position.x=n-1+4*t/2,p.position.y=n-1+4*t/2,f.rotation.z=-Math.PI/2,f.rotation.y=-Math.PI/2,f.position.z=n-1+4*t/2,r.add(h),r.add(p),r.add(f),r},t.exports=i},{}],25:[function(e,t,n){t.exports={clearColor:4144959,fogColor:4144959,groundColor:3355443,gridColor:5592405}},{}],26:[function(e,t,n){t.exports={dark:e("./dark"),light:e("./light")}},{"./dark":25,"./light":27}],27:[function(e,t,n){t.exports={clearColor:15924479,fogColor:15924479,groundColor:15658734}},{}]},{},[22])(22)});