!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.t3=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){
(function (global){
(function(){function n(n,r,t){for(var e=(t||0)-1,u=n?n.length:0;++e<u;)if(n[e]===r)return e;return-1}function r(r,t){var e=typeof t;if(r=r.cache,"boolean"==e||null==t)return r[t]?0:-1;"number"!=e&&"string"!=e&&(e="object");var u="number"==e?t:m+t;return r=(r=r[e])&&r[u],"object"==e?r&&n(r,t)>-1?0:-1:r?0:-1}function t(n){var r=this.cache,t=typeof n;if("boolean"==t||null==n)r[n]=!0;else{"number"!=t&&"string"!=t&&(t="object");var e="number"==t?n:m+n,u=r[t]||(r[t]={});"object"==t?(u[e]||(u[e]=[])).push(n):u[e]=!0}}function e(n){return n.charCodeAt(0)}function u(n,r){for(var t=n.criteria,e=r.criteria,u=-1,o=t.length;++u<o;){var a=t[u],i=e[u];if(a!==i){if(a>i||"undefined"==typeof a)return 1;if(i>a||"undefined"==typeof i)return-1}}return n.index-r.index}function o(n){var r=-1,e=n.length,u=n[0],o=n[e/2|0],a=n[e-1];if(u&&"object"==typeof u&&o&&"object"==typeof o&&a&&"object"==typeof a)return!1;var i=f();i["false"]=i["null"]=i["true"]=i.undefined=!1;var l=f();for(l.array=n,l.cache=i,l.push=t;++r<e;)l.push(n[r]);return l}function a(n){return"\\"+G[n]}function i(){return h.pop()||[]}function f(){return g.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function l(n){n.length=0,h.length<d&&h.push(n)}function c(n){var r=n.cache;r&&c(r),n.array=n.cache=n.criteria=n.object=n.number=n.string=n.value=null,g.length<d&&g.push(n)}function p(n,r,t){r||(r=0),"undefined"==typeof t&&(t=n?n.length:0);for(var e=-1,u=t-r||0,o=Array(0>u?0:u);++e<u;)o[e]=n[r+e];return o}function s(t){function h(n){return n&&"object"==typeof n&&!Xe(n)&&De.call(n,"__wrapped__")?n:new g(n)}function g(n,r){this.__chain__=!!r,this.__wrapped__=n}function d(n){function r(){if(e){var n=p(e);Te.apply(n,arguments)}if(this instanceof r){var o=J(t.prototype),a=t.apply(o,n||arguments);return Ir(a)?a:o}return t.apply(u,n||arguments)}var t=n[0],e=n[2],u=n[4];return Qe(r,n),r}function G(n,r,t,e,u){if(t){var o=t(n);if("undefined"!=typeof o)return o}var a=Ir(n);if(!a)return n;var f=Oe.call(n);if(!K[f])return n;var c=He[f];switch(f){case F:case B:return new c(+n);case q:case P:return new c(n);case L:return o=c(n.source,C.exec(n)),o.lastIndex=n.lastIndex,o}var s=Xe(n);if(r){var v=!e;e||(e=i()),u||(u=i());for(var h=e.length;h--;)if(e[h]==n)return u[h];o=s?c(n.length):{}}else o=s?p(n):uu({},n);return s&&(De.call(n,"index")&&(o.index=n.index),De.call(n,"input")&&(o.input=n.input)),r?(e.push(n),u.push(o),(s?Qr:iu)(n,function(n,a){o[a]=G(n,r,t,e,u)}),v&&(l(e),l(u)),o):o}function J(n){return Ir(n)?qe(n):{}}function Q(n,r,t){if("function"!=typeof n)return Xt;if("undefined"==typeof r||!("prototype"in n))return n;var e=n.__bindData__;if("undefined"==typeof e&&(Je.funcNames&&(e=!n.name),e=e||!Je.funcDecomp,!e)){var u=Se.call(n);Je.funcNames||(e=!O.test(u)),e||(e=I.test(u),Qe(n,e))}if(e===!1||e!==!0&&1&e[1])return n;switch(t){case 1:return function(t){return n.call(r,t)};case 2:return function(t,e){return n.call(r,t,e)};case 3:return function(t,e,u){return n.call(r,t,e,u)};case 4:return function(t,e,u,o){return n.call(r,t,e,u,o)}}return Tt(n,r)}function X(n){function r(){var n=f?a:this;if(u){var h=p(u);Te.apply(h,arguments)}if((o||c)&&(h||(h=p(arguments)),o&&Te.apply(h,o),c&&h.length<i))return e|=16,X([t,s?e:-4&e,h,null,a,i]);if(h||(h=arguments),l&&(t=n[v]),this instanceof r){n=J(t.prototype);var g=t.apply(n,h);return Ir(g)?g:n}return t.apply(n,h)}var t=n[0],e=n[1],u=n[2],o=n[3],a=n[4],i=n[5],f=1&e,l=2&e,c=4&e,s=8&e,v=t;return Qe(r,n),r}function Y(t,e){var u=-1,a=fr(),i=t?t.length:0,f=i>=b&&a===n,l=[];if(f){var p=o(e);p?(a=r,e=p):f=!1}for(;++u<i;){var s=t[u];a(e,s)<0&&l.push(s)}return f&&c(e),l}function nr(n,r,t,e){for(var u=(e||0)-1,o=n?n.length:0,a=[];++u<o;){var i=n[u];if(i&&"object"==typeof i&&"number"==typeof i.length&&(Xe(i)||sr(i))){r||(i=nr(i,r,t));var f=-1,l=i.length,c=a.length;for(a.length+=l;++f<l;)a[c++]=i[f]}else t||a.push(i)}return a}function rr(n,r,t,e,u,o){if(t){var a=t(n,r);if("undefined"!=typeof a)return!!a}if(n===r)return 0!==n||1/n==1/r;var f=typeof n,c=typeof r;if(!(n!==n||n&&V[f]||r&&V[c]))return!1;if(null==n||null==r)return n===r;var p=Oe.call(n),s=Oe.call(r);if(p==T&&(p=z),s==T&&(s=z),p!=s)return!1;switch(p){case F:case B:return+n==+r;case q:return n!=+n?r!=+r:0==n?1/n==1/r:n==+r;case L:case P:return n==we(r)}var v=p==$;if(!v){var h=De.call(n,"__wrapped__"),g=De.call(r,"__wrapped__");if(h||g)return rr(h?n.__wrapped__:n,g?r.__wrapped__:r,t,e,u,o);if(p!=z)return!1;var y=n.constructor,m=r.constructor;if(y!=m&&!(Er(y)&&y instanceof y&&Er(m)&&m instanceof m)&&"constructor"in n&&"constructor"in r)return!1}var b=!u;u||(u=i()),o||(o=i());for(var d=u.length;d--;)if(u[d]==n)return o[d]==r;var _=0;if(a=!0,u.push(n),o.push(r),v){if(d=n.length,_=r.length,a=_==d,a||e)for(;_--;){var w=d,j=r[_];if(e)for(;w--&&!(a=rr(n[w],j,t,e,u,o)););else if(!(a=rr(n[_],j,t,e,u,o)))break}}else au(r,function(r,i,f){return De.call(f,i)?(_++,a=De.call(n,i)&&rr(n[i],r,t,e,u,o)):void 0}),a&&!e&&au(n,function(n,r,t){return De.call(t,r)?a=--_>-1:void 0});return u.pop(),o.pop(),b&&(l(u),l(o)),a}function tr(n,r,t,e,u){(Xe(r)?Qr:iu)(r,function(r,o){var a,i,f=r,l=n[o];if(r&&((i=Xe(r))||fu(r))){for(var c=e.length;c--;)if(a=e[c]==r){l=u[c];break}if(!a){var p;t&&(f=t(l,r),(p="undefined"!=typeof f)&&(l=f)),p||(l=i?Xe(l)?l:[]:fu(l)?l:{}),e.push(r),u.push(l),p||tr(l,r,t,e,u)}}else t&&(f=t(l,r),"undefined"==typeof f&&(f=r)),"undefined"!=typeof f&&(l=f);n[o]=l})}function er(n,r){return n+Ie(Ge()*(r-n+1))}function ur(t,e,u){var a=-1,f=fr(),p=t?t.length:0,s=[],v=!e&&p>=b&&f===n,h=u||v?i():s;if(v){var g=o(h);f=r,h=g}for(;++a<p;){var y=t[a],m=u?u(y,a,t):y;(e?!a||h[h.length-1]!==m:f(h,m)<0)&&((u||v)&&h.push(m),s.push(y))}return v?(l(h.array),c(h)):u&&l(h),s}function or(n){return function(r,t,e){var u={};t=h.createCallback(t,e,3);var o=-1,a=r?r.length:0;if("number"==typeof a)for(;++o<a;){var i=r[o];n(u,i,t(i,o,r),r)}else iu(r,function(r,e,o){n(u,r,t(r,e,o),o)});return u}}function ar(n,r,t,e,u,o){var a=1&r,i=2&r,f=4&r,l=16&r,c=32&r;if(!i&&!Er(n))throw new je;l&&!t.length&&(r&=-17,l=t=!1),c&&!e.length&&(r&=-33,c=e=!1);var s=n&&n.__bindData__;if(s&&s!==!0)return s=p(s),s[2]&&(s[2]=p(s[2])),s[3]&&(s[3]=p(s[3])),!a||1&s[1]||(s[4]=u),!a&&1&s[1]&&(r|=8),!f||4&s[1]||(s[5]=o),l&&Te.apply(s[2]||(s[2]=[]),t),c&&Be.apply(s[3]||(s[3]=[]),e),s[1]|=r,ar.apply(null,s);var v=1==r||17===r?d:X;return v([n,r,t,e,u,o])}function ir(n){return nu[n]}function fr(){var r=(r=h.indexOf)===mt?n:r;return r}function lr(n){return"function"==typeof n&&Ne.test(n)}function cr(n){var r,t;return n&&Oe.call(n)==z&&(r=n.constructor,!Er(r)||r instanceof r)?(au(n,function(n,r){t=r}),"undefined"==typeof t||De.call(n,t)):!1}function pr(n){return ru[n]}function sr(n){return n&&"object"==typeof n&&"number"==typeof n.length&&Oe.call(n)==T||!1}function vr(n,r,t,e){return"boolean"!=typeof r&&null!=r&&(e=t,t=r,r=!1),G(n,r,"function"==typeof t&&Q(t,e,1))}function hr(n,r,t){return G(n,!0,"function"==typeof r&&Q(r,t,1))}function gr(n,r){var t=J(n);return r?uu(t,r):t}function yr(n,r,t){var e;return r=h.createCallback(r,t,3),iu(n,function(n,t,u){return r(n,t,u)?(e=t,!1):void 0}),e}function mr(n,r,t){var e;return r=h.createCallback(r,t,3),dr(n,function(n,t,u){return r(n,t,u)?(e=t,!1):void 0}),e}function br(n,r,t){var e=[];au(n,function(n,r){e.push(r,n)});var u=e.length;for(r=Q(r,t,3);u--&&r(e[u--],e[u],n)!==!1;);return n}function dr(n,r,t){var e=Ze(n),u=e.length;for(r=Q(r,t,3);u--;){var o=e[u];if(r(n[o],o,n)===!1)break}return n}function _r(n){var r=[];return au(n,function(n,t){Er(n)&&r.push(t)}),r.sort()}function wr(n,r){return n?De.call(n,r):!1}function jr(n){for(var r=-1,t=Ze(n),e=t.length,u={};++r<e;){var o=t[r];u[n[o]]=o}return u}function kr(n){return n===!0||n===!1||n&&"object"==typeof n&&Oe.call(n)==F||!1}function xr(n){return n&&"object"==typeof n&&Oe.call(n)==B||!1}function Cr(n){return n&&1===n.nodeType||!1}function Or(n){var r=!0;if(!n)return r;var t=Oe.call(n),e=n.length;return t==$||t==P||t==T||t==z&&"number"==typeof e&&Er(n.splice)?!e:(iu(n,function(){return r=!1}),r)}function Nr(n,r,t,e){return rr(n,r,"function"==typeof t&&Q(t,e,2))}function Rr(n){return Le(n)&&!Pe(parseFloat(n))}function Er(n){return"function"==typeof n}function Ir(n){return!(!n||!V[typeof n])}function Sr(n){return Dr(n)&&n!=+n}function Ar(n){return null===n}function Dr(n){return"number"==typeof n||n&&"object"==typeof n&&Oe.call(n)==q||!1}function Tr(n){return n&&"object"==typeof n&&Oe.call(n)==L||!1}function $r(n){return"string"==typeof n||n&&"object"==typeof n&&Oe.call(n)==P||!1}function Fr(n){return"undefined"==typeof n}function Br(n,r,t){var e={};return r=h.createCallback(r,t,3),iu(n,function(n,t,u){e[t]=r(n,t,u)}),e}function Wr(n){var r=arguments,t=2;if(!Ir(n))return n;if("number"!=typeof r[2]&&(t=r.length),t>3&&"function"==typeof r[t-2])var e=Q(r[--t-1],r[t--],2);else t>2&&"function"==typeof r[t-1]&&(e=r[--t]);for(var u=p(arguments,1,t),o=-1,a=i(),f=i();++o<t;)tr(n,u[o],e,a,f);return l(a),l(f),n}function qr(n,r,t){var e={};if("function"!=typeof r){var u=[];au(n,function(n,r){u.push(r)}),u=Y(u,nr(arguments,!0,!1,1));for(var o=-1,a=u.length;++o<a;){var i=u[o];e[i]=n[i]}}else r=h.createCallback(r,t,3),au(n,function(n,t,u){r(n,t,u)||(e[t]=n)});return e}function zr(n){for(var r=-1,t=Ze(n),e=t.length,u=ve(e);++r<e;){var o=t[r];u[r]=[o,n[o]]}return u}function Lr(n,r,t){var e={};if("function"!=typeof r)for(var u=-1,o=nr(arguments,!0,!1,1),a=Ir(n)?o.length:0;++u<a;){var i=o[u];i in n&&(e[i]=n[i])}else r=h.createCallback(r,t,3),au(n,function(n,t,u){r(n,t,u)&&(e[t]=n)});return e}function Pr(n,r,t,e){var u=Xe(n);if(null==t)if(u)t=[];else{var o=n&&n.constructor,a=o&&o.prototype;t=J(a)}return r&&(r=h.createCallback(r,e,4),(u?Qr:iu)(n,function(n,e,u){return r(t,n,e,u)})),t}function Kr(n){for(var r=-1,t=Ze(n),e=t.length,u=ve(e);++r<e;)u[r]=n[t[r]];return u}function Ur(n){for(var r=arguments,t=-1,e=nr(r,!0,!1,1),u=r[2]&&r[2][r[1]]===n?1:e.length,o=ve(u);++t<u;)o[t]=n[e[t]];return o}function Mr(n,r,t){var e=-1,u=fr(),o=n?n.length:0,a=!1;return t=(0>t?Ue(0,o+t):t)||0,Xe(n)?a=u(n,r,t)>-1:"number"==typeof o?a=($r(n)?n.indexOf(r,t):u(n,r,t))>-1:iu(n,function(n){return++e>=t?!(a=n===r):void 0}),a}function Vr(n,r,t){var e=!0;r=h.createCallback(r,t,3);var u=-1,o=n?n.length:0;if("number"==typeof o)for(;++u<o&&(e=!!r(n[u],u,n)););else iu(n,function(n,t,u){return e=!!r(n,t,u)});return e}function Gr(n,r,t){var e=[];r=h.createCallback(r,t,3);var u=-1,o=n?n.length:0;if("number"==typeof o)for(;++u<o;){var a=n[u];r(a,u,n)&&e.push(a)}else iu(n,function(n,t,u){r(n,t,u)&&e.push(n)});return e}function Hr(n,r,t){r=h.createCallback(r,t,3);var e=-1,u=n?n.length:0;if("number"!=typeof u){var o;return iu(n,function(n,t,e){return r(n,t,e)?(o=n,!1):void 0}),o}for(;++e<u;){var a=n[e];if(r(a,e,n))return a}}function Jr(n,r,t){var e;return r=h.createCallback(r,t,3),Xr(n,function(n,t,u){return r(n,t,u)?(e=n,!1):void 0}),e}function Qr(n,r,t){var e=-1,u=n?n.length:0;if(r=r&&"undefined"==typeof t?r:Q(r,t,3),"number"==typeof u)for(;++e<u&&r(n[e],e,n)!==!1;);else iu(n,r);return n}function Xr(n,r,t){var e=n?n.length:0;if(r=r&&"undefined"==typeof t?r:Q(r,t,3),"number"==typeof e)for(;e--&&r(n[e],e,n)!==!1;);else{var u=Ze(n);e=u.length,iu(n,function(n,t,o){return t=u?u[--e]:--e,r(o[t],t,o)})}return n}function Yr(n,r){var t=p(arguments,2),e=-1,u="function"==typeof r,o=n?n.length:0,a=ve("number"==typeof o?o:0);return Qr(n,function(n){a[++e]=(u?r:n[r]).apply(n,t)}),a}function Zr(n,r,t){var e=-1,u=n?n.length:0;if(r=h.createCallback(r,t,3),"number"==typeof u)for(var o=ve(u);++e<u;)o[e]=r(n[e],e,n);else o=[],iu(n,function(n,t,u){o[++e]=r(n,t,u)});return o}function nt(n,r,t){var u=-1/0,o=u;if("function"!=typeof r&&t&&t[r]===n&&(r=null),null==r&&Xe(n))for(var a=-1,i=n.length;++a<i;){var f=n[a];f>o&&(o=f)}else r=null==r&&$r(n)?e:h.createCallback(r,t,3),Qr(n,function(n,t,e){var a=r(n,t,e);a>u&&(u=a,o=n)});return o}function rt(n,r,t){var u=1/0,o=u;if("function"!=typeof r&&t&&t[r]===n&&(r=null),null==r&&Xe(n))for(var a=-1,i=n.length;++a<i;){var f=n[a];o>f&&(o=f)}else r=null==r&&$r(n)?e:h.createCallback(r,t,3),Qr(n,function(n,t,e){var a=r(n,t,e);u>a&&(u=a,o=n)});return o}function tt(n,r,t,e){if(!n)return t;var u=arguments.length<3;r=h.createCallback(r,e,4);var o=-1,a=n.length;if("number"==typeof a)for(u&&(t=n[++o]);++o<a;)t=r(t,n[o],o,n);else iu(n,function(n,e,o){t=u?(u=!1,n):r(t,n,e,o)});return t}function et(n,r,t,e){var u=arguments.length<3;return r=h.createCallback(r,e,4),Xr(n,function(n,e,o){t=u?(u=!1,n):r(t,n,e,o)}),t}function ut(n,r,t){return r=h.createCallback(r,t,3),Gr(n,function(n,t,e){return!r(n,t,e)})}function ot(n,r,t){if(n&&"number"!=typeof n.length&&(n=Kr(n)),null==r||t)return n?n[er(0,n.length-1)]:v;var e=at(n);return e.length=Me(Ue(0,r),e.length),e}function at(n){var r=-1,t=n?n.length:0,e=ve("number"==typeof t?t:0);return Qr(n,function(n){var t=er(0,++r);e[r]=e[t],e[t]=n}),e}function it(n){var r=n?n.length:0;return"number"==typeof r?r:Ze(n).length}function ft(n,r,t){var e;r=h.createCallback(r,t,3);var u=-1,o=n?n.length:0;if("number"==typeof o)for(;++u<o&&!(e=r(n[u],u,n)););else iu(n,function(n,t,u){return!(e=r(n,t,u))});return!!e}function lt(n,r,t){var e=-1,o=Xe(r),a=n?n.length:0,p=ve("number"==typeof a?a:0);for(o||(r=h.createCallback(r,t,3)),Qr(n,function(n,t,u){var a=p[++e]=f();o?a.criteria=Zr(r,function(r){return n[r]}):(a.criteria=i())[0]=r(n,t,u),a.index=e,a.value=n}),a=p.length,p.sort(u);a--;){var s=p[a];p[a]=s.value,o||l(s.criteria),c(s)}return p}function ct(n){return n&&"number"==typeof n.length?p(n):Kr(n)}function pt(n){for(var r=-1,t=n?n.length:0,e=[];++r<t;){var u=n[r];u&&e.push(u)}return e}function st(n){return Y(n,nr(arguments,!0,!0,1))}function vt(n,r,t){var e=-1,u=n?n.length:0;for(r=h.createCallback(r,t,3);++e<u;)if(r(n[e],e,n))return e;return-1}function ht(n,r,t){var e=n?n.length:0;for(r=h.createCallback(r,t,3);e--;)if(r(n[e],e,n))return e;return-1}function gt(n,r,t){var e=0,u=n?n.length:0;if("number"!=typeof r&&null!=r){var o=-1;for(r=h.createCallback(r,t,3);++o<u&&r(n[o],o,n);)e++}else if(e=r,null==e||t)return n?n[0]:v;return p(n,0,Me(Ue(0,e),u))}function yt(n,r,t,e){return"boolean"!=typeof r&&null!=r&&(e=t,t="function"!=typeof r&&e&&e[r]===n?null:r,r=!1),null!=t&&(n=Zr(n,t,e)),nr(n,r)}function mt(r,t,e){if("number"==typeof e){var u=r?r.length:0;e=0>e?Ue(0,u+e):e||0}else if(e){var o=Ot(r,t);return r[o]===t?o:-1}return n(r,t,e)}function bt(n,r,t){var e=0,u=n?n.length:0;if("number"!=typeof r&&null!=r){var o=u;for(r=h.createCallback(r,t,3);o--&&r(n[o],o,n);)e++}else e=null==r||t?1:r||e;return p(n,0,Me(Ue(0,u-e),u))}function dt(){for(var t=[],e=-1,u=arguments.length,a=i(),f=fr(),p=f===n,s=i();++e<u;){var v=arguments[e];(Xe(v)||sr(v))&&(t.push(v),a.push(p&&v.length>=b&&o(e?t[e]:s)))}var h=t[0],g=-1,y=h?h.length:0,m=[];n:for(;++g<y;){var d=a[0];if(v=h[g],(d?r(d,v):f(s,v))<0){for(e=u,(d||s).push(v);--e;)if(d=a[e],(d?r(d,v):f(t[e],v))<0)continue n;m.push(v)}}for(;u--;)d=a[u],d&&c(d);return l(a),l(s),m}function _t(n,r,t){var e=0,u=n?n.length:0;if("number"!=typeof r&&null!=r){var o=u;for(r=h.createCallback(r,t,3);o--&&r(n[o],o,n);)e++}else if(e=r,null==e||t)return n?n[u-1]:v;return p(n,Ue(0,u-e))}function wt(n,r,t){var e=n?n.length:0;for("number"==typeof t&&(e=(0>t?Ue(0,e+t):Me(t,e-1))+1);e--;)if(n[e]===r)return e;return-1}function jt(n){for(var r=arguments,t=0,e=r.length,u=n?n.length:0;++t<e;)for(var o=-1,a=r[t];++o<u;)n[o]===a&&(Fe.call(n,o--,1),u--);return n}function kt(n,r,t){n=+n||0,t="number"==typeof t?t:+t||1,null==r&&(r=n,n=0);for(var e=-1,u=Ue(0,Re((r-n)/(t||1))),o=ve(u);++e<u;)o[e]=n,n+=t;return o}function xt(n,r,t){var e=-1,u=n?n.length:0,o=[];for(r=h.createCallback(r,t,3);++e<u;){var a=n[e];r(a,e,n)&&(o.push(a),Fe.call(n,e--,1),u--)}return o}function Ct(n,r,t){if("number"!=typeof r&&null!=r){var e=0,u=-1,o=n?n.length:0;for(r=h.createCallback(r,t,3);++u<o&&r(n[u],u,n);)e++}else e=null==r||t?1:Ue(0,r);return p(n,e)}function Ot(n,r,t,e){var u=0,o=n?n.length:u;for(t=t?h.createCallback(t,e,1):Xt,r=t(r);o>u;){var a=u+o>>>1;t(n[a])<r?u=a+1:o=a}return u}function Nt(){return ur(nr(arguments,!0,!0))}function Rt(n,r,t,e){return"boolean"!=typeof r&&null!=r&&(e=t,t="function"!=typeof r&&e&&e[r]===n?null:r,r=!1),null!=t&&(t=h.createCallback(t,e,3)),ur(n,r,t)}function Et(n){return Y(n,p(arguments,1))}function It(){for(var n=-1,r=arguments.length;++n<r;){var t=arguments[n];if(Xe(t)||sr(t))var e=e?ur(Y(e,t).concat(Y(t,e))):t}return e||[]}function St(){for(var n=arguments.length>1?arguments:arguments[0],r=-1,t=n?nt(su(n,"length")):0,e=ve(0>t?0:t);++r<t;)e[r]=su(n,r);return e}function At(n,r){var t=-1,e=n?n.length:0,u={};for(r||!e||Xe(n[0])||(r=[]);++t<e;){var o=n[t];r?u[o]=r[t]:o&&(u[o[0]]=o[1])}return u}function Dt(n,r){if(!Er(r))throw new je;return function(){return--n<1?r.apply(this,arguments):void 0}}function Tt(n,r){return arguments.length>2?ar(n,17,p(arguments,2),null,r):ar(n,1,null,null,r)}function $t(n){for(var r=arguments.length>1?nr(arguments,!0,!1,1):_r(n),t=-1,e=r.length;++t<e;){var u=r[t];n[u]=ar(n[u],1,null,null,n)}return n}function Ft(n,r){return arguments.length>2?ar(r,19,p(arguments,2),null,n):ar(r,3,null,null,n)}function Bt(){for(var n=arguments,r=n.length;r--;)if(!Er(n[r]))throw new je;return function(){for(var r=arguments,t=n.length;t--;)r=[n[t].apply(this,r)];return r[0]}}function Wt(n,r){return r="number"==typeof r?r:+r||n.length,ar(n,4,null,null,null,r)}function qt(n,r,t){var e,u,o,a,i,f,l,c=0,p=!1,s=!0;if(!Er(n))throw new je;if(r=Ue(0,r)||0,t===!0){var h=!0;s=!1}else Ir(t)&&(h=t.leading,p="maxWait"in t&&(Ue(r,t.maxWait)||0),s="trailing"in t?t.trailing:s);var g=function(){var t=r-(hu()-a);if(0>=t){u&&Ee(u);var p=l;u=f=l=v,p&&(c=hu(),o=n.apply(i,e),f||u||(e=i=null))}else f=$e(g,t)},y=function(){f&&Ee(f),u=f=l=v,(s||p!==r)&&(c=hu(),o=n.apply(i,e),f||u||(e=i=null))};return function(){if(e=arguments,a=hu(),i=this,l=s&&(f||!h),p===!1)var t=h&&!f;else{u||h||(c=a);var v=p-(a-c),m=0>=v;m?(u&&(u=Ee(u)),c=a,o=n.apply(i,e)):u||(u=$e(y,v))}return m&&f?f=Ee(f):f||r===p||(f=$e(g,r)),t&&(m=!0,o=n.apply(i,e)),!m||f||u||(e=i=null),o}}function zt(n){if(!Er(n))throw new je;var r=p(arguments,1);return $e(function(){n.apply(v,r)},1)}function Lt(n,r){if(!Er(n))throw new je;var t=p(arguments,2);return $e(function(){n.apply(v,t)},r)}function Pt(n,r){if(!Er(n))throw new je;var t=function(){var e=t.cache,u=r?r.apply(this,arguments):m+arguments[0];return De.call(e,u)?e[u]:e[u]=n.apply(this,arguments)};return t.cache={},t}function Kt(n){var r,t;if(!Er(n))throw new je;return function(){return r?t:(r=!0,t=n.apply(this,arguments),n=null,t)}}function Ut(n){return ar(n,16,p(arguments,1))}function Mt(n){return ar(n,32,null,p(arguments,1))}function Vt(n,r,t){var e=!0,u=!0;if(!Er(n))throw new je;return t===!1?e=!1:Ir(t)&&(e="leading"in t?t.leading:e,u="trailing"in t?t.trailing:u),U.leading=e,U.maxWait=r,U.trailing=u,qt(n,r,U)}function Gt(n,r){return ar(r,16,[n])}function Ht(n){return function(){return n}}function Jt(n,r,t){var e=typeof n;if(null==n||"function"==e)return Q(n,r,t);if("object"!=e)return re(n);var u=Ze(n),o=u[0],a=n[o];return 1!=u.length||a!==a||Ir(a)?function(r){for(var t=u.length,e=!1;t--&&(e=rr(r[u[t]],n[u[t]],null,!0)););return e}:function(n){var r=n[o];return a===r&&(0!==a||1/a==1/r)}}function Qt(n){return null==n?"":we(n).replace(eu,ir)}function Xt(n){return n}function Yt(n,r,t){var e=!0,u=r&&_r(r);r&&(t||u.length)||(null==t&&(t=r),o=g,r=n,n=h,u=_r(r)),t===!1?e=!1:Ir(t)&&"chain"in t&&(e=t.chain);var o=n,a=Er(o);Qr(u,function(t){var u=n[t]=r[t];a&&(o.prototype[t]=function(){var r=this.__chain__,t=this.__wrapped__,a=[t];Te.apply(a,arguments);var i=u.apply(n,a);if(e||r){if(t===i&&Ir(i))return this;i=new o(i),i.__chain__=r}return i})})}function Zt(){return t._=Ce,this}function ne(){}function re(n){return function(r){return r[n]}}function te(n,r,t){var e=null==n,u=null==r;if(null==t&&("boolean"==typeof n&&u?(t=n,n=1):u||"boolean"!=typeof r||(t=r,u=!0)),e&&u&&(r=1),n=+n||0,u?(r=n,n=0):r=+r||0,t||n%1||r%1){var o=Ge();return Me(n+o*(r-n+parseFloat("1e-"+((o+"").length-1))),r)}return er(n,r)}function ee(n,r){if(n){var t=n[r];return Er(t)?n[r]():t}}function ue(n,r,t){var e=h.templateSettings;n=we(n||""),t=ou({},t,e);var u,o=ou({},t.imports,e.imports),i=Ze(o),f=Kr(o),l=0,c=t.interpolate||E,p="__p += '",s=_e((t.escape||E).source+"|"+c.source+"|"+(c===N?x:E).source+"|"+(t.evaluate||E).source+"|$","g");n.replace(s,function(r,t,e,o,i,f){return e||(e=o),p+=n.slice(l,f).replace(S,a),t&&(p+="' +\n__e("+t+") +\n'"),i&&(u=!0,p+="';\n"+i+";\n__p += '"),e&&(p+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),l=f+r.length,r}),p+="';\n";var g=t.variable,y=g;y||(g="obj",p="with ("+g+") {\n"+p+"\n}\n"),p=(u?p.replace(w,""):p).replace(j,"$1").replace(k,"$1;"),p="function("+g+") {\n"+(y?"":g+" || ("+g+" = {});\n")+"var __t, __p = '', __e = _.escape"+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var m="\n/*\n//# sourceURL="+(t.sourceURL||"/lodash/template/source["+D++ +"]")+"\n*/";try{var b=ye(i,"return "+p+m).apply(v,f)}catch(d){throw d.source=p,d}return r?b(r):(b.source=p,b)}function oe(n,r,t){n=(n=+n)>-1?n:0;var e=-1,u=ve(n);for(r=Q(r,t,1);++e<n;)u[e]=r(e);return u}function ae(n){return null==n?"":we(n).replace(tu,pr)}function ie(n){var r=++y;return we(null==n?"":n)+r}function fe(n){return n=new g(n),n.__chain__=!0,n}function le(n,r){return r(n),n}function ce(){return this.__chain__=!0,this}function pe(){return we(this.__wrapped__)}function se(){return this.__wrapped__}t=t?Z.defaults(H.Object(),t,Z.pick(H,A)):H;var ve=t.Array,he=t.Boolean,ge=t.Date,ye=t.Function,me=t.Math,be=t.Number,de=t.Object,_e=t.RegExp,we=t.String,je=t.TypeError,ke=[],xe=de.prototype,Ce=t._,Oe=xe.toString,Ne=_e("^"+we(Oe).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Re=me.ceil,Ee=t.clearTimeout,Ie=me.floor,Se=ye.prototype.toString,Ae=lr(Ae=de.getPrototypeOf)&&Ae,De=xe.hasOwnProperty,Te=ke.push,$e=t.setTimeout,Fe=ke.splice,Be=ke.unshift,We=function(){try{var n={},r=lr(r=de.defineProperty)&&r,t=r(n,n,n)&&r}catch(e){}return t}(),qe=lr(qe=de.create)&&qe,ze=lr(ze=ve.isArray)&&ze,Le=t.isFinite,Pe=t.isNaN,Ke=lr(Ke=de.keys)&&Ke,Ue=me.max,Me=me.min,Ve=t.parseInt,Ge=me.random,He={};He[$]=ve,He[F]=he,He[B]=ge,He[W]=ye,He[z]=de,He[q]=be,He[L]=_e,He[P]=we,g.prototype=h.prototype;var Je=h.support={};Je.funcDecomp=!lr(t.WinRTError)&&I.test(s),Je.funcNames="string"==typeof ye.name,h.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:N,variable:"",imports:{_:h}},qe||(J=function(){function n(){}return function(r){if(Ir(r)){n.prototype=r;var e=new n;n.prototype=null}return e||t.Object()}}());var Qe=We?function(n,r){M.value=r,We(n,"__bindData__",M)}:ne,Xe=ze||function(n){return n&&"object"==typeof n&&"number"==typeof n.length&&Oe.call(n)==$||!1},Ye=function(n){var r,t=n,e=[];if(!t)return e;if(!V[typeof n])return e;for(r in t)De.call(t,r)&&e.push(r);return e},Ze=Ke?function(n){return Ir(n)?Ke(n):[]}:Ye,nu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ru=jr(nu),tu=_e("("+Ze(ru).join("|")+")","g"),eu=_e("["+Ze(nu).join("")+"]","g"),uu=function(n,r,t){var e,u=n,o=u;if(!u)return o;var a=arguments,i=0,f="number"==typeof t?2:a.length;if(f>3&&"function"==typeof a[f-2])var l=Q(a[--f-1],a[f--],2);else f>2&&"function"==typeof a[f-1]&&(l=a[--f]);for(;++i<f;)if(u=a[i],u&&V[typeof u])for(var c=-1,p=V[typeof u]&&Ze(u),s=p?p.length:0;++c<s;)e=p[c],o[e]=l?l(o[e],u[e]):u[e];return o},ou=function(n,r,t){var e,u=n,o=u;if(!u)return o;for(var a=arguments,i=0,f="number"==typeof t?2:a.length;++i<f;)if(u=a[i],u&&V[typeof u])for(var l=-1,c=V[typeof u]&&Ze(u),p=c?c.length:0;++l<p;)e=c[l],"undefined"==typeof o[e]&&(o[e]=u[e]);return o},au=function(n,r,t){var e,u=n,o=u;if(!u)return o;if(!V[typeof u])return o;r=r&&"undefined"==typeof t?r:Q(r,t,3);for(e in u)if(r(u[e],e,n)===!1)return o;return o},iu=function(n,r,t){var e,u=n,o=u;if(!u)return o;if(!V[typeof u])return o;r=r&&"undefined"==typeof t?r:Q(r,t,3);for(var a=-1,i=V[typeof u]&&Ze(u),f=i?i.length:0;++a<f;)if(e=i[a],r(u[e],e,n)===!1)return o;return o},fu=Ae?function(n){if(!n||Oe.call(n)!=z)return!1;var r=n.valueOf,t=lr(r)&&(t=Ae(r))&&Ae(t);return t?n==t||Ae(n)==t:cr(n)}:cr,lu=or(function(n,r,t){De.call(n,t)?n[t]++:n[t]=1}),cu=or(function(n,r,t){(De.call(n,t)?n[t]:n[t]=[]).push(r)}),pu=or(function(n,r,t){n[t]=r}),su=Zr,vu=Gr,hu=lr(hu=ge.now)&&hu||function(){return(new ge).getTime()},gu=8==Ve(_+"08")?Ve:function(n,r){return Ve($r(n)?n.replace(R,""):n,r||0)};return h.after=Dt,h.assign=uu,h.at=Ur,h.bind=Tt,h.bindAll=$t,h.bindKey=Ft,h.chain=fe,h.compact=pt,h.compose=Bt,h.constant=Ht,h.countBy=lu,h.create=gr,h.createCallback=Jt,h.curry=Wt,h.debounce=qt,h.defaults=ou,h.defer=zt,h.delay=Lt,h.difference=st,h.filter=Gr,h.flatten=yt,h.forEach=Qr,h.forEachRight=Xr,h.forIn=au,h.forInRight=br,h.forOwn=iu,h.forOwnRight=dr,h.functions=_r,h.groupBy=cu,h.indexBy=pu,h.initial=bt,h.intersection=dt,h.invert=jr,h.invoke=Yr,h.keys=Ze,h.map=Zr,h.mapValues=Br,h.max=nt,h.memoize=Pt,h.merge=Wr,h.min=rt,h.omit=qr,h.once=Kt,h.pairs=zr,h.partial=Ut,h.partialRight=Mt,h.pick=Lr,h.pluck=su,h.property=re,h.pull=jt,h.range=kt,h.reject=ut,h.remove=xt,h.rest=Ct,h.shuffle=at,h.sortBy=lt,h.tap=le,h.throttle=Vt,h.times=oe,h.toArray=ct,h.transform=Pr,h.union=Nt,h.uniq=Rt,h.values=Kr,h.where=vu,h.without=Et,h.wrap=Gt,h.xor=It,h.zip=St,h.zipObject=At,h.collect=Zr,h.drop=Ct,h.each=Qr,h.eachRight=Xr,h.extend=uu,h.methods=_r,h.object=At,h.select=Gr,h.tail=Ct,h.unique=Rt,h.unzip=St,Yt(h),h.clone=vr,h.cloneDeep=hr,h.contains=Mr,h.escape=Qt,h.every=Vr,h.find=Hr,h.findIndex=vt,h.findKey=yr,h.findLast=Jr,h.findLastIndex=ht,h.findLastKey=mr,h.has=wr,h.identity=Xt,h.indexOf=mt,h.isArguments=sr,h.isArray=Xe,h.isBoolean=kr,h.isDate=xr,h.isElement=Cr,h.isEmpty=Or,h.isEqual=Nr,h.isFinite=Rr,h.isFunction=Er,h.isNaN=Sr,h.isNull=Ar,h.isNumber=Dr,h.isObject=Ir,h.isPlainObject=fu,h.isRegExp=Tr,h.isString=$r,h.isUndefined=Fr,h.lastIndexOf=wt,h.mixin=Yt,h.noConflict=Zt,h.noop=ne,h.now=hu,h.parseInt=gu,h.random=te,h.reduce=tt,h.reduceRight=et,h.result=ee,h.runInContext=s,h.size=it,h.some=ft,h.sortedIndex=Ot,h.template=ue,h.unescape=ae,h.uniqueId=ie,h.all=Vr,h.any=ft,h.detect=Hr,h.findWhere=Hr,h.foldl=tt,h.foldr=et,h.include=Mr,h.inject=tt,Yt(function(){var n={};return iu(h,function(r,t){h.prototype[t]||(n[t]=r)}),n}(),!1),h.first=gt,h.last=_t,h.sample=ot,h.take=gt,h.head=gt,iu(h,function(n,r){var t="sample"!==r;h.prototype[r]||(h.prototype[r]=function(r,e){var u=this.__chain__,o=n(this.__wrapped__,r,e);return u||null!=r&&(!e||t&&"function"==typeof r)?new g(o,u):o})}),h.VERSION="2.4.1",h.prototype.chain=ce,h.prototype.toString=pe,h.prototype.value=se,h.prototype.valueOf=se,Qr(["join","pop","shift"],function(n){var r=ke[n];h.prototype[n]=function(){var n=this.__chain__,t=r.apply(this.__wrapped__,arguments);return n?new g(t,n):t}}),Qr(["push","reverse","sort","unshift"],function(n){var r=ke[n];h.prototype[n]=function(){return r.apply(this.__wrapped__,arguments),this}}),Qr(["concat","slice","splice"],function(n){var r=ke[n];h.prototype[n]=function(){return new g(r.apply(this.__wrapped__,arguments),this.__chain__)}}),h}var v,h=[],g=[],y=0,m=+new Date+"",b=75,d=40,_=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",w=/\b__p \+= '';/g,j=/\b(__p \+=) '' \+/g,k=/(__e\(.*?\)|\b__t\)) \+\n'';/g,x=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,C=/\w*$/,O=/^\s*function[ \n\r\t]+\w/,N=/<%=([\s\S]+?)%>/g,R=RegExp("^["+_+"]*0+(?=.$)"),E=/($^)/,I=/\bthis\b/,S=/['\n\r\t\u2028\u2029\\]/g,A=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],D=0,T="[object Arguments]",$="[object Array]",F="[object Boolean]",B="[object Date]",W="[object Function]",q="[object Number]",z="[object Object]",L="[object RegExp]",P="[object String]",K={};K[W]=!1,K[T]=K[$]=K[F]=K[B]=K[q]=K[z]=K[L]=K[P]=!0;var U={leading:!1,maxWait:0,trailing:!1},M={configurable:!1,enumerable:!1,value:null,writable:!1},V={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},G={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},H=V[typeof window]&&window||this,J=V[typeof exports]&&exports&&!exports.nodeType&&exports,Q=V[typeof module]&&module&&!module.nodeType&&module,X=Q&&Q.exports===J&&J,Y=V[typeof global]&&global;!Y||Y.global!==Y&&Y.window!==Y||(H=Y);var Z=s();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(H._=Z,define(function(){return Z})):J&&Q?X?(Q.exports=Z)._=Z:J._=Z:H._=Z}).call(this);
//# sourceMappingURL=t3.map.json
}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],2:[function(_dereq_,module,exports){
(function (global){
var _=_dereq_("lodash"),assert=function(e,t){if(!e)throw t||"assertion failed"},hashkey=_dereq_("../utils/hashkey"),Coordinates=_dereq_("../model/Coordinates"),Keyboard=_dereq_("./Keyboard"),LoopManager=_dereq_("./LoopManager"),Stats=_dereq_("T3.Stats"),dat=_dereq_("T3.dat"),THREE="undefined"!=typeof window?window.THREE:"undefined"!=typeof global?global.THREE:null,THREEx=_dereq_("../lib/THREEx/"),themes={dark:_dereq_("../themes/dark"),light:_dereq_("../themes/light")},Application=function(e){e=_.merge({id:null,renderer:null,width:window.innerWidth,height:window.innerHeight,renderImmediately:!0,injectCache:!1,fullScreen:!1,theme:"dark",cameraConfig:{},ambientConfig:{},defaultSceneConfig:{fog:!0}},e),this.initialConfig=e,this.scenes={},this.activeScene=null,this.cameras={},this.activeCamera=null,this.renderer=null,this.keyboard=null,this.datgui=null,this.stats=null,this.loopManager=null,this.theme=null,this.__t3cache__={},Application.prototype.initApplication.call(this)};Application.prototype={constructor:Application,getConfig:function(){return this.initialConfig},initApplication:function(){var e=this,t=e.getConfig();e.injectCache(t.injectCache),e.setTheme(t.theme),e.createDefaultRenderer(),e.createDefaultScene(),e.createDefaultCamera(),e.createDefaultLights(),e.initDatGui(),e.initStats(),e.initMask().maskVisible(!t.renderImmediately),e.initFullScreen(),e.initKeyboard(),e.initCoordinates(),e.gameLoop()},setActiveScene:function(e){return this.activeScene=this.scenes[e],this},addScene:function(e,t){return console.assert(e instanceof THREE.Scene),this.scenes[t]=e,this},createDefaultScene:function(){var e=this,t=e.getConfig(),i=new THREE.Scene;return t.defaultSceneConfig.fog&&(i.fog=new THREE.Fog(e.theme.fogColor,2e3,4e3)),e.addScene(i,"default").setActiveScene("default"),e},createDefaultRenderer:function(){var e=this,t=e.getConfig(),i=new THREE.WebGLRenderer({});return i.setClearColor(e.theme.clearColor,1),i.setSize(t.width,t.height),document.getElementById(t.id).appendChild(i.domElement),e.renderer=i,e},setTheme:function(e){var t=this;return assert(themes[e]),t.theme=themes[e],t},initMask:function(){var e,t=this,i=t.getConfig();return e=document.createElement("div"),e.className="t3-mask",e.style.position="absolute",e.style.top="0px",e.style.width="100%",e.style.height="100%",e.style.background="rgba(0,0,0,0.5)",document.getElementById(i.id).appendChild(e),t.mask=e,t},maskVisible:function(e){var t=this.mask;t.style.display=e?"block":"none"},initDatGui:function(){var e=this,t=e.getConfig(),i=new dat.GUI({autoPlace:!1});return i.domElement.style.position="absolute",i.domElement.style.top="0px",i.domElement.style.right="0px",document.getElementById(t.id).appendChild(i.domElement),e.datgui=i,e},initStats:function(){var e,t=this,i=t.getConfig();return e=new Stats,e.domElement.style.position="absolute",e.domElement.style.bottom="0px",document.getElementById(i.id).appendChild(e.domElement),t.stats=e,t},initFullScreen:function(){var e=this.getConfig();e.fullScreen&&THREEx.FullScreen.available()&&THREEx.FullScreen.bindKey()},setActiveCamera:function(e){return this.activeCamera=this.cameras[e],this},addCamera:function(e,t){return console.assert(e instanceof THREE.PerspectiveCamera||e instanceof THREE.OrthographicCamera),this.cameras[t]=e,this},createDefaultCamera:function(){var e,t=this,i=t.getConfig(),n=i.width,a=i.height,r={fov:38,ratio:n/a,near:1,far:1e4};return e=new THREE.PerspectiveCamera(r.fov,r.ratio,r.near,r.far),e.position.set(500,300,500),i.fullScreen&&THREEx.WindowResize.bind(t.renderer,e),t.createCameraControls(e).addCamera(e,"default").setActiveCamera("default"),t},createCameraControls:function(e){var t=this;return e.cameraControls=new THREE.OrbitControls(e,t.renderer.domElement),e.cameraControls.maxPolarAngle=Math.PI/2*.99,e.cameraControls.target.set(100,100,100),t},createDefaultLights:function(){var e,t=this.scenes["default"];return e=new THREE.AmbientLight(2236962),t.add(e).cache("ambient-light-1"),e=new THREE.DirectionalLight(16777215,1),e.position.set(200,400,500),t.add(e).cache("directional-light-1"),e=new THREE.DirectionalLight(16777215,1),e.position.set(-500,250,-200),t.add(e).cache("directional-light-2"),this},initCoordinates:function(){var e=this.getConfig();this.scenes["default"].add(new Coordinates(e.ambientConfig,this.theme).initDatGui(this.datgui).mesh)},initKeyboard:function(){this.keyboard=new Keyboard},gameLoop:function(){var e=this.getConfig();this.loopManager=new LoopManager(this,e.renderImmediately).initDatGui(this.datgui).animate()},update:function(e){var t=this;t.stats.update(),t.activeCamera.cameraControls&&t.activeCamera.cameraControls.update(e)},render:function(){var e=this;e.renderer.render(e.activeScene,e.activeCamera)},injectCache:function(e){var t,i,n=this,a=THREE.Object3D.prototype.add,r=THREE.Object3D.prototype.remove,o=this.__t3cache__;e?(THREE.Object3D.prototype.add=function(e){return i="add",t=e,a.apply(this,arguments)},THREE.Object3D.prototype.remove=function(e){return i="remove",t=e,r.apply(this,arguments)},THREE.Object3D.prototype.cache=function(e){return assert(t,"T3.Application.prototype.cache: this method needs a previous call to add/remove"),"add"===i?(t.name=t.name||e,assert(t.name),o[t.name]=t):(assert(t.name),delete o[t.name]),t=null,n}):THREE.Object3D.prototype.cache=function(){return this}},getFromCache:function(e){return this.__t3cache__[e]}},Application.run=function(e){_.merge({init:function(){},update:function(){}},e),assert(e.id,"canvas id required");var t=function(e){Application.call(this,e),e.init.call(this,e)};return t.prototype=Object.create(Application.prototype),t.prototype.update=function(t){Application.prototype.update.call(this,t),e.update.call(this,t)},new t(e)},module.exports=Application;
//# sourceMappingURL=t3.map.json
}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"../lib/THREEx/":9,"../model/Coordinates":12,"../themes/dark":13,"../themes/light":14,"../utils/hashkey":15,"./Keyboard":3,"./LoopManager":4,"T3.Stats":11,"T3.dat":10,"lodash":1}],3:[function(_dereq_,module,exports){
function Keyboard(){this.keys=[]}Keyboard.prototype={init:function(){var e,n=this;for(e=0;256>e;e+=1)n.keys[e]=!1;document.addEventListener("keydown",n.onKeyDown(),!1),document.addEventListener("keyup",n.onKeyUp(),!1)},onKeyDown:function(){var e=this;return function(n){e.keys[n.keyCode]=!0}},onKeyUp:function(){var e=this;return function(n){e.keys[n.keyCode]=!1}},get:function(e){return this.keys[e.charCodeAt(0)]},set:function(e,n){this.keys[e.charCodeAt(0)]=n}},module.exports=Keyboard;
//# sourceMappingURL=t3.map.json
},{}],4:[function(_dereq_,module,exports){
(function (global){
function LoopManager(a,i){this.application=a,this.clock=new THREE.Clock,this.pause=!i,this.fps=60,this.guiControllers={}}var THREE="undefined"!=typeof window?window.THREE:"undefined"!=typeof global?global.THREE:null,Application=_dereq_("./Application");LoopManager.prototype={constructor:LoopManager,initDatGui:function(a){var i=this,t=a.addFolder("Game Loop");return t.add(this,"fps",10,60,1).name("Frame rate"),i.guiControllers.pause=t.add(this,"pause").name("Paused").onFinishChange(function(a){a||i.animate(),i.application.maskVisible(a)}),this},animate:function(){var a,i=this,t=0;return a=function(){if(!i.pause){var n=i.clock.getDelta(),e=1/i.fps;n=Math.min(n,e),t+=n,t>=e&&(i.application.update(n),i.application.render(),t-=e),window.requestAnimationFrame(a)}},a(),i},start:function(){var a=this;a.guiControllers.pause.setValue(!1)},stop:function(){var a=this;a.guiControllers.pause.setValue(!0)}},module.exports=LoopManager;
//# sourceMappingURL=t3.map.json
}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./Application":2}],5:[function(_dereq_,module,exports){
_dereq_("./lib/OrbitControls");var t3={model:{Coordinates:_dereq_("./model/Coordinates")},Application:_dereq_("./controller/Application")};module.exports=t3;
//# sourceMappingURL=t3.map.json
},{"./controller/Application":2,"./lib/OrbitControls":6,"./model/Coordinates":12}],6:[function(_dereq_,module,exports){
THREE.OrbitControls=function(t,e){function n(){return 2*Math.PI/60/60*p.autoRotateSpeed}function o(){return Math.pow(.95,p.zoomSpeed)}function a(t){if(p.enabled!==!1){if(t.preventDefault(),0===t.button){if(p.noRotate===!0)return;j=V.ROTATE,E.set(t.clientX,t.clientY)}else if(1===t.button){if(p.noZoom===!0)return;j=V.DOLLY,O.set(t.clientX,t.clientY)}else if(2===t.button){if(p.noPan===!0)return;j=V.PAN,b.set(t.clientX,t.clientY)}document.addEventListener("mousemove",i,!1),document.addEventListener("mouseup",s,!1),p.dispatchEvent(A)}}function i(t){if(p.enabled!==!1){t.preventDefault();var e=p.domElement===document?p.domElement.body:p.domElement;if(j===V.ROTATE){if(p.noRotate===!0)return;m.set(t.clientX,t.clientY),f.subVectors(m,E),p.rotateLeft(2*Math.PI*f.x/e.clientWidth*p.rotateSpeed),p.rotateUp(2*Math.PI*f.y/e.clientHeight*p.rotateSpeed),E.copy(m)}else if(j===V.DOLLY){if(p.noZoom===!0)return;R.set(t.clientX,t.clientY),H.subVectors(R,O),H.y>0?p.dollyIn():p.dollyOut(),O.copy(R)}else if(j===V.PAN){if(p.noPan===!0)return;v.set(t.clientX,t.clientY),y.subVectors(v,b),p.pan(y.x,y.y),b.copy(v)}p.update()}}function s(){p.enabled!==!1&&(document.removeEventListener("mousemove",i,!1),document.removeEventListener("mouseup",s,!1),p.dispatchEvent(S),j=V.NONE)}function c(t){if(p.enabled!==!1&&p.noZoom!==!0){t.preventDefault(),t.stopPropagation();var e=0;void 0!==t.wheelDelta?e=t.wheelDelta:void 0!==t.detail&&(e=-t.detail),e>0?p.dollyOut():p.dollyIn(),p.update(),p.dispatchEvent(A),p.dispatchEvent(S)}}function r(t){if(p.enabled!==!1&&p.noKeys!==!0&&p.noPan!==!0)switch(t.keyCode){case p.keys.UP:p.pan(0,p.keyPanSpeed),p.update();break;case p.keys.BOTTOM:p.pan(0,-p.keyPanSpeed),p.update();break;case p.keys.LEFT:p.pan(p.keyPanSpeed,0),p.update();break;case p.keys.RIGHT:p.pan(-p.keyPanSpeed,0),p.update()}}function h(t){if(p.enabled!==!1){switch(t.touches.length){case 1:if(p.noRotate===!0)return;j=V.TOUCH_ROTATE,E.set(t.touches[0].pageX,t.touches[0].pageY);break;case 2:if(p.noZoom===!0)return;j=V.TOUCH_DOLLY;var e=t.touches[0].pageX-t.touches[1].pageX,n=t.touches[0].pageY-t.touches[1].pageY,o=Math.sqrt(e*e+n*n);O.set(0,o);break;case 3:if(p.noPan===!0)return;j=V.TOUCH_PAN,b.set(t.touches[0].pageX,t.touches[0].pageY);break;default:j=V.NONE}p.dispatchEvent(A)}}function d(t){if(p.enabled!==!1){t.preventDefault(),t.stopPropagation();var e=p.domElement===document?p.domElement.body:p.domElement;switch(t.touches.length){case 1:if(p.noRotate===!0)return;if(j!==V.TOUCH_ROTATE)return;m.set(t.touches[0].pageX,t.touches[0].pageY),f.subVectors(m,E),p.rotateLeft(2*Math.PI*f.x/e.clientWidth*p.rotateSpeed),p.rotateUp(2*Math.PI*f.y/e.clientHeight*p.rotateSpeed),E.copy(m),p.update();break;case 2:if(p.noZoom===!0)return;if(j!==V.TOUCH_DOLLY)return;var n=t.touches[0].pageX-t.touches[1].pageX,o=t.touches[0].pageY-t.touches[1].pageY,a=Math.sqrt(n*n+o*o);R.set(0,a),H.subVectors(R,O),H.y>0?p.dollyOut():p.dollyIn(),O.copy(R),p.update();break;case 3:if(p.noPan===!0)return;if(j!==V.TOUCH_PAN)return;v.set(t.touches[0].pageX,t.touches[0].pageY),y.subVectors(v,b),p.pan(y.x,y.y),b.copy(v),p.update();break;default:j=V.NONE}}}function u(){p.enabled!==!1&&(p.dispatchEvent(S),j=V.NONE)}this.object=t,this.domElement=void 0!==e?e:document,this.enabled=!0,this.target=new THREE.Vector3,this.center=this.target,this.noZoom=!1,this.zoomSpeed=1,this.minDistance=0,this.maxDistance=1/0,this.noRotate=!1,this.rotateSpeed=1,this.noPan=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.noKeys=!1,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40};var p=this,l=1e-6,E=new THREE.Vector2,m=new THREE.Vector2,f=new THREE.Vector2,b=new THREE.Vector2,v=new THREE.Vector2,y=new THREE.Vector2,T=new THREE.Vector3,g=new THREE.Vector3,O=new THREE.Vector2,R=new THREE.Vector2,H=new THREE.Vector2,L=0,P=0,w=1,M=new THREE.Vector3,k=new THREE.Vector3,N=new THREE.Quaternion,V={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},j=V.NONE;this.target0=this.target.clone(),this.position0=this.object.position.clone();var Y=(new THREE.Quaternion).setFromUnitVectors(t.up,new THREE.Vector3(0,1,0)),D=Y.clone().inverse(),x={type:"change"},A={type:"start"},S={type:"end"};this.rotateLeft=function(t){void 0===t&&(t=n()),P-=t},this.rotateUp=function(t){void 0===t&&(t=n()),L-=t},this.panLeft=function(t){var e=this.object.matrix.elements;T.set(e[0],e[1],e[2]),T.multiplyScalar(-t),M.add(T)},this.panUp=function(t){var e=this.object.matrix.elements;T.set(e[4],e[5],e[6]),T.multiplyScalar(t),M.add(T)},this.pan=function(t,e){var n=p.domElement===document?p.domElement.body:p.domElement;if(void 0!==p.object.fov){var o=p.object.position,a=o.clone().sub(p.target),i=a.length();i*=Math.tan(p.object.fov/2*Math.PI/180),p.panLeft(2*t*i/n.clientHeight),p.panUp(2*e*i/n.clientHeight)}else void 0!==p.object.top?(p.panLeft(t*(p.object.right-p.object.left)/n.clientWidth),p.panUp(e*(p.object.top-p.object.bottom)/n.clientHeight)):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.")},this.dollyIn=function(t){void 0===t&&(t=o()),w/=t},this.dollyOut=function(t){void 0===t&&(t=o()),w*=t},this.update=function(){var t=this.object.position;g.copy(t).sub(this.target),g.applyQuaternion(Y);var e=Math.atan2(g.x,g.z),o=Math.atan2(Math.sqrt(g.x*g.x+g.z*g.z),g.y);this.autoRotate&&this.rotateLeft(n()),e+=P,o+=L,o=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,o)),o=Math.max(l,Math.min(Math.PI-l,o));var a=g.length()*w;a=Math.max(this.minDistance,Math.min(this.maxDistance,a)),this.target.add(M),g.x=a*Math.sin(o)*Math.sin(e),g.y=a*Math.cos(o),g.z=a*Math.sin(o)*Math.cos(e),g.applyQuaternion(D),t.copy(this.target).add(g),this.object.lookAt(this.target),P=0,L=0,w=1,M.set(0,0,0),(k.distanceToSquared(this.object.position)>l||8*(1-N.dot(this.object.quaternion))>l)&&(this.dispatchEvent(x),k.copy(this.object.position),N.copy(this.object.quaternion))},this.reset=function(){j=V.NONE,this.target.copy(this.target0),this.object.position.copy(this.position0),this.update()},this.domElement.addEventListener("contextmenu",function(t){t.preventDefault()},!1),this.domElement.addEventListener("mousedown",a,!1),this.domElement.addEventListener("mousewheel",c,!1),this.domElement.addEventListener("DOMMouseScroll",c,!1),this.domElement.addEventListener("touchstart",h,!1),this.domElement.addEventListener("touchend",u,!1),this.domElement.addEventListener("touchmove",d,!1),window.addEventListener("keydown",r,!1),this.update()},THREE.OrbitControls.prototype=Object.create(THREE.EventDispatcher.prototype);
//# sourceMappingURL=t3.map.json
},{}],7:[function(_dereq_,module,exports){
var fullScreen={};fullScreen.available=function(){return this._hasWebkitFullScreen||this._hasMozFullScreen},fullScreen.activated=function(){return this._hasWebkitFullScreen?document.webkitIsFullScreen:this._hasMozFullScreen?document.mozFullScreen:void console.assert(!1)},fullScreen.request=function(e){e=e||document.body,this._hasWebkitFullScreen?e.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):this._hasMozFullScreen?e.mozRequestFullScreen():console.assert(!1)},fullScreen.cancel=function(){this._hasWebkitFullScreen?document.webkitCancelFullScreen():this._hasMozFullScreen?document.mozCancelFullScreen():console.assert(!1)},fullScreen._hasWebkitFullScreen="webkitCancelFullScreen"in document?!0:!1,fullScreen._hasMozFullScreen="mozCancelFullScreen"in document?!0:!1,fullScreen.bindKey=function(e){e=e||{};var n=e.charCode||"f".charCodeAt(0),l=void 0!==e.dblclick?e.dblclick:!1,c=e.element,t=function(){fullScreen.activated()?fullScreen.cancel():fullScreen.request(c)},u=function(e,n){return function(){return e.apply(n,arguments)}},r=u(function(e){e.which===n&&t()},this);return document.addEventListener("keypress",r,!1),l&&document.addEventListener("dblclick",t,!1),{unbind:function(){document.removeEventListener("keypress",r,!1),l&&document.removeEventListener("dblclick",t,!1)}}},module.exports=fullScreen;
//# sourceMappingURL=t3.map.json
},{}],8:[function(_dereq_,module,exports){
var windowResize={};windowResize=function(e,i){var n=function(){e.setSize(window.innerWidth,window.innerHeight),i.aspect=window.innerWidth/window.innerHeight,i.updateProjectionMatrix()};return window.addEventListener("resize",n,!1),{stop:function(){window.removeEventListener("resize",n)}}},windowResize.bind=function(e,i){return windowResize(e,i)},module.exports=windowResize;
//# sourceMappingURL=t3.map.json
},{}],9:[function(_dereq_,module,exports){
module.exports={WindowResize:_dereq_("./WindowResize"),FullScreen:_dereq_("./FullScreen")};
//# sourceMappingURL=t3.map.json
},{"./FullScreen":7,"./WindowResize":8}],10:[function(_dereq_,module,exports){
(function (global){
__browserify_shim_require__=_dereq_,function(e,t,n,o,i){var r=r||{};r.gui=r.gui||{},r.utils=r.utils||{},r.controllers=r.controllers||{},r.dom=r.dom||{},r.color=r.color||{},r.utils.css=function(){return{load:function(e,t){var t=t||document,n=t.createElement("link");n.type="text/css",n.rel="stylesheet",n.href=e,t.getElementsByTagName("head")[0].appendChild(n)},inject:function(e,t){var t=t||document,n=document.createElement("style");n.type="text/css",n.innerHTML=e,t.getElementsByTagName("head")[0].appendChild(n)}}}(),r.utils.common=function(){var e=Array.prototype.forEach,t=Array.prototype.slice;return{BREAK:{},extend:function(e){return this.each(t.call(arguments,1),function(t){for(var n in t)this.isUndefined(t[n])||(e[n]=t[n])},this),e},defaults:function(e){return this.each(t.call(arguments,1),function(t){for(var n in t)this.isUndefined(e[n])&&(e[n]=t[n])},this),e},compose:function(){var e=t.call(arguments);return function(){for(var n=t.call(arguments),o=e.length-1;o>=0;o--)n=[e[o].apply(this,n)];return n[0]}},each:function(t,n,o){if(e&&t.forEach===e)t.forEach(n,o);else if(t.length===t.length+0)for(var i=0,r=t.length;r>i&&!(i in t&&n.call(o,t[i],i)===this.BREAK);i++);else for(i in t)if(n.call(o,t[i],i)===this.BREAK)break},defer:function(e){setTimeout(e,0)},toArray:function(e){return e.toArray?e.toArray():t.call(e)},isUndefined:function(e){return void 0===e},isNull:function(e){return null===e},isNaN:function(e){return e!==e},isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return e===!1||e===!0},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)}}}(),r.controllers.Controller=function(e){var t=function(e,t){this.initialValue=e[t],this.domElement=document.createElement("div"),this.object=e,this.property=t,this.__onFinishChange=this.__onChange=void 0};return e.extend(t.prototype,{onChange:function(e){return this.__onChange=e,this},onFinishChange:function(e){return this.__onFinishChange=e,this},setValue:function(e){return this.object[this.property]=e,this.__onChange&&this.__onChange.call(this,e),this.updateDisplay(),this},getValue:function(){return this.object[this.property]},updateDisplay:function(){return this},isModified:function(){return this.initialValue!==this.getValue()}}),t}(r.utils.common),r.dom.dom=function(e){function t(t){return"0"===t||e.isUndefined(t)?0:(t=t.match(o),e.isNull(t)?0:parseFloat(t[1]))}var n={};e.each({HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},function(t,o){e.each(t,function(e){n[e]=o})});var o=/(\d+(\.\d+)?)px/,i={makeSelectable:function(e,t){void 0!==e&&void 0!==e.style&&(e.onselectstart=t?function(){return!1}:function(){},e.style.MozUserSelect=t?"auto":"none",e.style.KhtmlUserSelect=t?"auto":"none",e.unselectable=t?"on":"off")},makeFullscreen:function(t,n,o){e.isUndefined(n)&&(n=!0),e.isUndefined(o)&&(o=!0),t.style.position="absolute",n&&(t.style.left=0,t.style.right=0),o&&(t.style.top=0,t.style.bottom=0)},fakeEvent:function(t,o,i,r){var i=i||{},s=n[o];if(!s)throw Error("Event type "+o+" not supported.");var a=document.createEvent(s);switch(s){case"MouseEvents":a.initMouseEvent(o,i.bubbles||!1,i.cancelable||!0,window,i.clickCount||1,0,0,i.x||i.clientX||0,i.y||i.clientY||0,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":s=a.initKeyboardEvent||a.initKeyEvent,e.defaults(i,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),s(o,i.bubbles||!1,i.cancelable,window,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.keyCode,i.charCode);break;default:a.initEvent(o,i.bubbles||!1,i.cancelable||!0)}e.defaults(a,r),t.dispatchEvent(a)},bind:function(e,t,n,o){return e.addEventListener?e.addEventListener(t,n,o||!1):e.attachEvent&&e.attachEvent("on"+t,n),i},unbind:function(e,t,n,o){return e.removeEventListener?e.removeEventListener(t,n,o||!1):e.detachEvent&&e.detachEvent("on"+t,n),i},addClass:function(e,t){if(void 0===e.className)e.className=t;else if(e.className!==t){var n=e.className.split(/ +/);-1==n.indexOf(t)&&(n.push(t),e.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return i},removeClass:function(e,t){if(t){if(void 0!==e.className)if(e.className===t)e.removeAttribute("class");else{var n=e.className.split(/ +/),o=n.indexOf(t);-1!=o&&(n.splice(o,1),e.className=n.join(" "))}}else e.className=void 0;return i},hasClass:function(e,t){return RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)").test(e.className)||!1},getWidth:function(e){return e=getComputedStyle(e),t(e["border-left-width"])+t(e["border-right-width"])+t(e["padding-left"])+t(e["padding-right"])+t(e.width)},getHeight:function(e){return e=getComputedStyle(e),t(e["border-top-width"])+t(e["border-bottom-width"])+t(e["padding-top"])+t(e["padding-bottom"])+t(e.height)},getOffset:function(e){var t={left:0,top:0};if(e.offsetParent)do t.left+=e.offsetLeft,t.top+=e.offsetTop;while(e=e.offsetParent);return t},isActive:function(e){return e===document.activeElement&&(e.type||e.href)}};return i}(r.utils.common),r.controllers.OptionController=function(e,t,n){var o=function(e,i,r){o.superclass.call(this,e,i);var s=this;if(this.__select=document.createElement("select"),n.isArray(r)){var a={};n.each(r,function(e){a[e]=e}),r=a}n.each(r,function(e,t){var n=document.createElement("option");n.innerHTML=t,n.setAttribute("value",e),s.__select.appendChild(n)}),this.updateDisplay(),t.bind(this.__select,"change",function(){s.setValue(this.options[this.selectedIndex].value)}),this.domElement.appendChild(this.__select)};return o.superclass=e,n.extend(o.prototype,e.prototype,{setValue:function(e){return e=o.superclass.prototype.setValue.call(this,e),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),e},updateDisplay:function(){return this.__select.value=this.getValue(),o.superclass.prototype.updateDisplay.call(this)}}),o}(r.controllers.Controller,r.dom.dom,r.utils.common),r.controllers.NumberController=function(e,t){var n=function(e,o,i){n.superclass.call(this,e,o),i=i||{},this.__min=i.min,this.__max=i.max,this.__step=i.step,e=this.__impliedStep=t.isUndefined(this.__step)?0==this.initialValue?1:Math.pow(10,Math.floor(Math.log(this.initialValue)/Math.LN10))/10:this.__step,e=e.toString(),this.__precision=e.indexOf(".")>-1?e.length-e.indexOf(".")-1:0};return n.superclass=e,t.extend(n.prototype,e.prototype,{setValue:function(e){return void 0!==this.__min&&e<this.__min?e=this.__min:void 0!==this.__max&&e>this.__max&&(e=this.__max),void 0!==this.__step&&e%this.__step!=0&&(e=Math.round(e/this.__step)*this.__step),n.superclass.prototype.setValue.call(this,e)},min:function(e){return this.__min=e,this},max:function(e){return this.__max=e,this},step:function(e){return this.__step=e,this}}),n}(r.controllers.Controller,r.utils.common),r.controllers.NumberControllerBox=function(e,t,n){var o=function(e,i,r){function s(){var e=parseFloat(c.__input.value);n.isNaN(e)||c.setValue(e)}function a(e){var t=d-e.clientY;c.setValue(c.getValue()+t*c.__impliedStep),d=e.clientY}function l(){t.unbind(window,"mousemove",a),t.unbind(window,"mouseup",l)}this.__truncationSuspended=!1,o.superclass.call(this,e,i,r);var d,c=this;this.__input=document.createElement("input"),this.__input.setAttribute("type","text"),t.bind(this.__input,"change",s),t.bind(this.__input,"blur",function(){s(),c.__onFinishChange&&c.__onFinishChange.call(c,c.getValue())}),t.bind(this.__input,"mousedown",function(e){t.bind(window,"mousemove",a),t.bind(window,"mouseup",l),d=e.clientY}),t.bind(this.__input,"keydown",function(e){13===e.keyCode&&(c.__truncationSuspended=!0,this.blur(),c.__truncationSuspended=!1)}),this.updateDisplay(),this.domElement.appendChild(this.__input)};return o.superclass=e,n.extend(o.prototype,e.prototype,{updateDisplay:function(){var e,t=this.__input;if(this.__truncationSuspended)e=this.getValue();else{e=this.getValue();var n=Math.pow(10,this.__precision);e=Math.round(e*n)/n}return t.value=e,o.superclass.prototype.updateDisplay.call(this)}}),o}(r.controllers.NumberController,r.dom.dom,r.utils.common),r.controllers.NumberControllerSlider=function(e,t,n,o,i){var r=function(e,n,o,i,s){function a(e){e.preventDefault();var n=t.getOffset(d.__background),o=t.getWidth(d.__background);return d.setValue(d.__min+(d.__max-d.__min)*((e.clientX-n.left)/(n.left+o-n.left))),!1}function l(){t.unbind(window,"mousemove",a),t.unbind(window,"mouseup",l),d.__onFinishChange&&d.__onFinishChange.call(d,d.getValue())}r.superclass.call(this,e,n,{min:o,max:i,step:s});var d=this;this.__background=document.createElement("div"),this.__foreground=document.createElement("div"),t.bind(this.__background,"mousedown",function(e){t.bind(window,"mousemove",a),t.bind(window,"mouseup",l),a(e)}),t.addClass(this.__background,"slider"),t.addClass(this.__foreground,"slider-fg"),this.updateDisplay(),this.__background.appendChild(this.__foreground),this.domElement.appendChild(this.__background)};return r.superclass=e,r.useDefaultStyles=function(){n.inject(i)},o.extend(r.prototype,e.prototype,{updateDisplay:function(){return this.__foreground.style.width=(this.getValue()-this.__min)/(this.__max-this.__min)*100+"%",r.superclass.prototype.updateDisplay.call(this)}}),r}(r.controllers.NumberController,r.dom.dom,r.utils.css,r.utils.common,".slider {\n  box-shadow: inset 0 2px 4px rgba(0,0,0,0.15);\n  height: 1em;\n  border-radius: 1em;\n  background-color: #eee;\n  padding: 0 0.5em;\n  overflow: hidden;\n}\n\n.slider-fg {\n  padding: 1px 0 2px 0;\n  background-color: #aaa;\n  height: 1em;\n  margin-left: -0.5em;\n  padding-right: 0.5em;\n  border-radius: 1em 0 0 1em;\n}\n\n.slider-fg:after {\n  display: inline-block;\n  border-radius: 1em;\n  background-color: #fff;\n  border:  1px solid #aaa;\n  content: '';\n  float: right;\n  margin-right: -1em;\n  margin-top: -1px;\n  height: 0.9em;\n  width: 0.9em;\n}"),r.controllers.FunctionController=function(e,t,n){var o=function(e,n,i){o.superclass.call(this,e,n);var r=this;this.__button=document.createElement("div"),this.__button.innerHTML=void 0===i?"Fire":i,t.bind(this.__button,"click",function(e){return e.preventDefault(),r.fire(),!1}),t.addClass(this.__button,"button"),this.domElement.appendChild(this.__button)};return o.superclass=e,n.extend(o.prototype,e.prototype,{fire:function(){this.__onChange&&this.__onChange.call(this),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.getValue().call(this.object)}}),o}(r.controllers.Controller,r.dom.dom,r.utils.common),r.controllers.BooleanController=function(e,t,n){var o=function(e,n){o.superclass.call(this,e,n);var i=this;this.__prev=this.getValue(),this.__checkbox=document.createElement("input"),this.__checkbox.setAttribute("type","checkbox"),t.bind(this.__checkbox,"change",function(){i.setValue(!i.__prev)},!1),this.domElement.appendChild(this.__checkbox),this.updateDisplay()};return o.superclass=e,n.extend(o.prototype,e.prototype,{setValue:function(e){return e=o.superclass.prototype.setValue.call(this,e),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),e},updateDisplay:function(){return this.getValue()===!0?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0):this.__checkbox.checked=!1,o.superclass.prototype.updateDisplay.call(this)}}),o}(r.controllers.Controller,r.dom.dom,r.utils.common),r.color.toString=function(e){return function(t){if(1==t.a||e.isUndefined(t.a)){for(t=t.hex.toString(16);t.length<6;)t="0"+t;return"#"+t}return"rgba("+Math.round(t.r)+","+Math.round(t.g)+","+Math.round(t.b)+","+t.a+")"}}(r.utils.common),r.color.interpret=function(e,t){var n,o,i=[{litmus:t.isString,conversions:{THREE_CHAR_HEX:{read:function(e){return e=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i),null===e?!1:{space:"HEX",hex:parseInt("0x"+e[1].toString()+e[1].toString()+e[2].toString()+e[2].toString()+e[3].toString()+e[3].toString())}},write:e},SIX_CHAR_HEX:{read:function(e){return e=e.match(/^#([A-F0-9]{6})$/i),null===e?!1:{space:"HEX",hex:parseInt("0x"+e[1].toString())}},write:e},CSS_RGB:{read:function(e){return e=e.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/),null===e?!1:{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3])}},write:e},CSS_RGBA:{read:function(e){return e=e.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/),null===e?!1:{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3]),a:parseFloat(e[4])}},write:e}}},{litmus:t.isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:t.isArray,conversions:{RGB_ARRAY:{read:function(e){return 3!=e.length?!1:{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return 4!=e.length?!1:{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:t.isObject,conversions:{RGBA_OBJ:{read:function(e){return t.isNumber(e.r)&&t.isNumber(e.g)&&t.isNumber(e.b)&&t.isNumber(e.a)?{space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}:!1},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return t.isNumber(e.r)&&t.isNumber(e.g)&&t.isNumber(e.b)?{space:"RGB",r:e.r,g:e.g,b:e.b}:!1},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return t.isNumber(e.h)&&t.isNumber(e.s)&&t.isNumber(e.v)&&t.isNumber(e.a)?{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}:!1},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return t.isNumber(e.h)&&t.isNumber(e.s)&&t.isNumber(e.v)?{space:"HSV",h:e.h,s:e.s,v:e.v}:!1},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}];return function(){o=!1;var e=arguments.length>1?t.toArray(arguments):arguments[0];return t.each(i,function(i){return i.litmus(e)?(t.each(i.conversions,function(i,r){return n=i.read(e),o===!1&&n!==!1?(o=n,n.conversionName=r,n.conversion=i,t.BREAK):void 0}),t.BREAK):void 0}),o}}(r.color.toString,r.utils.common),r.GUI=r.gui.GUI=function(e,t,n,o,i,r,s,a,l,d,c,u,h,_,p){function f(e,t,n,r){if(void 0===t[n])throw Error("Object "+t+' has no property "'+n+'"');r.color?t=new c(t,n):(t=[t,n].concat(r.factoryArgs),t=o.apply(e,t)),r.before instanceof i&&(r.before=r.before.__li),b(e,t),_.addClass(t.domElement,"c"),n=document.createElement("span"),_.addClass(n,"property-name"),n.innerHTML=t.property;var s=document.createElement("div");return s.appendChild(n),s.appendChild(t.domElement),r=m(e,s,r.before),_.addClass(r,D.CLASS_CONTROLLER_ROW),_.addClass(r,typeof t.getValue()),g(e,r,t),e.__controllers.push(t),t}function m(e,t,n){var o=document.createElement("li");return t&&o.appendChild(t),n?e.__ul.insertBefore(o,params.before):e.__ul.appendChild(o),e.onResize(),o}function g(e,t,n){if(n.__li=t,n.__gui=e,p.extend(n,{options:function(t){return arguments.length>1?(n.remove(),f(e,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[p.toArray(arguments)]})):p.isArray(t)||p.isObject(t)?(n.remove(),f(e,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[t]})):void 0},name:function(e){return n.__li.firstElementChild.firstElementChild.innerHTML=e,n},listen:function(){return n.__gui.listen(n),n},remove:function(){return n.__gui.remove(n),n}}),n instanceof l){var o=new a(n.object,n.property,{min:n.__min,max:n.__max,step:n.__step});p.each(["updateDisplay","onChange","onFinishChange"],function(e){var t=n[e],i=o[e];n[e]=o[e]=function(){var e=Array.prototype.slice.call(arguments);return t.apply(n,e),i.apply(o,e)}}),_.addClass(t,"has-slider"),n.domElement.insertBefore(o.domElement,n.domElement.firstElementChild)}else if(n instanceof a){var i=function(t){return p.isNumber(n.__min)&&p.isNumber(n.__max)?(n.remove(),f(e,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[n.__min,n.__max,n.__step]})):t};n.min=p.compose(i,n.min),n.max=p.compose(i,n.max)}else n instanceof r?(_.bind(t,"click",function(){_.fakeEvent(n.__checkbox,"click")}),_.bind(n.__checkbox,"click",function(e){e.stopPropagation()})):n instanceof s?(_.bind(t,"click",function(){_.fakeEvent(n.__button,"click")}),_.bind(t,"mouseover",function(){_.addClass(n.__button,"hover")}),_.bind(t,"mouseout",function(){_.removeClass(n.__button,"hover")})):n instanceof c&&(_.addClass(t,"color"),n.updateDisplay=p.compose(function(e){return t.style.borderLeftColor=n.__color.toString(),e},n.updateDisplay),n.updateDisplay());n.setValue=p.compose(function(t){return e.getRoot().__preset_select&&n.isModified()&&E(e.getRoot(),!0),t},n.setValue)}function b(e,t){var n=e.getRoot(),o=n.__rememberedObjects.indexOf(t.object);if(-1!=o){var i=n.__rememberedObjectIndecesToControllers[o];if(void 0===i&&(i={},n.__rememberedObjectIndecesToControllers[o]=i),i[t.property]=t,n.load&&n.load.remembered){if(n=n.load.remembered,n[e.preset])n=n[e.preset];else{if(!n[S])return;n=n[S]}n[o]&&void 0!==n[o][t.property]&&(o=n[o][t.property],t.initialValue=o,t.setValue(o))}}}function v(e){var t=e.__save_row=document.createElement("li");_.addClass(e.domElement,"has-save"),e.__ul.insertBefore(t,e.__ul.firstChild),_.addClass(t,"save-row");var n=document.createElement("span");n.innerHTML="&nbsp;",_.addClass(n,"button gears");var o=document.createElement("span");o.innerHTML="Save",_.addClass(o,"button"),_.addClass(o,"save");var i=document.createElement("span");i.innerHTML="New",_.addClass(i,"button"),_.addClass(i,"save-as");var r=document.createElement("span");r.innerHTML="Revert",_.addClass(r,"button"),_.addClass(r,"revert");var s=e.__preset_select=document.createElement("select");if(e.load&&e.load.remembered?p.each(e.load.remembered,function(t,n){C(e,n,n==e.preset)}):C(e,S,!1),_.bind(s,"change",function(){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].innerHTML=e.__preset_select[t].value;e.preset=this.value}),t.appendChild(s),t.appendChild(n),t.appendChild(o),t.appendChild(i),t.appendChild(r),k){var t=document.getElementById("dg-save-locally"),a=document.getElementById("dg-local-explain");t.style.display="block",t=document.getElementById("dg-local-storage"),"true"===localStorage.getItem(document.location.href+".isLocal")&&t.setAttribute("checked","checked");var l=function(){a.style.display=e.useLocalStorage?"block":"none"};l(),_.bind(t,"change",function(){e.useLocalStorage=!e.useLocalStorage,l()})}var d=document.getElementById("dg-new-constructor");_.bind(d,"keydown",function(e){e.metaKey&&(67===e.which||67==e.keyCode)&&T.hide()}),_.bind(n,"click",function(){d.innerHTML=JSON.stringify(e.getSaveObject(),void 0,2),T.show(),d.focus(),d.select()}),_.bind(o,"click",function(){e.save()}),_.bind(i,"click",function(){var t=prompt("Enter a new preset name.");t&&e.saveAs(t)}),_.bind(r,"click",function(){e.revert()})}function y(e){function t(t){return t.preventDefault(),i=t.clientX,_.addClass(e.__closeButton,D.CLASS_DRAG),_.bind(window,"mousemove",n),_.bind(window,"mouseup",o),!1}function n(t){return t.preventDefault(),e.width+=i-t.clientX,e.onResize(),i=t.clientX,!1}function o(){_.removeClass(e.__closeButton,D.CLASS_DRAG),_.unbind(window,"mousemove",n),_.unbind(window,"mouseup",o)}e.__resize_handle=document.createElement("div"),p.extend(e.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"});var i;_.bind(e.__resize_handle,"mousedown",t),_.bind(e.__closeButton,"mousedown",t),e.domElement.insertBefore(e.__resize_handle,e.domElement.firstElementChild)}function x(e,t){e.domElement.style.width=t+"px",e.__save_row&&e.autoPlace&&(e.__save_row.style.width=t+"px"),e.__closeButton&&(e.__closeButton.style.width=t+"px")}function w(e,t){var n={};return p.each(e.__rememberedObjects,function(o,i){var r={};p.each(e.__rememberedObjectIndecesToControllers[i],function(e,n){r[n]=t?e.initialValue:e.getValue()}),n[i]=r}),n}function C(e,t,n){var o=document.createElement("option");o.innerHTML=t,o.value=t,e.__preset_select.appendChild(o),n&&(e.__preset_select.selectedIndex=e.__preset_select.length-1)}function E(e,t){var n=e.__preset_select[e.__preset_select.selectedIndex];n.innerHTML=t?n.value+"*":n.value}function A(e){0!=e.length&&u(function(){A(e)}),p.each(e,function(e){e.updateDisplay()})}e.inject(n);var k,S="Default";try{k="localStorage"in window&&null!==window.localStorage}catch(O){k=!1}var T,N,L=!0,R=!1,B=[],D=function(e){function t(){localStorage.setItem(document.location.href+".gui",JSON.stringify(o.getSaveObject()))}function n(){var e=o.getRoot();e.width+=1,p.defer(function(){e.width-=1})}var o=this;this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),_.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],e=e||{},e=p.defaults(e,{autoPlace:!0,width:D.DEFAULT_WIDTH}),e=p.defaults(e,{resizable:e.autoPlace,hideable:e.autoPlace}),p.isUndefined(e.load)?e.load={preset:S}:e.preset&&(e.load.preset=e.preset),p.isUndefined(e.parent)&&e.hideable&&B.push(this),e.resizable=p.isUndefined(e.parent)&&e.resizable,e.autoPlace&&p.isUndefined(e.scrollable)&&(e.scrollable=!0);var i=k&&"true"===localStorage.getItem(document.location.href+".isLocal");if(Object.defineProperties(this,{parent:{get:function(){return e.parent}},scrollable:{get:function(){return e.scrollable}},autoPlace:{get:function(){return e.autoPlace}},preset:{get:function(){return o.parent?o.getRoot().preset:e.load.preset},set:function(t){for(o.parent?o.getRoot().preset=t:e.load.preset=t,t=0;t<this.__preset_select.length;t++)this.__preset_select[t].value==this.preset&&(this.__preset_select.selectedIndex=t);o.revert()}},width:{get:function(){return e.width},set:function(t){e.width=t,x(o,t)}},name:{get:function(){return e.name},set:function(t){e.name=t,s&&(s.innerHTML=e.name)}},closed:{get:function(){return e.closed},set:function(t){e.closed=t,e.closed?_.addClass(o.__ul,D.CLASS_CLOSED):_.removeClass(o.__ul,D.CLASS_CLOSED),this.onResize(),o.__closeButton&&(o.__closeButton.innerHTML=t?D.TEXT_OPEN:D.TEXT_CLOSED)}},load:{get:function(){return e.load}},useLocalStorage:{get:function(){return i},set:function(e){k&&((i=e)?_.bind(window,"unload",t):_.unbind(window,"unload",t),localStorage.setItem(document.location.href+".isLocal",e))}}}),p.isUndefined(e.parent)){if(e.closed=!1,_.addClass(this.domElement,D.CLASS_MAIN),_.makeSelectable(this.domElement,!1),k&&i){o.useLocalStorage=!0;var r=localStorage.getItem(document.location.href+".gui");r&&(e.load=JSON.parse(r))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=D.TEXT_CLOSED,_.addClass(this.__closeButton,D.CLASS_CLOSE_BUTTON),this.domElement.appendChild(this.__closeButton),_.bind(this.__closeButton,"click",function(){o.closed=!o.closed})}else{void 0===e.closed&&(e.closed=!0);var s=document.createTextNode(e.name);_.addClass(s,"controller-name"),r=m(o,s),_.addClass(this.__ul,D.CLASS_CLOSED),_.addClass(r,"title"),_.bind(r,"click",function(e){return e.preventDefault(),o.closed=!o.closed,!1}),e.closed||(this.closed=!1)}e.autoPlace&&(p.isUndefined(e.parent)&&(L&&(N=document.createElement("div"),_.addClass(N,"dg"),_.addClass(N,D.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(N),L=!1),N.appendChild(this.domElement),_.addClass(this.domElement,D.CLASS_AUTO_PLACE)),this.parent||x(o,e.width)),_.bind(window,"resize",function(){o.onResize()}),_.bind(this.__ul,"webkitTransitionEnd",function(){o.onResize()}),_.bind(this.__ul,"transitionend",function(){o.onResize()}),_.bind(this.__ul,"oTransitionEnd",function(){o.onResize()}),this.onResize(),e.resizable&&y(this),o.getRoot(),e.parent||n()};return D.toggleHide=function(){R=!R,p.each(B,function(e){e.domElement.style.zIndex=R?-999:999,e.domElement.style.opacity=R?0:1})},D.CLASS_AUTO_PLACE="a",D.CLASS_AUTO_PLACE_CONTAINER="ac",D.CLASS_MAIN="main",D.CLASS_CONTROLLER_ROW="cr",D.CLASS_TOO_TALL="taller-than-window",D.CLASS_CLOSED="closed",D.CLASS_CLOSE_BUTTON="close-button",D.CLASS_DRAG="drag",D.DEFAULT_WIDTH=245,D.TEXT_CLOSED="Close Controls",D.TEXT_OPEN="Open Controls",_.bind(window,"keydown",function(e){"text"!==document.activeElement.type&&(72===e.which||72==e.keyCode)&&D.toggleHide()},!1),p.extend(D.prototype,{add:function(e,t){return f(this,e,t,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(e,t){return f(this,e,t,{color:!0})},remove:function(e){this.__ul.removeChild(e.__li),this.__controllers.slice(this.__controllers.indexOf(e),1);var t=this;p.defer(function(){t.onResize()})},destroy:function(){this.autoPlace&&N.removeChild(this.domElement)},addFolder:function(e){if(void 0!==this.__folders[e])throw Error('You already have a folder in this GUI by the name "'+e+'"');var t={name:e,parent:this};return t.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[e]&&(t.closed=this.load.folders[e].closed,t.load=this.load.folders[e]),t=new D(t),this.__folders[e]=t,e=m(this,t.domElement),_.addClass(e,"folder"),t},open:function(){this.closed=!1},close:function(){this.closed=!0},onResize:function(){var e=this.getRoot();if(e.scrollable){var t=_.getOffset(e.__ul).top,n=0;p.each(e.__ul.childNodes,function(t){e.autoPlace&&t===e.__save_row||(n+=_.getHeight(t))}),window.innerHeight-t-20<n?(_.addClass(e.domElement,D.CLASS_TOO_TALL),e.__ul.style.height=window.innerHeight-t-20+"px"):(_.removeClass(e.domElement,D.CLASS_TOO_TALL),e.__ul.style.height="auto")}e.__resize_handle&&p.defer(function(){e.__resize_handle.style.height=e.__ul.offsetHeight+"px"}),e.__closeButton&&(e.__closeButton.style.width=e.width+"px")},remember:function(){if(p.isUndefined(T)&&(T=new h,T.domElement.innerHTML=t),this.parent)throw Error("You can only call remember on a top level GUI.");var e=this;p.each(Array.prototype.slice.call(arguments),function(t){0==e.__rememberedObjects.length&&v(e),-1==e.__rememberedObjects.indexOf(t)&&e.__rememberedObjects.push(t)}),this.autoPlace&&x(this,this.width)},getRoot:function(){for(var e=this;e.parent;)e=e.parent;return e},getSaveObject:function(){var e=this.load;return e.closed=this.closed,this.__rememberedObjects.length>0&&(e.preset=this.preset,e.remembered||(e.remembered={}),e.remembered[this.preset]=w(this)),e.folders={},p.each(this.__folders,function(t,n){e.folders[n]=t.getSaveObject()}),e},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=w(this),E(this,!1)},saveAs:function(e){this.load.remembered||(this.load.remembered={},this.load.remembered[S]=w(this,!0)),this.load.remembered[e]=w(this),this.preset=e,C(this,e,!0)},revert:function(e){p.each(this.__controllers,function(t){this.getRoot().load.remembered?b(e||this.getRoot(),t):t.setValue(t.initialValue)},this),p.each(this.__folders,function(e){e.revert(e)}),e||E(this.getRoot(),!1)},listen:function(e){var t=0==this.__listening.length;this.__listening.push(e),t&&A(this.__listening)}}),D}(r.utils.css,'<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n      \n    </div>\n    \n  </div>\n\n</div>',".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear;border:0;position:absolute;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-x:hidden}.dg.a.has-save ul{margin-top:27px}.dg.a.has-save ul.closed{margin-top:0}.dg.a .save-row{position:fixed;top:0;z-index:1002}.dg li{-webkit-transition:height 0.1s ease-out;-o-transition:height 0.1s ease-out;-moz-transition:height 0.1s ease-out;transition:height 0.1s ease-out}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;overflow:hidden;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li > *{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:9px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2fa1d6}.dg .cr.number input[type=text]{color:#2fa1d6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2fa1d6}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n",r.controllers.factory=function(e,t,n,o,i,r,s){return function(a,l,d,c){var u=a[l];
return s.isArray(d)||s.isObject(d)?new e(a,l,d):s.isNumber(u)?s.isNumber(d)&&s.isNumber(c)?new n(a,l,d,c):new t(a,l,{min:d,max:c}):s.isString(u)?new o(a,l):s.isFunction(u)?new i(a,l,""):s.isBoolean(u)?new r(a,l):void 0}}(r.controllers.OptionController,r.controllers.NumberControllerBox,r.controllers.NumberControllerSlider,r.controllers.StringController=function(e,t,n){var o=function(e,n){function i(){r.setValue(r.__input.value)}o.superclass.call(this,e,n);var r=this;this.__input=document.createElement("input"),this.__input.setAttribute("type","text"),t.bind(this.__input,"keyup",i),t.bind(this.__input,"change",i),t.bind(this.__input,"blur",function(){r.__onFinishChange&&r.__onFinishChange.call(r,r.getValue())}),t.bind(this.__input,"keydown",function(e){13===e.keyCode&&this.blur()}),this.updateDisplay(),this.domElement.appendChild(this.__input)};return o.superclass=e,n.extend(o.prototype,e.prototype,{updateDisplay:function(){return t.isActive(this.__input)||(this.__input.value=this.getValue()),o.superclass.prototype.updateDisplay.call(this)}}),o}(r.controllers.Controller,r.dom.dom,r.utils.common),r.controllers.FunctionController,r.controllers.BooleanController,r.utils.common),r.controllers.Controller,r.controllers.BooleanController,r.controllers.FunctionController,r.controllers.NumberControllerBox,r.controllers.NumberControllerSlider,r.controllers.OptionController,r.controllers.ColorController=function(e,t,n,o,i){function r(e,t,n,o){e.style.background="",i.each(l,function(i){e.style.cssText+="background: "+i+"linear-gradient("+t+", "+n+" 0%, "+o+" 100%); "})}function s(e){e.style.background="",e.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",e.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}var a=function(e,l){function d(e){_(e),t.bind(window,"mousemove",_),t.bind(window,"mouseup",c)}function c(){t.unbind(window,"mousemove",_),t.unbind(window,"mouseup",c)}function u(){var e=o(this.value);e!==!1?(f.__color.__state=e,f.setValue(f.__color.toOriginal())):this.value=f.__color.toString()}function h(){t.unbind(window,"mousemove",p),t.unbind(window,"mouseup",h)}function _(e){e.preventDefault();var n=t.getWidth(f.__saturation_field),o=t.getOffset(f.__saturation_field),i=(e.clientX-o.left+document.body.scrollLeft)/n,e=1-(e.clientY-o.top+document.body.scrollTop)/n;return e>1?e=1:0>e&&(e=0),i>1?i=1:0>i&&(i=0),f.__color.v=e,f.__color.s=i,f.setValue(f.__color.toOriginal()),!1}function p(e){e.preventDefault();var n=t.getHeight(f.__hue_field),o=t.getOffset(f.__hue_field),e=1-(e.clientY-o.top+document.body.scrollTop)/n;return e>1?e=1:0>e&&(e=0),f.__color.h=360*e,f.setValue(f.__color.toOriginal()),!1}a.superclass.call(this,e,l),this.__color=new n(this.getValue()),this.__temp=new n(0);var f=this;this.domElement=document.createElement("div"),t.makeSelectable(this.domElement,!1),this.__selector=document.createElement("div"),this.__selector.className="selector",this.__saturation_field=document.createElement("div"),this.__saturation_field.className="saturation-field",this.__field_knob=document.createElement("div"),this.__field_knob.className="field-knob",this.__field_knob_border="2px solid ",this.__hue_knob=document.createElement("div"),this.__hue_knob.className="hue-knob",this.__hue_field=document.createElement("div"),this.__hue_field.className="hue-field",this.__input=document.createElement("input"),this.__input.type="text",this.__input_textShadow="0 1px 1px ",t.bind(this.__input,"keydown",function(e){13===e.keyCode&&u.call(this)}),t.bind(this.__input,"blur",u),t.bind(this.__selector,"mousedown",function(){t.addClass(this,"drag").bind(window,"mouseup",function(){t.removeClass(f.__selector,"drag")})});var m=document.createElement("div");i.extend(this.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),i.extend(this.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:this.__field_knob_border+(this.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),i.extend(this.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),i.extend(this.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),i.extend(m.style,{width:"100%",height:"100%",background:"none"}),r(m,"top","rgba(0,0,0,0)","#000"),i.extend(this.__hue_field.style,{width:"15px",height:"100px",display:"inline-block",border:"1px solid #555",cursor:"ns-resize"}),s(this.__hue_field),i.extend(this.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:this.__input_textShadow+"rgba(0,0,0,0.7)"}),t.bind(this.__saturation_field,"mousedown",d),t.bind(this.__field_knob,"mousedown",d),t.bind(this.__hue_field,"mousedown",function(e){p(e),t.bind(window,"mousemove",p),t.bind(window,"mouseup",h)}),this.__saturation_field.appendChild(m),this.__selector.appendChild(this.__field_knob),this.__selector.appendChild(this.__saturation_field),this.__selector.appendChild(this.__hue_field),this.__hue_field.appendChild(this.__hue_knob),this.domElement.appendChild(this.__input),this.domElement.appendChild(this.__selector),this.updateDisplay()};a.superclass=e,i.extend(a.prototype,e.prototype,{updateDisplay:function(){var e=o(this.getValue());if(e!==!1){var t=!1;i.each(n.COMPONENTS,function(n){return i.isUndefined(e[n])||i.isUndefined(this.__color.__state[n])||e[n]===this.__color.__state[n]?void 0:(t=!0,{})},this),t&&i.extend(this.__color.__state,e)}i.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var s=this.__color.v<.5||this.__color.s>.5?255:0,a=255-s;i.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toString(),border:this.__field_knob_border+"rgb("+s+","+s+","+s+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,r(this.__saturation_field,"left","#fff",this.__temp.toString()),i.extend(this.__input.style,{backgroundColor:this.__input.value=this.__color.toString(),color:"rgb("+s+","+s+","+s+")",textShadow:this.__input_textShadow+"rgba("+a+","+a+","+a+",.7)"})}});var l=["-moz-","-o-","-webkit-","-ms-",""];return a}(r.controllers.Controller,r.dom.dom,r.color.Color=function(e,t,n,o){function i(e,t,n){Object.defineProperty(e,t,{get:function(){return"RGB"===this.__state.space?this.__state[t]:(s(this,t,n),this.__state[t])},set:function(e){"RGB"!==this.__state.space&&(s(this,t,n),this.__state.space="RGB"),this.__state[t]=e}})}function r(e,t){Object.defineProperty(e,t,{get:function(){return"HSV"===this.__state.space?this.__state[t]:(a(this),this.__state[t])},set:function(e){"HSV"!==this.__state.space&&(a(this),this.__state.space="HSV"),this.__state[t]=e}})}function s(e,n,i){if("HEX"===e.__state.space)e.__state[n]=t.component_from_hex(e.__state.hex,i);else{if("HSV"!==e.__state.space)throw"Corrupted color state";o.extend(e.__state,t.hsv_to_rgb(e.__state.h,e.__state.s,e.__state.v))}}function a(e){var n=t.rgb_to_hsv(e.r,e.g,e.b);o.extend(e.__state,{s:n.s,v:n.v}),o.isNaN(n.h)?o.isUndefined(e.__state.h)&&(e.__state.h=0):e.__state.h=n.h}var l=function(){if(this.__state=e.apply(this,arguments),this.__state===!1)throw"Failed to interpret color arguments";this.__state.a=this.__state.a||1};return l.COMPONENTS="r,g,b,h,s,v,hex,a".split(","),o.extend(l.prototype,{toString:function(){return n(this)},toOriginal:function(){return this.__state.conversion.write(this)}}),i(l.prototype,"r",2),i(l.prototype,"g",1),i(l.prototype,"b",0),r(l.prototype,"h"),r(l.prototype,"s"),r(l.prototype,"v"),Object.defineProperty(l.prototype,"a",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}}),Object.defineProperty(l.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=t.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(e){this.__state.space="HEX",this.__state.hex=e}}),l}(r.color.interpret,r.color.math=function(){var e;return{hsv_to_rgb:function(e,t,n){var o=e/60-Math.floor(e/60),i=n*(1-t),r=n*(1-o*t),t=n*(1-(1-o)*t),e=[[n,t,i],[r,n,i],[i,n,t],[i,r,n],[t,i,n],[n,i,r]][Math.floor(e/60)%6];return{r:255*e[0],g:255*e[1],b:255*e[2]}},rgb_to_hsv:function(e,t,n){var o=Math.min(e,t,n),i=Math.max(e,t,n),o=i-o;return 0==i?{h:0/0,s:0,v:0}:(e=e==i?(t-n)/o:t==i?2+(n-e)/o:4+(e-t)/o,e/=6,0>e&&(e+=1),{h:360*e,s:o/i,v:i/255})},rgb_to_hex:function(e,t,n){return e=this.hex_with_component(0,2,e),e=this.hex_with_component(e,1,t),e=this.hex_with_component(e,0,n)},component_from_hex:function(e,t){return e>>8*t&255},hex_with_component:function(t,n,o){return o<<(e=8*n)|t&~(255<<e)}}}(),r.color.toString,r.utils.common),r.color.interpret,r.utils.common),r.utils.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),r.dom.CenteredDiv=function(e,t){var n=function(){this.backgroundElement=document.createElement("div"),t.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear"}),e.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),t.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var n=this;e.bind(this.backgroundElement,"click",function(){n.hide()})};return n.prototype.show=function(){var e=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),t.defer(function(){e.backgroundElement.style.opacity=1,e.domElement.style.opacity=1,e.domElement.style.webkitTransform="scale(1)"})},n.prototype.hide=function(){var t=this,n=function(){t.domElement.style.display="none",t.backgroundElement.style.display="none",e.unbind(t.domElement,"webkitTransitionEnd",n),e.unbind(t.domElement,"transitionend",n),e.unbind(t.domElement,"oTransitionEnd",n)};e.bind(this.domElement,"webkitTransitionEnd",n),e.bind(this.domElement,"transitionend",n),e.bind(this.domElement,"oTransitionEnd",n),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"},n.prototype.layout=function(){this.domElement.style.left=window.innerWidth/2-e.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-e.getHeight(this.domElement)/2+"px"},n}(r.dom.dom,r.utils.common),r.dom.dom,r.utils.common),i("undefined"!=typeof r?r:window.dat)}.call(global,void 0,void 0,void 0,void 0,function(e){module.exports=e});
//# sourceMappingURL=t3.map.json
}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],11:[function(_dereq_,module,exports){
(function (global){
__browserify_shim_require__=_dereq_,function(e,t,n,i,d){var a=function(){var e=Date.now(),t=e,n=0,i=1/0,d=0,a=0,o=1/0,l=0,s=0,r=0,c=document.createElement("div");c.id="stats",c.addEventListener("mousedown",function(e){e.preventDefault(),y(++r%2)},!1),c.style.cssText="width:80px;opacity:0.9;cursor:pointer";var p=document.createElement("div");p.id="fps",p.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#002",c.appendChild(p);var h=document.createElement("div");h.id="fpsText",h.style.cssText="color:#0ff;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",h.innerHTML="FPS",p.appendChild(h);var f=document.createElement("div");for(f.id="fpsGraph",f.style.cssText="position:relative;width:74px;height:30px;background-color:#0ff",p.appendChild(f);74>f.children.length;){var x=document.createElement("span");x.style.cssText="width:1px;height:30px;float:left;background-color:#113",f.appendChild(x)}var m=document.createElement("div");m.id="ms",m.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#020;display:none",c.appendChild(m);var u=document.createElement("div");u.id="msText",u.style.cssText="color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",u.innerHTML="MS",m.appendChild(u);var v=document.createElement("div");for(v.id="msGraph",v.style.cssText="position:relative;width:74px;height:30px;background-color:#0f0",m.appendChild(v);74>v.children.length;)x=document.createElement("span"),x.style.cssText="width:1px;height:30px;float:left;background-color:#131",v.appendChild(x);var y=function(e){switch(r=e){case 0:p.style.display="block",m.style.display="none";break;case 1:p.style.display="none",m.style.display="block"}};return{REVISION:11,domElement:c,setMode:y,begin:function(){e=Date.now()},end:function(){var r=Date.now();n=r-e,i=Math.min(i,n),d=Math.max(d,n),u.textContent=n+" MS ("+i+"-"+d+")";var c=Math.min(30,30-30*(n/200));return v.appendChild(v.firstChild).style.height=c+"px",s++,r>t+1e3&&(a=Math.round(1e3*s/(r-t)),o=Math.min(o,a),l=Math.max(l,a),h.textContent=a+" FPS ("+o+"-"+l+")",c=Math.min(30,30-30*(a/100)),f.appendChild(f.firstChild).style.height=c+"px",t=r,s=0),r},update:function(){e=this.end()}}};d("undefined"!=typeof a?a:window.Stats)}.call(global,void 0,void 0,void 0,void 0,function(e){module.exports=e});
//# sourceMappingURL=t3.map.json
}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],12:[function(_dereq_,module,exports){
(function (global){
var _=_dereq_("lodash"),THREE="undefined"!=typeof window?window.THREE:"undefined"!=typeof global?global.THREE:null,Coordinates=function(e,i){e=e||{},this.mesh=new THREE.Object3D,this.axes={name:"Axes",mesh:this.drawAllAxes({axisLength:100,axisRadius:1,axisTess:50}),visible:void 0!==e.axes?e.axes:!0},this.ground={name:"Ground",mesh:this.drawGround({size:1e5,color:i.groundColor}),visible:void 0!==e.ground?e.ground:!0},this.gridX={name:"XZ grid",mesh:this.drawGrid({size:1e4,scale:.01}),visible:void 0!==e.gridX?e.gridX:!0},this.gridY={name:"YZ grid",mesh:this.drawGrid({size:1e4,scale:.01,orientation:"y"}),visible:void 0!==e.gridY?e.gridY:!1},this.gridZ={name:"XY grid",mesh:this.drawGrid({size:1e4,scale:.01,orientation:"z"}),visible:void 0!==e.gridZ?e.gridZ:!1},Coordinates.prototype.init.call(this,e)};_.merge(Coordinates.prototype,{init:function(){var e=this;return _.forOwn(e,function(i){i.mesh&&(e.mesh.add(i.mesh),i.mesh.visible=i.visible)}),e},initDatGui:function(e){var i,o=this;return i=e.addFolder("Scene helpers"),_.forOwn(o,function(e){e.hasOwnProperty("mesh")&&i.add(e,"visible").name(e.name).onFinishChange(function(i){e.mesh.visible=i})}),o},drawGrid:function(e){e=e||{};var i=void 0!==e.size?e.size:100,o=void 0!==e.scale?e.scale:.1,n=void 0!==e.color?e.color:"#505050",t=void 0!==e.orientation?e.orientation:"x",s=new THREE.Mesh(new THREE.PlaneGeometry(i,i,i*o,i*o),new THREE.MeshBasicMaterial({color:n,wireframe:!0}));return"x"===t?s.rotation.x=-Math.PI/2:"y"===t?s.rotation.y=-Math.PI/2:"z"===t&&(s.rotation.z=-Math.PI/2),s},drawGround:function(e){e=e||{};var i=void 0!==e.size?e.size:100,o=void 0!==e.color?e.color:0,n=void 0!==e.offset?e.offset:-.2,t=new THREE.Mesh(new THREE.PlaneGeometry(i,i),new THREE.MeshBasicMaterial({color:o}));return t.rotation.x=-Math.PI/2,t.position.y=n,t},drawAxes:function(e){e=e||{};var i=void 0!==e.axisRadius?e.axisRadius:.04,o=void 0!==e.axisLength?e.axisLength:11,n=void 0!==e.axisTess?e.axisTess:48,t=void 0!==e.axisOrientation?e.axisOrientation:"x",s=new THREE.Object3D,r=new THREE.MeshLambertMaterial({color:0,side:THREE.DoubleSide}),a=new THREE.Mesh(new THREE.CylinderGeometry(i,i,o,n,1,!0),r);"x"===t?(a.rotation.z=-Math.PI/2,a.position.x=o/2-1):"y"===t&&(a.position.y=o/2-1),s.add(a);var d=new THREE.Mesh(new THREE.CylinderGeometry(0,4*i,8*i,n,1,!0),r);return"x"===t?(d.rotation.z=-Math.PI/2,d.position.x=o-1+4*i/2):"y"===t&&(d.position.y=o-1+4*i/2),s.add(d),s},drawAllAxes:function(e){e=e||{};var i=void 0!==e.axisRadius?e.axisRadius:.04,o=void 0!==e.axisLength?e.axisLength:11,n=void 0!==e.axisTess?e.axisTess:48,t=new THREE.Object3D,s=new THREE.MeshLambertMaterial({color:16711680}),r=new THREE.MeshLambertMaterial({color:65280}),a=new THREE.MeshLambertMaterial({color:255});s.side=THREE.DoubleSide,r.side=THREE.DoubleSide,a.side=THREE.DoubleSide;var d=new THREE.Mesh(new THREE.CylinderGeometry(i,i,o,n,1,!0),s),E=new THREE.Mesh(new THREE.CylinderGeometry(i,i,o,n,1,!0),r),h=new THREE.Mesh(new THREE.CylinderGeometry(i,i,o,n,1,!0),a);d.rotation.z=-Math.PI/2,d.position.x=o/2-1,E.position.y=o/2-1,h.rotation.y=-Math.PI/2,h.rotation.z=-Math.PI/2,h.position.z=o/2-1,t.add(d),t.add(E),t.add(h);var l=new THREE.Mesh(new THREE.CylinderGeometry(0,4*i,4*i,n,1,!0),s),w=new THREE.Mesh(new THREE.CylinderGeometry(0,4*i,4*i,n,1,!0),r),R=new THREE.Mesh(new THREE.CylinderGeometry(0,4*i,4*i,n,1,!0),a);return l.rotation.z=-Math.PI/2,l.position.x=o-1+4*i/2,w.position.y=o-1+4*i/2,R.rotation.z=-Math.PI/2,R.rotation.y=-Math.PI/2,R.position.z=o-1+4*i/2,t.add(l),t.add(w),t.add(R),t}}),module.exports=Coordinates;
//# sourceMappingURL=t3.map.json
}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"lodash":1}],13:[function(_dereq_,module,exports){
module.exports={clearColor:5855577,fogColor:5855577,groundColor:3750201};
//# sourceMappingURL=t3.map.json
},{}],14:[function(_dereq_,module,exports){
module.exports={clearColor:15924479,fogColor:15924479,groundColor:15658734};
//# sourceMappingURL=t3.map.json
},{}],15:[function(_dereq_,module,exports){
var _=_dereq_("lodash"),hidden="__hashkey__";module.exports=function(e){var d=e;return!e||"function"!=typeof e&&"object"!=typeof e||(e.hasOwnProperty(hidden)||Object.defineProperty(e,hidden,{value:_.uniqueId()}),d=e[hidden]),typeof e+"-"+d};
//# sourceMappingURL=t3.map.json
},{"lodash":1}]},{},[5])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYXVyaWNpby9Eb2N1bWVudHMvd2ViL1QzL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvbWF1cmljaW8vRG9jdW1lbnRzL3dlYi9UMy9ub2RlX21vZHVsZXMvbG9kYXNoL2Rpc3QvbG9kYXNoLmpzIiwiL1VzZXJzL21hdXJpY2lvL0RvY3VtZW50cy93ZWIvVDMvc3JjL2pzL2NvbnRyb2xsZXIvQXBwbGljYXRpb24uanMiLCIvVXNlcnMvbWF1cmljaW8vRG9jdW1lbnRzL3dlYi9UMy9zcmMvanMvY29udHJvbGxlci9LZXlib2FyZC5qcyIsIi9Vc2Vycy9tYXVyaWNpby9Eb2N1bWVudHMvd2ViL1QzL3NyYy9qcy9jb250cm9sbGVyL0xvb3BNYW5hZ2VyLmpzIiwiL1VzZXJzL21hdXJpY2lvL0RvY3VtZW50cy93ZWIvVDMvc3JjL2pzL2luZGV4LmpzIiwiL1VzZXJzL21hdXJpY2lvL0RvY3VtZW50cy93ZWIvVDMvc3JjL2pzL2xpYi9PcmJpdENvbnRyb2xzLmpzIiwiL1VzZXJzL21hdXJpY2lvL0RvY3VtZW50cy93ZWIvVDMvc3JjL2pzL2xpYi9USFJFRXgvRnVsbFNjcmVlbi5qcyIsIi9Vc2Vycy9tYXVyaWNpby9Eb2N1bWVudHMvd2ViL1QzL3NyYy9qcy9saWIvVEhSRUV4L1dpbmRvd1Jlc2l6ZS5qcyIsIi9Vc2Vycy9tYXVyaWNpby9Eb2N1bWVudHMvd2ViL1QzL3NyYy9qcy9saWIvVEhSRUV4L2luZGV4LmpzIiwiL1VzZXJzL21hdXJpY2lvL0RvY3VtZW50cy93ZWIvVDMvc3JjL2pzL2xpYi9kYXQuZ3VpLm1pbi5qcyIsIi9Vc2Vycy9tYXVyaWNpby9Eb2N1bWVudHMvd2ViL1QzL3NyYy9qcy9saWIvc3RhdHMubWluLmpzIiwiL1VzZXJzL21hdXJpY2lvL0RvY3VtZW50cy93ZWIvVDMvc3JjL2pzL21vZGVsL0Nvb3JkaW5hdGVzLmpzIiwiL1VzZXJzL21hdXJpY2lvL0RvY3VtZW50cy93ZWIvVDMvc3JjL2pzL3RoZW1lcy9kYXJrLmpzIiwiL1VzZXJzL21hdXJpY2lvL0RvY3VtZW50cy93ZWIvVDMvc3JjL2pzL3RoZW1lcy9saWdodC5qcyIsIi9Vc2Vycy9tYXVyaWNpby9Eb2N1bWVudHMvd2ViL1QzL3NyYy9qcy91dGlscy9oYXNoa2V5LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBOztBQ0RBO0FBQ0E7O0FDREE7QUFDQTs7QUNEQTtBQUNBOztBQ0RBO0FBQ0E7O0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBOztBQ0RBO0FBQ0E7O0FDREE7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpfXZhciBmPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGYsZi5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIoZnVuY3Rpb24gKGdsb2JhbCl7XG4oZnVuY3Rpb24oKXtmdW5jdGlvbiBuKG4scix0KXtmb3IodmFyIGU9KHR8fDApLTEsdT1uP24ubGVuZ3RoOjA7KytlPHU7KWlmKG5bZV09PT1yKXJldHVybiBlO3JldHVybi0xfWZ1bmN0aW9uIHIocix0KXt2YXIgZT10eXBlb2YgdDtpZihyPXIuY2FjaGUsXCJib29sZWFuXCI9PWV8fG51bGw9PXQpcmV0dXJuIHJbdF0/MDotMTtcIm51bWJlclwiIT1lJiZcInN0cmluZ1wiIT1lJiYoZT1cIm9iamVjdFwiKTt2YXIgdT1cIm51bWJlclwiPT1lP3Q6bSt0O3JldHVybiByPShyPXJbZV0pJiZyW3VdLFwib2JqZWN0XCI9PWU/ciYmbihyLHQpPi0xPzA6LTE6cj8wOi0xfWZ1bmN0aW9uIHQobil7dmFyIHI9dGhpcy5jYWNoZSx0PXR5cGVvZiBuO2lmKFwiYm9vbGVhblwiPT10fHxudWxsPT1uKXJbbl09ITA7ZWxzZXtcIm51bWJlclwiIT10JiZcInN0cmluZ1wiIT10JiYodD1cIm9iamVjdFwiKTt2YXIgZT1cIm51bWJlclwiPT10P246bStuLHU9clt0XXx8KHJbdF09e30pO1wib2JqZWN0XCI9PXQ/KHVbZV18fCh1W2VdPVtdKSkucHVzaChuKTp1W2VdPSEwfX1mdW5jdGlvbiBlKG4pe3JldHVybiBuLmNoYXJDb2RlQXQoMCl9ZnVuY3Rpb24gdShuLHIpe2Zvcih2YXIgdD1uLmNyaXRlcmlhLGU9ci5jcml0ZXJpYSx1PS0xLG89dC5sZW5ndGg7Kyt1PG87KXt2YXIgYT10W3VdLGk9ZVt1XTtpZihhIT09aSl7aWYoYT5pfHxcInVuZGVmaW5lZFwiPT10eXBlb2YgYSlyZXR1cm4gMTtpZihpPmF8fFwidW5kZWZpbmVkXCI9PXR5cGVvZiBpKXJldHVybi0xfX1yZXR1cm4gbi5pbmRleC1yLmluZGV4fWZ1bmN0aW9uIG8obil7dmFyIHI9LTEsZT1uLmxlbmd0aCx1PW5bMF0sbz1uW2UvMnwwXSxhPW5bZS0xXTtpZih1JiZcIm9iamVjdFwiPT10eXBlb2YgdSYmbyYmXCJvYmplY3RcIj09dHlwZW9mIG8mJmEmJlwib2JqZWN0XCI9PXR5cGVvZiBhKXJldHVybiExO3ZhciBpPWYoKTtpW1wiZmFsc2VcIl09aVtcIm51bGxcIl09aVtcInRydWVcIl09aS51bmRlZmluZWQ9ITE7dmFyIGw9ZigpO2ZvcihsLmFycmF5PW4sbC5jYWNoZT1pLGwucHVzaD10OysrcjxlOylsLnB1c2gobltyXSk7cmV0dXJuIGx9ZnVuY3Rpb24gYShuKXtyZXR1cm5cIlxcXFxcIitHW25dfWZ1bmN0aW9uIGkoKXtyZXR1cm4gaC5wb3AoKXx8W119ZnVuY3Rpb24gZigpe3JldHVybiBnLnBvcCgpfHx7YXJyYXk6bnVsbCxjYWNoZTpudWxsLGNyaXRlcmlhOm51bGwsXCJmYWxzZVwiOiExLGluZGV4OjAsXCJudWxsXCI6ITEsbnVtYmVyOm51bGwsb2JqZWN0Om51bGwscHVzaDpudWxsLHN0cmluZzpudWxsLFwidHJ1ZVwiOiExLHVuZGVmaW5lZDohMSx2YWx1ZTpudWxsfX1mdW5jdGlvbiBsKG4pe24ubGVuZ3RoPTAsaC5sZW5ndGg8ZCYmaC5wdXNoKG4pfWZ1bmN0aW9uIGMobil7dmFyIHI9bi5jYWNoZTtyJiZjKHIpLG4uYXJyYXk9bi5jYWNoZT1uLmNyaXRlcmlhPW4ub2JqZWN0PW4ubnVtYmVyPW4uc3RyaW5nPW4udmFsdWU9bnVsbCxnLmxlbmd0aDxkJiZnLnB1c2gobil9ZnVuY3Rpb24gcChuLHIsdCl7cnx8KHI9MCksXCJ1bmRlZmluZWRcIj09dHlwZW9mIHQmJih0PW4/bi5sZW5ndGg6MCk7Zm9yKHZhciBlPS0xLHU9dC1yfHwwLG89QXJyYXkoMD51PzA6dSk7KytlPHU7KW9bZV09bltyK2VdO3JldHVybiBvfWZ1bmN0aW9uIHModCl7ZnVuY3Rpb24gaChuKXtyZXR1cm4gbiYmXCJvYmplY3RcIj09dHlwZW9mIG4mJiFYZShuKSYmRGUuY2FsbChuLFwiX193cmFwcGVkX19cIik/bjpuZXcgZyhuKX1mdW5jdGlvbiBnKG4scil7dGhpcy5fX2NoYWluX189ISFyLHRoaXMuX193cmFwcGVkX189bn1mdW5jdGlvbiBkKG4pe2Z1bmN0aW9uIHIoKXtpZihlKXt2YXIgbj1wKGUpO1RlLmFwcGx5KG4sYXJndW1lbnRzKX1pZih0aGlzIGluc3RhbmNlb2Ygcil7dmFyIG89Sih0LnByb3RvdHlwZSksYT10LmFwcGx5KG8sbnx8YXJndW1lbnRzKTtyZXR1cm4gSXIoYSk/YTpvfXJldHVybiB0LmFwcGx5KHUsbnx8YXJndW1lbnRzKX12YXIgdD1uWzBdLGU9blsyXSx1PW5bNF07cmV0dXJuIFFlKHIsbikscn1mdW5jdGlvbiBHKG4scix0LGUsdSl7aWYodCl7dmFyIG89dChuKTtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgbylyZXR1cm4gb312YXIgYT1JcihuKTtpZighYSlyZXR1cm4gbjt2YXIgZj1PZS5jYWxsKG4pO2lmKCFLW2ZdKXJldHVybiBuO3ZhciBjPUhlW2ZdO3N3aXRjaChmKXtjYXNlIEY6Y2FzZSBCOnJldHVybiBuZXcgYygrbik7Y2FzZSBxOmNhc2UgUDpyZXR1cm4gbmV3IGMobik7Y2FzZSBMOnJldHVybiBvPWMobi5zb3VyY2UsQy5leGVjKG4pKSxvLmxhc3RJbmRleD1uLmxhc3RJbmRleCxvfXZhciBzPVhlKG4pO2lmKHIpe3ZhciB2PSFlO2V8fChlPWkoKSksdXx8KHU9aSgpKTtmb3IodmFyIGg9ZS5sZW5ndGg7aC0tOylpZihlW2hdPT1uKXJldHVybiB1W2hdO289cz9jKG4ubGVuZ3RoKTp7fX1lbHNlIG89cz9wKG4pOnV1KHt9LG4pO3JldHVybiBzJiYoRGUuY2FsbChuLFwiaW5kZXhcIikmJihvLmluZGV4PW4uaW5kZXgpLERlLmNhbGwobixcImlucHV0XCIpJiYoby5pbnB1dD1uLmlucHV0KSkscj8oZS5wdXNoKG4pLHUucHVzaChvKSwocz9RcjppdSkobixmdW5jdGlvbihuLGEpe29bYV09RyhuLHIsdCxlLHUpfSksdiYmKGwoZSksbCh1KSksbyk6b31mdW5jdGlvbiBKKG4pe3JldHVybiBJcihuKT9xZShuKTp7fX1mdW5jdGlvbiBRKG4scix0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBuKXJldHVybiBYdDtpZihcInVuZGVmaW5lZFwiPT10eXBlb2Ygcnx8IShcInByb3RvdHlwZVwiaW4gbikpcmV0dXJuIG47dmFyIGU9bi5fX2JpbmREYXRhX187aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGUmJihKZS5mdW5jTmFtZXMmJihlPSFuLm5hbWUpLGU9ZXx8IUplLmZ1bmNEZWNvbXAsIWUpKXt2YXIgdT1TZS5jYWxsKG4pO0plLmZ1bmNOYW1lc3x8KGU9IU8udGVzdCh1KSksZXx8KGU9SS50ZXN0KHUpLFFlKG4sZSkpfWlmKGU9PT0hMXx8ZSE9PSEwJiYxJmVbMV0pcmV0dXJuIG47c3dpdGNoKHQpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIG4uY2FsbChyLHQpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG4uY2FsbChyLHQsZSl9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24odCxlLHUpe3JldHVybiBuLmNhbGwocix0LGUsdSl9O2Nhc2UgNDpyZXR1cm4gZnVuY3Rpb24odCxlLHUsbyl7cmV0dXJuIG4uY2FsbChyLHQsZSx1LG8pfX1yZXR1cm4gVHQobixyKX1mdW5jdGlvbiBYKG4pe2Z1bmN0aW9uIHIoKXt2YXIgbj1mP2E6dGhpcztpZih1KXt2YXIgaD1wKHUpO1RlLmFwcGx5KGgsYXJndW1lbnRzKX1pZigob3x8YykmJihofHwoaD1wKGFyZ3VtZW50cykpLG8mJlRlLmFwcGx5KGgsbyksYyYmaC5sZW5ndGg8aSkpcmV0dXJuIGV8PTE2LFgoW3Qscz9lOi00JmUsaCxudWxsLGEsaV0pO2lmKGh8fChoPWFyZ3VtZW50cyksbCYmKHQ9blt2XSksdGhpcyBpbnN0YW5jZW9mIHIpe249Sih0LnByb3RvdHlwZSk7dmFyIGc9dC5hcHBseShuLGgpO3JldHVybiBJcihnKT9nOm59cmV0dXJuIHQuYXBwbHkobixoKX12YXIgdD1uWzBdLGU9blsxXSx1PW5bMl0sbz1uWzNdLGE9bls0XSxpPW5bNV0sZj0xJmUsbD0yJmUsYz00JmUscz04JmUsdj10O3JldHVybiBRZShyLG4pLHJ9ZnVuY3Rpb24gWSh0LGUpe3ZhciB1PS0xLGE9ZnIoKSxpPXQ/dC5sZW5ndGg6MCxmPWk+PWImJmE9PT1uLGw9W107aWYoZil7dmFyIHA9byhlKTtwPyhhPXIsZT1wKTpmPSExfWZvcig7Kyt1PGk7KXt2YXIgcz10W3VdO2EoZSxzKTwwJiZsLnB1c2gocyl9cmV0dXJuIGYmJmMoZSksbH1mdW5jdGlvbiBucihuLHIsdCxlKXtmb3IodmFyIHU9KGV8fDApLTEsbz1uP24ubGVuZ3RoOjAsYT1bXTsrK3U8bzspe3ZhciBpPW5bdV07aWYoaSYmXCJvYmplY3RcIj09dHlwZW9mIGkmJlwibnVtYmVyXCI9PXR5cGVvZiBpLmxlbmd0aCYmKFhlKGkpfHxzcihpKSkpe3J8fChpPW5yKGkscix0KSk7dmFyIGY9LTEsbD1pLmxlbmd0aCxjPWEubGVuZ3RoO2ZvcihhLmxlbmd0aCs9bDsrK2Y8bDspYVtjKytdPWlbZl19ZWxzZSB0fHxhLnB1c2goaSl9cmV0dXJuIGF9ZnVuY3Rpb24gcnIobixyLHQsZSx1LG8pe2lmKHQpe3ZhciBhPXQobixyKTtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgYSlyZXR1cm4hIWF9aWYobj09PXIpcmV0dXJuIDAhPT1ufHwxL249PTEvcjt2YXIgZj10eXBlb2YgbixjPXR5cGVvZiByO2lmKCEobiE9PW58fG4mJlZbZl18fHImJlZbY10pKXJldHVybiExO2lmKG51bGw9PW58fG51bGw9PXIpcmV0dXJuIG49PT1yO3ZhciBwPU9lLmNhbGwobikscz1PZS5jYWxsKHIpO2lmKHA9PVQmJihwPXopLHM9PVQmJihzPXopLHAhPXMpcmV0dXJuITE7c3dpdGNoKHApe2Nhc2UgRjpjYXNlIEI6cmV0dXJuK249PStyO2Nhc2UgcTpyZXR1cm4gbiE9K24/ciE9K3I6MD09bj8xL249PTEvcjpuPT0rcjtjYXNlIEw6Y2FzZSBQOnJldHVybiBuPT13ZShyKX12YXIgdj1wPT0kO2lmKCF2KXt2YXIgaD1EZS5jYWxsKG4sXCJfX3dyYXBwZWRfX1wiKSxnPURlLmNhbGwocixcIl9fd3JhcHBlZF9fXCIpO2lmKGh8fGcpcmV0dXJuIHJyKGg/bi5fX3dyYXBwZWRfXzpuLGc/ci5fX3dyYXBwZWRfXzpyLHQsZSx1LG8pO2lmKHAhPXopcmV0dXJuITE7dmFyIHk9bi5jb25zdHJ1Y3RvcixtPXIuY29uc3RydWN0b3I7aWYoeSE9bSYmIShFcih5KSYmeSBpbnN0YW5jZW9mIHkmJkVyKG0pJiZtIGluc3RhbmNlb2YgbSkmJlwiY29uc3RydWN0b3JcImluIG4mJlwiY29uc3RydWN0b3JcImluIHIpcmV0dXJuITF9dmFyIGI9IXU7dXx8KHU9aSgpKSxvfHwobz1pKCkpO2Zvcih2YXIgZD11Lmxlbmd0aDtkLS07KWlmKHVbZF09PW4pcmV0dXJuIG9bZF09PXI7dmFyIF89MDtpZihhPSEwLHUucHVzaChuKSxvLnB1c2gociksdil7aWYoZD1uLmxlbmd0aCxfPXIubGVuZ3RoLGE9Xz09ZCxhfHxlKWZvcig7Xy0tOyl7dmFyIHc9ZCxqPXJbX107aWYoZSlmb3IoO3ctLSYmIShhPXJyKG5bd10saix0LGUsdSxvKSk7KTtlbHNlIGlmKCEoYT1ycihuW19dLGosdCxlLHUsbykpKWJyZWFrfX1lbHNlIGF1KHIsZnVuY3Rpb24ocixpLGYpe3JldHVybiBEZS5jYWxsKGYsaSk/KF8rKyxhPURlLmNhbGwobixpKSYmcnIobltpXSxyLHQsZSx1LG8pKTp2b2lkIDB9KSxhJiYhZSYmYXUobixmdW5jdGlvbihuLHIsdCl7cmV0dXJuIERlLmNhbGwodCxyKT9hPS0tXz4tMTp2b2lkIDB9KTtyZXR1cm4gdS5wb3AoKSxvLnBvcCgpLGImJihsKHUpLGwobykpLGF9ZnVuY3Rpb24gdHIobixyLHQsZSx1KXsoWGUocik/UXI6aXUpKHIsZnVuY3Rpb24ocixvKXt2YXIgYSxpLGY9cixsPW5bb107aWYociYmKChpPVhlKHIpKXx8ZnUocikpKXtmb3IodmFyIGM9ZS5sZW5ndGg7Yy0tOylpZihhPWVbY109PXIpe2w9dVtjXTticmVha31pZighYSl7dmFyIHA7dCYmKGY9dChsLHIpLChwPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBmKSYmKGw9ZikpLHB8fChsPWk/WGUobCk/bDpbXTpmdShsKT9sOnt9KSxlLnB1c2gociksdS5wdXNoKGwpLHB8fHRyKGwscix0LGUsdSl9fWVsc2UgdCYmKGY9dChsLHIpLFwidW5kZWZpbmVkXCI9PXR5cGVvZiBmJiYoZj1yKSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGYmJihsPWYpO25bb109bH0pfWZ1bmN0aW9uIGVyKG4scil7cmV0dXJuIG4rSWUoR2UoKSooci1uKzEpKX1mdW5jdGlvbiB1cih0LGUsdSl7dmFyIGE9LTEsZj1mcigpLHA9dD90Lmxlbmd0aDowLHM9W10sdj0hZSYmcD49YiYmZj09PW4saD11fHx2P2koKTpzO2lmKHYpe3ZhciBnPW8oaCk7Zj1yLGg9Z31mb3IoOysrYTxwOyl7dmFyIHk9dFthXSxtPXU/dSh5LGEsdCk6eTsoZT8hYXx8aFtoLmxlbmd0aC0xXSE9PW06ZihoLG0pPDApJiYoKHV8fHYpJiZoLnB1c2gobSkscy5wdXNoKHkpKX1yZXR1cm4gdj8obChoLmFycmF5KSxjKGgpKTp1JiZsKGgpLHN9ZnVuY3Rpb24gb3Iobil7cmV0dXJuIGZ1bmN0aW9uKHIsdCxlKXt2YXIgdT17fTt0PWguY3JlYXRlQ2FsbGJhY2sodCxlLDMpO3ZhciBvPS0xLGE9cj9yLmxlbmd0aDowO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBhKWZvcig7KytvPGE7KXt2YXIgaT1yW29dO24odSxpLHQoaSxvLHIpLHIpfWVsc2UgaXUocixmdW5jdGlvbihyLGUsbyl7bih1LHIsdChyLGUsbyksbyl9KTtyZXR1cm4gdX19ZnVuY3Rpb24gYXIobixyLHQsZSx1LG8pe3ZhciBhPTEmcixpPTImcixmPTQmcixsPTE2JnIsYz0zMiZyO2lmKCFpJiYhRXIobikpdGhyb3cgbmV3IGplO2wmJiF0Lmxlbmd0aCYmKHImPS0xNyxsPXQ9ITEpLGMmJiFlLmxlbmd0aCYmKHImPS0zMyxjPWU9ITEpO3ZhciBzPW4mJm4uX19iaW5kRGF0YV9fO2lmKHMmJnMhPT0hMClyZXR1cm4gcz1wKHMpLHNbMl0mJihzWzJdPXAoc1syXSkpLHNbM10mJihzWzNdPXAoc1szXSkpLCFhfHwxJnNbMV18fChzWzRdPXUpLCFhJiYxJnNbMV0mJihyfD04KSwhZnx8NCZzWzFdfHwoc1s1XT1vKSxsJiZUZS5hcHBseShzWzJdfHwoc1syXT1bXSksdCksYyYmQmUuYXBwbHkoc1szXXx8KHNbM109W10pLGUpLHNbMV18PXIsYXIuYXBwbHkobnVsbCxzKTt2YXIgdj0xPT1yfHwxNz09PXI/ZDpYO3JldHVybiB2KFtuLHIsdCxlLHUsb10pfWZ1bmN0aW9uIGlyKG4pe3JldHVybiBudVtuXX1mdW5jdGlvbiBmcigpe3ZhciByPShyPWguaW5kZXhPZik9PT1tdD9uOnI7cmV0dXJuIHJ9ZnVuY3Rpb24gbHIobil7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgbiYmTmUudGVzdChuKX1mdW5jdGlvbiBjcihuKXt2YXIgcix0O3JldHVybiBuJiZPZS5jYWxsKG4pPT16JiYocj1uLmNvbnN0cnVjdG9yLCFFcihyKXx8ciBpbnN0YW5jZW9mIHIpPyhhdShuLGZ1bmN0aW9uKG4scil7dD1yfSksXCJ1bmRlZmluZWRcIj09dHlwZW9mIHR8fERlLmNhbGwobix0KSk6ITF9ZnVuY3Rpb24gcHIobil7cmV0dXJuIHJ1W25dfWZ1bmN0aW9uIHNyKG4pe3JldHVybiBuJiZcIm9iamVjdFwiPT10eXBlb2YgbiYmXCJudW1iZXJcIj09dHlwZW9mIG4ubGVuZ3RoJiZPZS5jYWxsKG4pPT1UfHwhMX1mdW5jdGlvbiB2cihuLHIsdCxlKXtyZXR1cm5cImJvb2xlYW5cIiE9dHlwZW9mIHImJm51bGwhPXImJihlPXQsdD1yLHI9ITEpLEcobixyLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJlEodCxlLDEpKX1mdW5jdGlvbiBocihuLHIsdCl7cmV0dXJuIEcobiwhMCxcImZ1bmN0aW9uXCI9PXR5cGVvZiByJiZRKHIsdCwxKSl9ZnVuY3Rpb24gZ3IobixyKXt2YXIgdD1KKG4pO3JldHVybiByP3V1KHQscik6dH1mdW5jdGlvbiB5cihuLHIsdCl7dmFyIGU7cmV0dXJuIHI9aC5jcmVhdGVDYWxsYmFjayhyLHQsMyksaXUobixmdW5jdGlvbihuLHQsdSl7cmV0dXJuIHIobix0LHUpPyhlPXQsITEpOnZvaWQgMH0pLGV9ZnVuY3Rpb24gbXIobixyLHQpe3ZhciBlO3JldHVybiByPWguY3JlYXRlQ2FsbGJhY2socix0LDMpLGRyKG4sZnVuY3Rpb24obix0LHUpe3JldHVybiByKG4sdCx1KT8oZT10LCExKTp2b2lkIDB9KSxlfWZ1bmN0aW9uIGJyKG4scix0KXt2YXIgZT1bXTthdShuLGZ1bmN0aW9uKG4scil7ZS5wdXNoKHIsbil9KTt2YXIgdT1lLmxlbmd0aDtmb3Iocj1RKHIsdCwzKTt1LS0mJnIoZVt1LS1dLGVbdV0sbikhPT0hMTspO3JldHVybiBufWZ1bmN0aW9uIGRyKG4scix0KXt2YXIgZT1aZShuKSx1PWUubGVuZ3RoO2ZvcihyPVEocix0LDMpO3UtLTspe3ZhciBvPWVbdV07aWYocihuW29dLG8sbik9PT0hMSlicmVha31yZXR1cm4gbn1mdW5jdGlvbiBfcihuKXt2YXIgcj1bXTtyZXR1cm4gYXUobixmdW5jdGlvbihuLHQpe0VyKG4pJiZyLnB1c2godCl9KSxyLnNvcnQoKX1mdW5jdGlvbiB3cihuLHIpe3JldHVybiBuP0RlLmNhbGwobixyKTohMX1mdW5jdGlvbiBqcihuKXtmb3IodmFyIHI9LTEsdD1aZShuKSxlPXQubGVuZ3RoLHU9e307KytyPGU7KXt2YXIgbz10W3JdO3VbbltvXV09b31yZXR1cm4gdX1mdW5jdGlvbiBrcihuKXtyZXR1cm4gbj09PSEwfHxuPT09ITF8fG4mJlwib2JqZWN0XCI9PXR5cGVvZiBuJiZPZS5jYWxsKG4pPT1GfHwhMX1mdW5jdGlvbiB4cihuKXtyZXR1cm4gbiYmXCJvYmplY3RcIj09dHlwZW9mIG4mJk9lLmNhbGwobik9PUJ8fCExfWZ1bmN0aW9uIENyKG4pe3JldHVybiBuJiYxPT09bi5ub2RlVHlwZXx8ITF9ZnVuY3Rpb24gT3Iobil7dmFyIHI9ITA7aWYoIW4pcmV0dXJuIHI7dmFyIHQ9T2UuY2FsbChuKSxlPW4ubGVuZ3RoO3JldHVybiB0PT0kfHx0PT1QfHx0PT1UfHx0PT16JiZcIm51bWJlclwiPT10eXBlb2YgZSYmRXIobi5zcGxpY2UpPyFlOihpdShuLGZ1bmN0aW9uKCl7cmV0dXJuIHI9ITF9KSxyKX1mdW5jdGlvbiBOcihuLHIsdCxlKXtyZXR1cm4gcnIobixyLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJlEodCxlLDIpKX1mdW5jdGlvbiBScihuKXtyZXR1cm4gTGUobikmJiFQZShwYXJzZUZsb2F0KG4pKX1mdW5jdGlvbiBFcihuKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBufWZ1bmN0aW9uIElyKG4pe3JldHVybiEoIW58fCFWW3R5cGVvZiBuXSl9ZnVuY3Rpb24gU3Iobil7cmV0dXJuIERyKG4pJiZuIT0rbn1mdW5jdGlvbiBBcihuKXtyZXR1cm4gbnVsbD09PW59ZnVuY3Rpb24gRHIobil7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIG58fG4mJlwib2JqZWN0XCI9PXR5cGVvZiBuJiZPZS5jYWxsKG4pPT1xfHwhMX1mdW5jdGlvbiBUcihuKXtyZXR1cm4gbiYmXCJvYmplY3RcIj09dHlwZW9mIG4mJk9lLmNhbGwobik9PUx8fCExfWZ1bmN0aW9uICRyKG4pe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBufHxuJiZcIm9iamVjdFwiPT10eXBlb2YgbiYmT2UuY2FsbChuKT09UHx8ITF9ZnVuY3Rpb24gRnIobil7cmV0dXJuXCJ1bmRlZmluZWRcIj09dHlwZW9mIG59ZnVuY3Rpb24gQnIobixyLHQpe3ZhciBlPXt9O3JldHVybiByPWguY3JlYXRlQ2FsbGJhY2socix0LDMpLGl1KG4sZnVuY3Rpb24obix0LHUpe2VbdF09cihuLHQsdSl9KSxlfWZ1bmN0aW9uIFdyKG4pe3ZhciByPWFyZ3VtZW50cyx0PTI7aWYoIUlyKG4pKXJldHVybiBuO2lmKFwibnVtYmVyXCIhPXR5cGVvZiByWzJdJiYodD1yLmxlbmd0aCksdD4zJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiByW3QtMl0pdmFyIGU9UShyWy0tdC0xXSxyW3QtLV0sMik7ZWxzZSB0PjImJlwiZnVuY3Rpb25cIj09dHlwZW9mIHJbdC0xXSYmKGU9clstLXRdKTtmb3IodmFyIHU9cChhcmd1bWVudHMsMSx0KSxvPS0xLGE9aSgpLGY9aSgpOysrbzx0Oyl0cihuLHVbb10sZSxhLGYpO3JldHVybiBsKGEpLGwoZiksbn1mdW5jdGlvbiBxcihuLHIsdCl7dmFyIGU9e307aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygcil7dmFyIHU9W107YXUobixmdW5jdGlvbihuLHIpe3UucHVzaChyKX0pLHU9WSh1LG5yKGFyZ3VtZW50cywhMCwhMSwxKSk7Zm9yKHZhciBvPS0xLGE9dS5sZW5ndGg7KytvPGE7KXt2YXIgaT11W29dO2VbaV09bltpXX19ZWxzZSByPWguY3JlYXRlQ2FsbGJhY2socix0LDMpLGF1KG4sZnVuY3Rpb24obix0LHUpe3Iobix0LHUpfHwoZVt0XT1uKX0pO3JldHVybiBlfWZ1bmN0aW9uIHpyKG4pe2Zvcih2YXIgcj0tMSx0PVplKG4pLGU9dC5sZW5ndGgsdT12ZShlKTsrK3I8ZTspe3ZhciBvPXRbcl07dVtyXT1bbyxuW29dXX1yZXR1cm4gdX1mdW5jdGlvbiBMcihuLHIsdCl7dmFyIGU9e307aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygcilmb3IodmFyIHU9LTEsbz1ucihhcmd1bWVudHMsITAsITEsMSksYT1JcihuKT9vLmxlbmd0aDowOysrdTxhOyl7dmFyIGk9b1t1XTtpIGluIG4mJihlW2ldPW5baV0pfWVsc2Ugcj1oLmNyZWF0ZUNhbGxiYWNrKHIsdCwzKSxhdShuLGZ1bmN0aW9uKG4sdCx1KXtyKG4sdCx1KSYmKGVbdF09bil9KTtyZXR1cm4gZX1mdW5jdGlvbiBQcihuLHIsdCxlKXt2YXIgdT1YZShuKTtpZihudWxsPT10KWlmKHUpdD1bXTtlbHNle3ZhciBvPW4mJm4uY29uc3RydWN0b3IsYT1vJiZvLnByb3RvdHlwZTt0PUooYSl9cmV0dXJuIHImJihyPWguY3JlYXRlQ2FsbGJhY2socixlLDQpLCh1P1FyOml1KShuLGZ1bmN0aW9uKG4sZSx1KXtyZXR1cm4gcih0LG4sZSx1KX0pKSx0fWZ1bmN0aW9uIEtyKG4pe2Zvcih2YXIgcj0tMSx0PVplKG4pLGU9dC5sZW5ndGgsdT12ZShlKTsrK3I8ZTspdVtyXT1uW3Rbcl1dO3JldHVybiB1fWZ1bmN0aW9uIFVyKG4pe2Zvcih2YXIgcj1hcmd1bWVudHMsdD0tMSxlPW5yKHIsITAsITEsMSksdT1yWzJdJiZyWzJdW3JbMV1dPT09bj8xOmUubGVuZ3RoLG89dmUodSk7Kyt0PHU7KW9bdF09bltlW3RdXTtyZXR1cm4gb31mdW5jdGlvbiBNcihuLHIsdCl7dmFyIGU9LTEsdT1mcigpLG89bj9uLmxlbmd0aDowLGE9ITE7cmV0dXJuIHQ9KDA+dD9VZSgwLG8rdCk6dCl8fDAsWGUobik/YT11KG4scix0KT4tMTpcIm51bWJlclwiPT10eXBlb2Ygbz9hPSgkcihuKT9uLmluZGV4T2Yocix0KTp1KG4scix0KSk+LTE6aXUobixmdW5jdGlvbihuKXtyZXR1cm4rK2U+PXQ/IShhPW49PT1yKTp2b2lkIDB9KSxhfWZ1bmN0aW9uIFZyKG4scix0KXt2YXIgZT0hMDtyPWguY3JlYXRlQ2FsbGJhY2socix0LDMpO3ZhciB1PS0xLG89bj9uLmxlbmd0aDowO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBvKWZvcig7Kyt1PG8mJihlPSEhcihuW3VdLHUsbikpOyk7ZWxzZSBpdShuLGZ1bmN0aW9uKG4sdCx1KXtyZXR1cm4gZT0hIXIobix0LHUpfSk7cmV0dXJuIGV9ZnVuY3Rpb24gR3IobixyLHQpe3ZhciBlPVtdO3I9aC5jcmVhdGVDYWxsYmFjayhyLHQsMyk7dmFyIHU9LTEsbz1uP24ubGVuZ3RoOjA7aWYoXCJudW1iZXJcIj09dHlwZW9mIG8pZm9yKDsrK3U8bzspe3ZhciBhPW5bdV07cihhLHUsbikmJmUucHVzaChhKX1lbHNlIGl1KG4sZnVuY3Rpb24obix0LHUpe3Iobix0LHUpJiZlLnB1c2gobil9KTtyZXR1cm4gZX1mdW5jdGlvbiBIcihuLHIsdCl7cj1oLmNyZWF0ZUNhbGxiYWNrKHIsdCwzKTt2YXIgZT0tMSx1PW4/bi5sZW5ndGg6MDtpZihcIm51bWJlclwiIT10eXBlb2YgdSl7dmFyIG87cmV0dXJuIGl1KG4sZnVuY3Rpb24obix0LGUpe3JldHVybiByKG4sdCxlKT8obz1uLCExKTp2b2lkIDB9KSxvfWZvcig7KytlPHU7KXt2YXIgYT1uW2VdO2lmKHIoYSxlLG4pKXJldHVybiBhfX1mdW5jdGlvbiBKcihuLHIsdCl7dmFyIGU7cmV0dXJuIHI9aC5jcmVhdGVDYWxsYmFjayhyLHQsMyksWHIobixmdW5jdGlvbihuLHQsdSl7cmV0dXJuIHIobix0LHUpPyhlPW4sITEpOnZvaWQgMH0pLGV9ZnVuY3Rpb24gUXIobixyLHQpe3ZhciBlPS0xLHU9bj9uLmxlbmd0aDowO2lmKHI9ciYmXCJ1bmRlZmluZWRcIj09dHlwZW9mIHQ/cjpRKHIsdCwzKSxcIm51bWJlclwiPT10eXBlb2YgdSlmb3IoOysrZTx1JiZyKG5bZV0sZSxuKSE9PSExOyk7ZWxzZSBpdShuLHIpO3JldHVybiBufWZ1bmN0aW9uIFhyKG4scix0KXt2YXIgZT1uP24ubGVuZ3RoOjA7aWYocj1yJiZcInVuZGVmaW5lZFwiPT10eXBlb2YgdD9yOlEocix0LDMpLFwibnVtYmVyXCI9PXR5cGVvZiBlKWZvcig7ZS0tJiZyKG5bZV0sZSxuKSE9PSExOyk7ZWxzZXt2YXIgdT1aZShuKTtlPXUubGVuZ3RoLGl1KG4sZnVuY3Rpb24obix0LG8pe3JldHVybiB0PXU/dVstLWVdOi0tZSxyKG9bdF0sdCxvKX0pfXJldHVybiBufWZ1bmN0aW9uIFlyKG4scil7dmFyIHQ9cChhcmd1bWVudHMsMiksZT0tMSx1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHIsbz1uP24ubGVuZ3RoOjAsYT12ZShcIm51bWJlclwiPT10eXBlb2Ygbz9vOjApO3JldHVybiBRcihuLGZ1bmN0aW9uKG4pe2FbKytlXT0odT9yOm5bcl0pLmFwcGx5KG4sdCl9KSxhfWZ1bmN0aW9uIFpyKG4scix0KXt2YXIgZT0tMSx1PW4/bi5sZW5ndGg6MDtpZihyPWguY3JlYXRlQ2FsbGJhY2socix0LDMpLFwibnVtYmVyXCI9PXR5cGVvZiB1KWZvcih2YXIgbz12ZSh1KTsrK2U8dTspb1tlXT1yKG5bZV0sZSxuKTtlbHNlIG89W10saXUobixmdW5jdGlvbihuLHQsdSl7b1srK2VdPXIobix0LHUpfSk7cmV0dXJuIG99ZnVuY3Rpb24gbnQobixyLHQpe3ZhciB1PS0xLzAsbz11O2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHImJnQmJnRbcl09PT1uJiYocj1udWxsKSxudWxsPT1yJiZYZShuKSlmb3IodmFyIGE9LTEsaT1uLmxlbmd0aDsrK2E8aTspe3ZhciBmPW5bYV07Zj5vJiYobz1mKX1lbHNlIHI9bnVsbD09ciYmJHIobik/ZTpoLmNyZWF0ZUNhbGxiYWNrKHIsdCwzKSxRcihuLGZ1bmN0aW9uKG4sdCxlKXt2YXIgYT1yKG4sdCxlKTthPnUmJih1PWEsbz1uKX0pO3JldHVybiBvfWZ1bmN0aW9uIHJ0KG4scix0KXt2YXIgdT0xLzAsbz11O2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHImJnQmJnRbcl09PT1uJiYocj1udWxsKSxudWxsPT1yJiZYZShuKSlmb3IodmFyIGE9LTEsaT1uLmxlbmd0aDsrK2E8aTspe3ZhciBmPW5bYV07bz5mJiYobz1mKX1lbHNlIHI9bnVsbD09ciYmJHIobik/ZTpoLmNyZWF0ZUNhbGxiYWNrKHIsdCwzKSxRcihuLGZ1bmN0aW9uKG4sdCxlKXt2YXIgYT1yKG4sdCxlKTt1PmEmJih1PWEsbz1uKX0pO3JldHVybiBvfWZ1bmN0aW9uIHR0KG4scix0LGUpe2lmKCFuKXJldHVybiB0O3ZhciB1PWFyZ3VtZW50cy5sZW5ndGg8MztyPWguY3JlYXRlQ2FsbGJhY2socixlLDQpO3ZhciBvPS0xLGE9bi5sZW5ndGg7aWYoXCJudW1iZXJcIj09dHlwZW9mIGEpZm9yKHUmJih0PW5bKytvXSk7KytvPGE7KXQ9cih0LG5bb10sbyxuKTtlbHNlIGl1KG4sZnVuY3Rpb24obixlLG8pe3Q9dT8odT0hMSxuKTpyKHQsbixlLG8pfSk7cmV0dXJuIHR9ZnVuY3Rpb24gZXQobixyLHQsZSl7dmFyIHU9YXJndW1lbnRzLmxlbmd0aDwzO3JldHVybiByPWguY3JlYXRlQ2FsbGJhY2socixlLDQpLFhyKG4sZnVuY3Rpb24obixlLG8pe3Q9dT8odT0hMSxuKTpyKHQsbixlLG8pfSksdH1mdW5jdGlvbiB1dChuLHIsdCl7cmV0dXJuIHI9aC5jcmVhdGVDYWxsYmFjayhyLHQsMyksR3IobixmdW5jdGlvbihuLHQsZSl7cmV0dXJuIXIobix0LGUpfSl9ZnVuY3Rpb24gb3QobixyLHQpe2lmKG4mJlwibnVtYmVyXCIhPXR5cGVvZiBuLmxlbmd0aCYmKG49S3IobikpLG51bGw9PXJ8fHQpcmV0dXJuIG4/bltlcigwLG4ubGVuZ3RoLTEpXTp2O3ZhciBlPWF0KG4pO3JldHVybiBlLmxlbmd0aD1NZShVZSgwLHIpLGUubGVuZ3RoKSxlfWZ1bmN0aW9uIGF0KG4pe3ZhciByPS0xLHQ9bj9uLmxlbmd0aDowLGU9dmUoXCJudW1iZXJcIj09dHlwZW9mIHQ/dDowKTtyZXR1cm4gUXIobixmdW5jdGlvbihuKXt2YXIgdD1lcigwLCsrcik7ZVtyXT1lW3RdLGVbdF09bn0pLGV9ZnVuY3Rpb24gaXQobil7dmFyIHI9bj9uLmxlbmd0aDowO3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiByP3I6WmUobikubGVuZ3RofWZ1bmN0aW9uIGZ0KG4scix0KXt2YXIgZTtyPWguY3JlYXRlQ2FsbGJhY2socix0LDMpO3ZhciB1PS0xLG89bj9uLmxlbmd0aDowO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBvKWZvcig7Kyt1PG8mJiEoZT1yKG5bdV0sdSxuKSk7KTtlbHNlIGl1KG4sZnVuY3Rpb24obix0LHUpe3JldHVybiEoZT1yKG4sdCx1KSl9KTtyZXR1cm4hIWV9ZnVuY3Rpb24gbHQobixyLHQpe3ZhciBlPS0xLG89WGUociksYT1uP24ubGVuZ3RoOjAscD12ZShcIm51bWJlclwiPT10eXBlb2YgYT9hOjApO2ZvcihvfHwocj1oLmNyZWF0ZUNhbGxiYWNrKHIsdCwzKSksUXIobixmdW5jdGlvbihuLHQsdSl7dmFyIGE9cFsrK2VdPWYoKTtvP2EuY3JpdGVyaWE9WnIocixmdW5jdGlvbihyKXtyZXR1cm4gbltyXX0pOihhLmNyaXRlcmlhPWkoKSlbMF09cihuLHQsdSksYS5pbmRleD1lLGEudmFsdWU9bn0pLGE9cC5sZW5ndGgscC5zb3J0KHUpO2EtLTspe3ZhciBzPXBbYV07cFthXT1zLnZhbHVlLG98fGwocy5jcml0ZXJpYSksYyhzKX1yZXR1cm4gcH1mdW5jdGlvbiBjdChuKXtyZXR1cm4gbiYmXCJudW1iZXJcIj09dHlwZW9mIG4ubGVuZ3RoP3Aobik6S3Iobil9ZnVuY3Rpb24gcHQobil7Zm9yKHZhciByPS0xLHQ9bj9uLmxlbmd0aDowLGU9W107KytyPHQ7KXt2YXIgdT1uW3JdO3UmJmUucHVzaCh1KX1yZXR1cm4gZX1mdW5jdGlvbiBzdChuKXtyZXR1cm4gWShuLG5yKGFyZ3VtZW50cywhMCwhMCwxKSl9ZnVuY3Rpb24gdnQobixyLHQpe3ZhciBlPS0xLHU9bj9uLmxlbmd0aDowO2ZvcihyPWguY3JlYXRlQ2FsbGJhY2socix0LDMpOysrZTx1OylpZihyKG5bZV0sZSxuKSlyZXR1cm4gZTtyZXR1cm4tMX1mdW5jdGlvbiBodChuLHIsdCl7dmFyIGU9bj9uLmxlbmd0aDowO2ZvcihyPWguY3JlYXRlQ2FsbGJhY2socix0LDMpO2UtLTspaWYocihuW2VdLGUsbikpcmV0dXJuIGU7cmV0dXJuLTF9ZnVuY3Rpb24gZ3QobixyLHQpe3ZhciBlPTAsdT1uP24ubGVuZ3RoOjA7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHImJm51bGwhPXIpe3ZhciBvPS0xO2ZvcihyPWguY3JlYXRlQ2FsbGJhY2socix0LDMpOysrbzx1JiZyKG5bb10sbyxuKTspZSsrfWVsc2UgaWYoZT1yLG51bGw9PWV8fHQpcmV0dXJuIG4/blswXTp2O3JldHVybiBwKG4sMCxNZShVZSgwLGUpLHUpKX1mdW5jdGlvbiB5dChuLHIsdCxlKXtyZXR1cm5cImJvb2xlYW5cIiE9dHlwZW9mIHImJm51bGwhPXImJihlPXQsdD1cImZ1bmN0aW9uXCIhPXR5cGVvZiByJiZlJiZlW3JdPT09bj9udWxsOnIscj0hMSksbnVsbCE9dCYmKG49WnIobix0LGUpKSxucihuLHIpfWZ1bmN0aW9uIG10KHIsdCxlKXtpZihcIm51bWJlclwiPT10eXBlb2YgZSl7dmFyIHU9cj9yLmxlbmd0aDowO2U9MD5lP1VlKDAsdStlKTplfHwwfWVsc2UgaWYoZSl7dmFyIG89T3Qocix0KTtyZXR1cm4gcltvXT09PXQ/bzotMX1yZXR1cm4gbihyLHQsZSl9ZnVuY3Rpb24gYnQobixyLHQpe3ZhciBlPTAsdT1uP24ubGVuZ3RoOjA7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHImJm51bGwhPXIpe3ZhciBvPXU7Zm9yKHI9aC5jcmVhdGVDYWxsYmFjayhyLHQsMyk7by0tJiZyKG5bb10sbyxuKTspZSsrfWVsc2UgZT1udWxsPT1yfHx0PzE6cnx8ZTtyZXR1cm4gcChuLDAsTWUoVWUoMCx1LWUpLHUpKX1mdW5jdGlvbiBkdCgpe2Zvcih2YXIgdD1bXSxlPS0xLHU9YXJndW1lbnRzLmxlbmd0aCxhPWkoKSxmPWZyKCkscD1mPT09bixzPWkoKTsrK2U8dTspe3ZhciB2PWFyZ3VtZW50c1tlXTsoWGUodil8fHNyKHYpKSYmKHQucHVzaCh2KSxhLnB1c2gocCYmdi5sZW5ndGg+PWImJm8oZT90W2VdOnMpKSl9dmFyIGg9dFswXSxnPS0xLHk9aD9oLmxlbmd0aDowLG09W107bjpmb3IoOysrZzx5Oyl7dmFyIGQ9YVswXTtpZih2PWhbZ10sKGQ/cihkLHYpOmYocyx2KSk8MCl7Zm9yKGU9dSwoZHx8cykucHVzaCh2KTstLWU7KWlmKGQ9YVtlXSwoZD9yKGQsdik6Zih0W2VdLHYpKTwwKWNvbnRpbnVlIG47bS5wdXNoKHYpfX1mb3IoO3UtLTspZD1hW3VdLGQmJmMoZCk7cmV0dXJuIGwoYSksbChzKSxtfWZ1bmN0aW9uIF90KG4scix0KXt2YXIgZT0wLHU9bj9uLmxlbmd0aDowO2lmKFwibnVtYmVyXCIhPXR5cGVvZiByJiZudWxsIT1yKXt2YXIgbz11O2ZvcihyPWguY3JlYXRlQ2FsbGJhY2socix0LDMpO28tLSYmcihuW29dLG8sbik7KWUrK31lbHNlIGlmKGU9cixudWxsPT1lfHx0KXJldHVybiBuP25bdS0xXTp2O3JldHVybiBwKG4sVWUoMCx1LWUpKX1mdW5jdGlvbiB3dChuLHIsdCl7dmFyIGU9bj9uLmxlbmd0aDowO2ZvcihcIm51bWJlclwiPT10eXBlb2YgdCYmKGU9KDA+dD9VZSgwLGUrdCk6TWUodCxlLTEpKSsxKTtlLS07KWlmKG5bZV09PT1yKXJldHVybiBlO3JldHVybi0xfWZ1bmN0aW9uIGp0KG4pe2Zvcih2YXIgcj1hcmd1bWVudHMsdD0wLGU9ci5sZW5ndGgsdT1uP24ubGVuZ3RoOjA7Kyt0PGU7KWZvcih2YXIgbz0tMSxhPXJbdF07KytvPHU7KW5bb109PT1hJiYoRmUuY2FsbChuLG8tLSwxKSx1LS0pO3JldHVybiBufWZ1bmN0aW9uIGt0KG4scix0KXtuPStufHwwLHQ9XCJudW1iZXJcIj09dHlwZW9mIHQ/dDordHx8MSxudWxsPT1yJiYocj1uLG49MCk7Zm9yKHZhciBlPS0xLHU9VWUoMCxSZSgoci1uKS8odHx8MSkpKSxvPXZlKHUpOysrZTx1OylvW2VdPW4sbis9dDtyZXR1cm4gb31mdW5jdGlvbiB4dChuLHIsdCl7dmFyIGU9LTEsdT1uP24ubGVuZ3RoOjAsbz1bXTtmb3Iocj1oLmNyZWF0ZUNhbGxiYWNrKHIsdCwzKTsrK2U8dTspe3ZhciBhPW5bZV07cihhLGUsbikmJihvLnB1c2goYSksRmUuY2FsbChuLGUtLSwxKSx1LS0pfXJldHVybiBvfWZ1bmN0aW9uIEN0KG4scix0KXtpZihcIm51bWJlclwiIT10eXBlb2YgciYmbnVsbCE9cil7dmFyIGU9MCx1PS0xLG89bj9uLmxlbmd0aDowO2ZvcihyPWguY3JlYXRlQ2FsbGJhY2socix0LDMpOysrdTxvJiZyKG5bdV0sdSxuKTspZSsrfWVsc2UgZT1udWxsPT1yfHx0PzE6VWUoMCxyKTtyZXR1cm4gcChuLGUpfWZ1bmN0aW9uIE90KG4scix0LGUpe3ZhciB1PTAsbz1uP24ubGVuZ3RoOnU7Zm9yKHQ9dD9oLmNyZWF0ZUNhbGxiYWNrKHQsZSwxKTpYdCxyPXQocik7bz51Oyl7dmFyIGE9dStvPj4+MTt0KG5bYV0pPHI/dT1hKzE6bz1hfXJldHVybiB1fWZ1bmN0aW9uIE50KCl7cmV0dXJuIHVyKG5yKGFyZ3VtZW50cywhMCwhMCkpfWZ1bmN0aW9uIFJ0KG4scix0LGUpe3JldHVyblwiYm9vbGVhblwiIT10eXBlb2YgciYmbnVsbCE9ciYmKGU9dCx0PVwiZnVuY3Rpb25cIiE9dHlwZW9mIHImJmUmJmVbcl09PT1uP251bGw6cixyPSExKSxudWxsIT10JiYodD1oLmNyZWF0ZUNhbGxiYWNrKHQsZSwzKSksdXIobixyLHQpfWZ1bmN0aW9uIEV0KG4pe3JldHVybiBZKG4scChhcmd1bWVudHMsMSkpfWZ1bmN0aW9uIEl0KCl7Zm9yKHZhciBuPS0xLHI9YXJndW1lbnRzLmxlbmd0aDsrK248cjspe3ZhciB0PWFyZ3VtZW50c1tuXTtpZihYZSh0KXx8c3IodCkpdmFyIGU9ZT91cihZKGUsdCkuY29uY2F0KFkodCxlKSkpOnR9cmV0dXJuIGV8fFtdfWZ1bmN0aW9uIFN0KCl7Zm9yKHZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHM6YXJndW1lbnRzWzBdLHI9LTEsdD1uP250KHN1KG4sXCJsZW5ndGhcIikpOjAsZT12ZSgwPnQ/MDp0KTsrK3I8dDspZVtyXT1zdShuLHIpO3JldHVybiBlfWZ1bmN0aW9uIEF0KG4scil7dmFyIHQ9LTEsZT1uP24ubGVuZ3RoOjAsdT17fTtmb3Iocnx8IWV8fFhlKG5bMF0pfHwocj1bXSk7Kyt0PGU7KXt2YXIgbz1uW3RdO3I/dVtvXT1yW3RdOm8mJih1W29bMF1dPW9bMV0pfXJldHVybiB1fWZ1bmN0aW9uIER0KG4scil7aWYoIUVyKHIpKXRocm93IG5ldyBqZTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4tLW48MT9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp2b2lkIDB9fWZ1bmN0aW9uIFR0KG4scil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+Mj9hcihuLDE3LHAoYXJndW1lbnRzLDIpLG51bGwscik6YXIobiwxLG51bGwsbnVsbCxyKX1mdW5jdGlvbiAkdChuKXtmb3IodmFyIHI9YXJndW1lbnRzLmxlbmd0aD4xP25yKGFyZ3VtZW50cywhMCwhMSwxKTpfcihuKSx0PS0xLGU9ci5sZW5ndGg7Kyt0PGU7KXt2YXIgdT1yW3RdO25bdV09YXIoblt1XSwxLG51bGwsbnVsbCxuKX1yZXR1cm4gbn1mdW5jdGlvbiBGdChuLHIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPjI/YXIociwxOSxwKGFyZ3VtZW50cywyKSxudWxsLG4pOmFyKHIsMyxudWxsLG51bGwsbil9ZnVuY3Rpb24gQnQoKXtmb3IodmFyIG49YXJndW1lbnRzLHI9bi5sZW5ndGg7ci0tOylpZighRXIobltyXSkpdGhyb3cgbmV3IGplO3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgcj1hcmd1bWVudHMsdD1uLmxlbmd0aDt0LS07KXI9W25bdF0uYXBwbHkodGhpcyxyKV07cmV0dXJuIHJbMF19fWZ1bmN0aW9uIFd0KG4scil7cmV0dXJuIHI9XCJudW1iZXJcIj09dHlwZW9mIHI/cjorcnx8bi5sZW5ndGgsYXIobiw0LG51bGwsbnVsbCxudWxsLHIpfWZ1bmN0aW9uIHF0KG4scix0KXt2YXIgZSx1LG8sYSxpLGYsbCxjPTAscD0hMSxzPSEwO2lmKCFFcihuKSl0aHJvdyBuZXcgamU7aWYocj1VZSgwLHIpfHwwLHQ9PT0hMCl7dmFyIGg9ITA7cz0hMX1lbHNlIElyKHQpJiYoaD10LmxlYWRpbmcscD1cIm1heFdhaXRcImluIHQmJihVZShyLHQubWF4V2FpdCl8fDApLHM9XCJ0cmFpbGluZ1wiaW4gdD90LnRyYWlsaW5nOnMpO3ZhciBnPWZ1bmN0aW9uKCl7dmFyIHQ9ci0oaHUoKS1hKTtpZigwPj10KXt1JiZFZSh1KTt2YXIgcD1sO3U9Zj1sPXYscCYmKGM9aHUoKSxvPW4uYXBwbHkoaSxlKSxmfHx1fHwoZT1pPW51bGwpKX1lbHNlIGY9JGUoZyx0KX0seT1mdW5jdGlvbigpe2YmJkVlKGYpLHU9Zj1sPXYsKHN8fHAhPT1yKSYmKGM9aHUoKSxvPW4uYXBwbHkoaSxlKSxmfHx1fHwoZT1pPW51bGwpKX07cmV0dXJuIGZ1bmN0aW9uKCl7aWYoZT1hcmd1bWVudHMsYT1odSgpLGk9dGhpcyxsPXMmJihmfHwhaCkscD09PSExKXZhciB0PWgmJiFmO2Vsc2V7dXx8aHx8KGM9YSk7dmFyIHY9cC0oYS1jKSxtPTA+PXY7bT8odSYmKHU9RWUodSkpLGM9YSxvPW4uYXBwbHkoaSxlKSk6dXx8KHU9JGUoeSx2KSl9cmV0dXJuIG0mJmY/Zj1FZShmKTpmfHxyPT09cHx8KGY9JGUoZyxyKSksdCYmKG09ITAsbz1uLmFwcGx5KGksZSkpLCFtfHxmfHx1fHwoZT1pPW51bGwpLG99fWZ1bmN0aW9uIHp0KG4pe2lmKCFFcihuKSl0aHJvdyBuZXcgamU7dmFyIHI9cChhcmd1bWVudHMsMSk7cmV0dXJuICRlKGZ1bmN0aW9uKCl7bi5hcHBseSh2LHIpfSwxKX1mdW5jdGlvbiBMdChuLHIpe2lmKCFFcihuKSl0aHJvdyBuZXcgamU7dmFyIHQ9cChhcmd1bWVudHMsMik7cmV0dXJuICRlKGZ1bmN0aW9uKCl7bi5hcHBseSh2LHQpfSxyKX1mdW5jdGlvbiBQdChuLHIpe2lmKCFFcihuKSl0aHJvdyBuZXcgamU7dmFyIHQ9ZnVuY3Rpb24oKXt2YXIgZT10LmNhY2hlLHU9cj9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKTptK2FyZ3VtZW50c1swXTtyZXR1cm4gRGUuY2FsbChlLHUpP2VbdV06ZVt1XT1uLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07cmV0dXJuIHQuY2FjaGU9e30sdH1mdW5jdGlvbiBLdChuKXt2YXIgcix0O2lmKCFFcihuKSl0aHJvdyBuZXcgamU7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHI/dDoocj0hMCx0PW4uYXBwbHkodGhpcyxhcmd1bWVudHMpLG49bnVsbCx0KX19ZnVuY3Rpb24gVXQobil7cmV0dXJuIGFyKG4sMTYscChhcmd1bWVudHMsMSkpfWZ1bmN0aW9uIE10KG4pe3JldHVybiBhcihuLDMyLG51bGwscChhcmd1bWVudHMsMSkpfWZ1bmN0aW9uIFZ0KG4scix0KXt2YXIgZT0hMCx1PSEwO2lmKCFFcihuKSl0aHJvdyBuZXcgamU7cmV0dXJuIHQ9PT0hMT9lPSExOklyKHQpJiYoZT1cImxlYWRpbmdcImluIHQ/dC5sZWFkaW5nOmUsdT1cInRyYWlsaW5nXCJpbiB0P3QudHJhaWxpbmc6dSksVS5sZWFkaW5nPWUsVS5tYXhXYWl0PXIsVS50cmFpbGluZz11LHF0KG4scixVKX1mdW5jdGlvbiBHdChuLHIpe3JldHVybiBhcihyLDE2LFtuXSl9ZnVuY3Rpb24gSHQobil7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG59fWZ1bmN0aW9uIEp0KG4scix0KXt2YXIgZT10eXBlb2YgbjtpZihudWxsPT1ufHxcImZ1bmN0aW9uXCI9PWUpcmV0dXJuIFEobixyLHQpO2lmKFwib2JqZWN0XCIhPWUpcmV0dXJuIHJlKG4pO3ZhciB1PVplKG4pLG89dVswXSxhPW5bb107cmV0dXJuIDEhPXUubGVuZ3RofHxhIT09YXx8SXIoYSk/ZnVuY3Rpb24ocil7Zm9yKHZhciB0PXUubGVuZ3RoLGU9ITE7dC0tJiYoZT1ycihyW3VbdF1dLG5bdVt0XV0sbnVsbCwhMCkpOyk7cmV0dXJuIGV9OmZ1bmN0aW9uKG4pe3ZhciByPW5bb107cmV0dXJuIGE9PT1yJiYoMCE9PWF8fDEvYT09MS9yKX19ZnVuY3Rpb24gUXQobil7cmV0dXJuIG51bGw9PW4/XCJcIjp3ZShuKS5yZXBsYWNlKGV1LGlyKX1mdW5jdGlvbiBYdChuKXtyZXR1cm4gbn1mdW5jdGlvbiBZdChuLHIsdCl7dmFyIGU9ITAsdT1yJiZfcihyKTtyJiYodHx8dS5sZW5ndGgpfHwobnVsbD09dCYmKHQ9ciksbz1nLHI9bixuPWgsdT1fcihyKSksdD09PSExP2U9ITE6SXIodCkmJlwiY2hhaW5cImluIHQmJihlPXQuY2hhaW4pO3ZhciBvPW4sYT1FcihvKTtRcih1LGZ1bmN0aW9uKHQpe3ZhciB1PW5bdF09clt0XTthJiYoby5wcm90b3R5cGVbdF09ZnVuY3Rpb24oKXt2YXIgcj10aGlzLl9fY2hhaW5fXyx0PXRoaXMuX193cmFwcGVkX18sYT1bdF07VGUuYXBwbHkoYSxhcmd1bWVudHMpO3ZhciBpPXUuYXBwbHkobixhKTtpZihlfHxyKXtpZih0PT09aSYmSXIoaSkpcmV0dXJuIHRoaXM7aT1uZXcgbyhpKSxpLl9fY2hhaW5fXz1yfXJldHVybiBpfSl9KX1mdW5jdGlvbiBadCgpe3JldHVybiB0Ll89Q2UsdGhpc31mdW5jdGlvbiBuZSgpe31mdW5jdGlvbiByZShuKXtyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIHJbbl19fWZ1bmN0aW9uIHRlKG4scix0KXt2YXIgZT1udWxsPT1uLHU9bnVsbD09cjtpZihudWxsPT10JiYoXCJib29sZWFuXCI9PXR5cGVvZiBuJiZ1Pyh0PW4sbj0xKTp1fHxcImJvb2xlYW5cIiE9dHlwZW9mIHJ8fCh0PXIsdT0hMCkpLGUmJnUmJihyPTEpLG49K258fDAsdT8ocj1uLG49MCk6cj0rcnx8MCx0fHxuJTF8fHIlMSl7dmFyIG89R2UoKTtyZXR1cm4gTWUobitvKihyLW4rcGFyc2VGbG9hdChcIjFlLVwiKygobytcIlwiKS5sZW5ndGgtMSkpKSxyKX1yZXR1cm4gZXIobixyKX1mdW5jdGlvbiBlZShuLHIpe2lmKG4pe3ZhciB0PW5bcl07cmV0dXJuIEVyKHQpP25bcl0oKTp0fX1mdW5jdGlvbiB1ZShuLHIsdCl7dmFyIGU9aC50ZW1wbGF0ZVNldHRpbmdzO249d2Uobnx8XCJcIiksdD1vdSh7fSx0LGUpO3ZhciB1LG89b3Uoe30sdC5pbXBvcnRzLGUuaW1wb3J0cyksaT1aZShvKSxmPUtyKG8pLGw9MCxjPXQuaW50ZXJwb2xhdGV8fEUscD1cIl9fcCArPSAnXCIscz1fZSgodC5lc2NhcGV8fEUpLnNvdXJjZStcInxcIitjLnNvdXJjZStcInxcIisoYz09PU4/eDpFKS5zb3VyY2UrXCJ8XCIrKHQuZXZhbHVhdGV8fEUpLnNvdXJjZStcInwkXCIsXCJnXCIpO24ucmVwbGFjZShzLGZ1bmN0aW9uKHIsdCxlLG8saSxmKXtyZXR1cm4gZXx8KGU9bykscCs9bi5zbGljZShsLGYpLnJlcGxhY2UoUyxhKSx0JiYocCs9XCInICtcXG5fX2UoXCIrdCtcIikgK1xcbidcIiksaSYmKHU9ITAscCs9XCInO1xcblwiK2krXCI7XFxuX19wICs9ICdcIiksZSYmKHArPVwiJyArXFxuKChfX3QgPSAoXCIrZStcIikpID09IG51bGwgPyAnJyA6IF9fdCkgK1xcbidcIiksbD1mK3IubGVuZ3RoLHJ9KSxwKz1cIic7XFxuXCI7dmFyIGc9dC52YXJpYWJsZSx5PWc7eXx8KGc9XCJvYmpcIixwPVwid2l0aCAoXCIrZytcIikge1xcblwiK3ArXCJcXG59XFxuXCIpLHA9KHU/cC5yZXBsYWNlKHcsXCJcIik6cCkucmVwbGFjZShqLFwiJDFcIikucmVwbGFjZShrLFwiJDE7XCIpLHA9XCJmdW5jdGlvbihcIitnK1wiKSB7XFxuXCIrKHk/XCJcIjpnK1wiIHx8IChcIitnK1wiID0ge30pO1xcblwiKStcInZhciBfX3QsIF9fcCA9ICcnLCBfX2UgPSBfLmVzY2FwZVwiKyh1P1wiLCBfX2ogPSBBcnJheS5wcm90b3R5cGUuam9pbjtcXG5mdW5jdGlvbiBwcmludCgpIHsgX19wICs9IF9fai5jYWxsKGFyZ3VtZW50cywgJycpIH1cXG5cIjpcIjtcXG5cIikrcCtcInJldHVybiBfX3BcXG59XCI7dmFyIG09XCJcXG4vKlxcbi8vIyBzb3VyY2VVUkw9XCIrKHQuc291cmNlVVJMfHxcIi9sb2Rhc2gvdGVtcGxhdGUvc291cmNlW1wiK0QrKyArXCJdXCIpK1wiXFxuKi9cIjt0cnl7dmFyIGI9eWUoaSxcInJldHVybiBcIitwK20pLmFwcGx5KHYsZil9Y2F0Y2goZCl7dGhyb3cgZC5zb3VyY2U9cCxkfXJldHVybiByP2Iocik6KGIuc291cmNlPXAsYil9ZnVuY3Rpb24gb2UobixyLHQpe249KG49K24pPi0xP246MDt2YXIgZT0tMSx1PXZlKG4pO2ZvcihyPVEocix0LDEpOysrZTxuOyl1W2VdPXIoZSk7cmV0dXJuIHV9ZnVuY3Rpb24gYWUobil7cmV0dXJuIG51bGw9PW4/XCJcIjp3ZShuKS5yZXBsYWNlKHR1LHByKX1mdW5jdGlvbiBpZShuKXt2YXIgcj0rK3k7cmV0dXJuIHdlKG51bGw9PW4/XCJcIjpuKStyfWZ1bmN0aW9uIGZlKG4pe3JldHVybiBuPW5ldyBnKG4pLG4uX19jaGFpbl9fPSEwLG59ZnVuY3Rpb24gbGUobixyKXtyZXR1cm4gcihuKSxufWZ1bmN0aW9uIGNlKCl7cmV0dXJuIHRoaXMuX19jaGFpbl9fPSEwLHRoaXN9ZnVuY3Rpb24gcGUoKXtyZXR1cm4gd2UodGhpcy5fX3dyYXBwZWRfXyl9ZnVuY3Rpb24gc2UoKXtyZXR1cm4gdGhpcy5fX3dyYXBwZWRfX310PXQ/Wi5kZWZhdWx0cyhILk9iamVjdCgpLHQsWi5waWNrKEgsQSkpOkg7dmFyIHZlPXQuQXJyYXksaGU9dC5Cb29sZWFuLGdlPXQuRGF0ZSx5ZT10LkZ1bmN0aW9uLG1lPXQuTWF0aCxiZT10Lk51bWJlcixkZT10Lk9iamVjdCxfZT10LlJlZ0V4cCx3ZT10LlN0cmluZyxqZT10LlR5cGVFcnJvcixrZT1bXSx4ZT1kZS5wcm90b3R5cGUsQ2U9dC5fLE9lPXhlLnRvU3RyaW5nLE5lPV9lKFwiXlwiK3dlKE9lKS5yZXBsYWNlKC9bLiorP14ke30oKXxbXFxdXFxcXF0vZyxcIlxcXFwkJlwiKS5yZXBsYWNlKC90b1N0cmluZ3wgZm9yIFteXFxdXSsvZyxcIi4qP1wiKStcIiRcIiksUmU9bWUuY2VpbCxFZT10LmNsZWFyVGltZW91dCxJZT1tZS5mbG9vcixTZT15ZS5wcm90b3R5cGUudG9TdHJpbmcsQWU9bHIoQWU9ZGUuZ2V0UHJvdG90eXBlT2YpJiZBZSxEZT14ZS5oYXNPd25Qcm9wZXJ0eSxUZT1rZS5wdXNoLCRlPXQuc2V0VGltZW91dCxGZT1rZS5zcGxpY2UsQmU9a2UudW5zaGlmdCxXZT1mdW5jdGlvbigpe3RyeXt2YXIgbj17fSxyPWxyKHI9ZGUuZGVmaW5lUHJvcGVydHkpJiZyLHQ9cihuLG4sbikmJnJ9Y2F0Y2goZSl7fXJldHVybiB0fSgpLHFlPWxyKHFlPWRlLmNyZWF0ZSkmJnFlLHplPWxyKHplPXZlLmlzQXJyYXkpJiZ6ZSxMZT10LmlzRmluaXRlLFBlPXQuaXNOYU4sS2U9bHIoS2U9ZGUua2V5cykmJktlLFVlPW1lLm1heCxNZT1tZS5taW4sVmU9dC5wYXJzZUludCxHZT1tZS5yYW5kb20sSGU9e307SGVbJF09dmUsSGVbRl09aGUsSGVbQl09Z2UsSGVbV109eWUsSGVbel09ZGUsSGVbcV09YmUsSGVbTF09X2UsSGVbUF09d2UsZy5wcm90b3R5cGU9aC5wcm90b3R5cGU7dmFyIEplPWguc3VwcG9ydD17fTtKZS5mdW5jRGVjb21wPSFscih0LldpblJURXJyb3IpJiZJLnRlc3QocyksSmUuZnVuY05hbWVzPVwic3RyaW5nXCI9PXR5cGVvZiB5ZS5uYW1lLGgudGVtcGxhdGVTZXR0aW5ncz17ZXNjYXBlOi88JS0oW1xcc1xcU10rPyklPi9nLGV2YWx1YXRlOi88JShbXFxzXFxTXSs/KSU+L2csaW50ZXJwb2xhdGU6Tix2YXJpYWJsZTpcIlwiLGltcG9ydHM6e186aH19LHFlfHwoSj1mdW5jdGlvbigpe2Z1bmN0aW9uIG4oKXt9cmV0dXJuIGZ1bmN0aW9uKHIpe2lmKElyKHIpKXtuLnByb3RvdHlwZT1yO3ZhciBlPW5ldyBuO24ucHJvdG90eXBlPW51bGx9cmV0dXJuIGV8fHQuT2JqZWN0KCl9fSgpKTt2YXIgUWU9V2U/ZnVuY3Rpb24obixyKXtNLnZhbHVlPXIsV2UobixcIl9fYmluZERhdGFfX1wiLE0pfTpuZSxYZT16ZXx8ZnVuY3Rpb24obil7cmV0dXJuIG4mJlwib2JqZWN0XCI9PXR5cGVvZiBuJiZcIm51bWJlclwiPT10eXBlb2Ygbi5sZW5ndGgmJk9lLmNhbGwobik9PSR8fCExfSxZZT1mdW5jdGlvbihuKXt2YXIgcix0PW4sZT1bXTtpZighdClyZXR1cm4gZTtpZighVlt0eXBlb2Ygbl0pcmV0dXJuIGU7Zm9yKHIgaW4gdClEZS5jYWxsKHQscikmJmUucHVzaChyKTtyZXR1cm4gZX0sWmU9S2U/ZnVuY3Rpb24obil7cmV0dXJuIElyKG4pP0tlKG4pOltdfTpZZSxudT17XCImXCI6XCImYW1wO1wiLFwiPFwiOlwiJmx0O1wiLFwiPlwiOlwiJmd0O1wiLCdcIic6XCImcXVvdDtcIixcIidcIjpcIiYjMzk7XCJ9LHJ1PWpyKG51KSx0dT1fZShcIihcIitaZShydSkuam9pbihcInxcIikrXCIpXCIsXCJnXCIpLGV1PV9lKFwiW1wiK1plKG51KS5qb2luKFwiXCIpK1wiXVwiLFwiZ1wiKSx1dT1mdW5jdGlvbihuLHIsdCl7dmFyIGUsdT1uLG89dTtpZighdSlyZXR1cm4gbzt2YXIgYT1hcmd1bWVudHMsaT0wLGY9XCJudW1iZXJcIj09dHlwZW9mIHQ/MjphLmxlbmd0aDtpZihmPjMmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGFbZi0yXSl2YXIgbD1RKGFbLS1mLTFdLGFbZi0tXSwyKTtlbHNlIGY+MiYmXCJmdW5jdGlvblwiPT10eXBlb2YgYVtmLTFdJiYobD1hWy0tZl0pO2Zvcig7KytpPGY7KWlmKHU9YVtpXSx1JiZWW3R5cGVvZiB1XSlmb3IodmFyIGM9LTEscD1WW3R5cGVvZiB1XSYmWmUodSkscz1wP3AubGVuZ3RoOjA7KytjPHM7KWU9cFtjXSxvW2VdPWw/bChvW2VdLHVbZV0pOnVbZV07cmV0dXJuIG99LG91PWZ1bmN0aW9uKG4scix0KXt2YXIgZSx1PW4sbz11O2lmKCF1KXJldHVybiBvO2Zvcih2YXIgYT1hcmd1bWVudHMsaT0wLGY9XCJudW1iZXJcIj09dHlwZW9mIHQ/MjphLmxlbmd0aDsrK2k8ZjspaWYodT1hW2ldLHUmJlZbdHlwZW9mIHVdKWZvcih2YXIgbD0tMSxjPVZbdHlwZW9mIHVdJiZaZSh1KSxwPWM/Yy5sZW5ndGg6MDsrK2w8cDspZT1jW2xdLFwidW5kZWZpbmVkXCI9PXR5cGVvZiBvW2VdJiYob1tlXT11W2VdKTtyZXR1cm4gb30sYXU9ZnVuY3Rpb24obixyLHQpe3ZhciBlLHU9bixvPXU7aWYoIXUpcmV0dXJuIG87aWYoIVZbdHlwZW9mIHVdKXJldHVybiBvO3I9ciYmXCJ1bmRlZmluZWRcIj09dHlwZW9mIHQ/cjpRKHIsdCwzKTtmb3IoZSBpbiB1KWlmKHIodVtlXSxlLG4pPT09ITEpcmV0dXJuIG87cmV0dXJuIG99LGl1PWZ1bmN0aW9uKG4scix0KXt2YXIgZSx1PW4sbz11O2lmKCF1KXJldHVybiBvO2lmKCFWW3R5cGVvZiB1XSlyZXR1cm4gbztyPXImJlwidW5kZWZpbmVkXCI9PXR5cGVvZiB0P3I6UShyLHQsMyk7Zm9yKHZhciBhPS0xLGk9Vlt0eXBlb2YgdV0mJlplKHUpLGY9aT9pLmxlbmd0aDowOysrYTxmOylpZihlPWlbYV0scih1W2VdLGUsbik9PT0hMSlyZXR1cm4gbztyZXR1cm4gb30sZnU9QWU/ZnVuY3Rpb24obil7aWYoIW58fE9lLmNhbGwobikhPXopcmV0dXJuITE7dmFyIHI9bi52YWx1ZU9mLHQ9bHIocikmJih0PUFlKHIpKSYmQWUodCk7cmV0dXJuIHQ/bj09dHx8QWUobik9PXQ6Y3Iobil9OmNyLGx1PW9yKGZ1bmN0aW9uKG4scix0KXtEZS5jYWxsKG4sdCk/blt0XSsrOm5bdF09MX0pLGN1PW9yKGZ1bmN0aW9uKG4scix0KXsoRGUuY2FsbChuLHQpP25bdF06blt0XT1bXSkucHVzaChyKX0pLHB1PW9yKGZ1bmN0aW9uKG4scix0KXtuW3RdPXJ9KSxzdT1acix2dT1HcixodT1scihodT1nZS5ub3cpJiZodXx8ZnVuY3Rpb24oKXtyZXR1cm4obmV3IGdlKS5nZXRUaW1lKCl9LGd1PTg9PVZlKF8rXCIwOFwiKT9WZTpmdW5jdGlvbihuLHIpe3JldHVybiBWZSgkcihuKT9uLnJlcGxhY2UoUixcIlwiKTpuLHJ8fDApfTtyZXR1cm4gaC5hZnRlcj1EdCxoLmFzc2lnbj11dSxoLmF0PVVyLGguYmluZD1UdCxoLmJpbmRBbGw9JHQsaC5iaW5kS2V5PUZ0LGguY2hhaW49ZmUsaC5jb21wYWN0PXB0LGguY29tcG9zZT1CdCxoLmNvbnN0YW50PUh0LGguY291bnRCeT1sdSxoLmNyZWF0ZT1ncixoLmNyZWF0ZUNhbGxiYWNrPUp0LGguY3Vycnk9V3QsaC5kZWJvdW5jZT1xdCxoLmRlZmF1bHRzPW91LGguZGVmZXI9enQsaC5kZWxheT1MdCxoLmRpZmZlcmVuY2U9c3QsaC5maWx0ZXI9R3IsaC5mbGF0dGVuPXl0LGguZm9yRWFjaD1RcixoLmZvckVhY2hSaWdodD1YcixoLmZvckluPWF1LGguZm9ySW5SaWdodD1icixoLmZvck93bj1pdSxoLmZvck93blJpZ2h0PWRyLGguZnVuY3Rpb25zPV9yLGguZ3JvdXBCeT1jdSxoLmluZGV4Qnk9cHUsaC5pbml0aWFsPWJ0LGguaW50ZXJzZWN0aW9uPWR0LGguaW52ZXJ0PWpyLGguaW52b2tlPVlyLGgua2V5cz1aZSxoLm1hcD1acixoLm1hcFZhbHVlcz1CcixoLm1heD1udCxoLm1lbW9pemU9UHQsaC5tZXJnZT1XcixoLm1pbj1ydCxoLm9taXQ9cXIsaC5vbmNlPUt0LGgucGFpcnM9enIsaC5wYXJ0aWFsPVV0LGgucGFydGlhbFJpZ2h0PU10LGgucGljaz1McixoLnBsdWNrPXN1LGgucHJvcGVydHk9cmUsaC5wdWxsPWp0LGgucmFuZ2U9a3QsaC5yZWplY3Q9dXQsaC5yZW1vdmU9eHQsaC5yZXN0PUN0LGguc2h1ZmZsZT1hdCxoLnNvcnRCeT1sdCxoLnRhcD1sZSxoLnRocm90dGxlPVZ0LGgudGltZXM9b2UsaC50b0FycmF5PWN0LGgudHJhbnNmb3JtPVByLGgudW5pb249TnQsaC51bmlxPVJ0LGgudmFsdWVzPUtyLGgud2hlcmU9dnUsaC53aXRob3V0PUV0LGgud3JhcD1HdCxoLnhvcj1JdCxoLnppcD1TdCxoLnppcE9iamVjdD1BdCxoLmNvbGxlY3Q9WnIsaC5kcm9wPUN0LGguZWFjaD1RcixoLmVhY2hSaWdodD1YcixoLmV4dGVuZD11dSxoLm1ldGhvZHM9X3IsaC5vYmplY3Q9QXQsaC5zZWxlY3Q9R3IsaC50YWlsPUN0LGgudW5pcXVlPVJ0LGgudW56aXA9U3QsWXQoaCksaC5jbG9uZT12cixoLmNsb25lRGVlcD1ocixoLmNvbnRhaW5zPU1yLGguZXNjYXBlPVF0LGguZXZlcnk9VnIsaC5maW5kPUhyLGguZmluZEluZGV4PXZ0LGguZmluZEtleT15cixoLmZpbmRMYXN0PUpyLGguZmluZExhc3RJbmRleD1odCxoLmZpbmRMYXN0S2V5PW1yLGguaGFzPXdyLGguaWRlbnRpdHk9WHQsaC5pbmRleE9mPW10LGguaXNBcmd1bWVudHM9c3IsaC5pc0FycmF5PVhlLGguaXNCb29sZWFuPWtyLGguaXNEYXRlPXhyLGguaXNFbGVtZW50PUNyLGguaXNFbXB0eT1PcixoLmlzRXF1YWw9TnIsaC5pc0Zpbml0ZT1ScixoLmlzRnVuY3Rpb249RXIsaC5pc05hTj1TcixoLmlzTnVsbD1BcixoLmlzTnVtYmVyPURyLGguaXNPYmplY3Q9SXIsaC5pc1BsYWluT2JqZWN0PWZ1LGguaXNSZWdFeHA9VHIsaC5pc1N0cmluZz0kcixoLmlzVW5kZWZpbmVkPUZyLGgubGFzdEluZGV4T2Y9d3QsaC5taXhpbj1ZdCxoLm5vQ29uZmxpY3Q9WnQsaC5ub29wPW5lLGgubm93PWh1LGgucGFyc2VJbnQ9Z3UsaC5yYW5kb209dGUsaC5yZWR1Y2U9dHQsaC5yZWR1Y2VSaWdodD1ldCxoLnJlc3VsdD1lZSxoLnJ1bkluQ29udGV4dD1zLGguc2l6ZT1pdCxoLnNvbWU9ZnQsaC5zb3J0ZWRJbmRleD1PdCxoLnRlbXBsYXRlPXVlLGgudW5lc2NhcGU9YWUsaC51bmlxdWVJZD1pZSxoLmFsbD1WcixoLmFueT1mdCxoLmRldGVjdD1IcixoLmZpbmRXaGVyZT1IcixoLmZvbGRsPXR0LGguZm9sZHI9ZXQsaC5pbmNsdWRlPU1yLGguaW5qZWN0PXR0LFl0KGZ1bmN0aW9uKCl7dmFyIG49e307cmV0dXJuIGl1KGgsZnVuY3Rpb24ocix0KXtoLnByb3RvdHlwZVt0XXx8KG5bdF09cil9KSxufSgpLCExKSxoLmZpcnN0PWd0LGgubGFzdD1fdCxoLnNhbXBsZT1vdCxoLnRha2U9Z3QsaC5oZWFkPWd0LGl1KGgsZnVuY3Rpb24obixyKXt2YXIgdD1cInNhbXBsZVwiIT09cjtoLnByb3RvdHlwZVtyXXx8KGgucHJvdG90eXBlW3JdPWZ1bmN0aW9uKHIsZSl7dmFyIHU9dGhpcy5fX2NoYWluX18sbz1uKHRoaXMuX193cmFwcGVkX18scixlKTtyZXR1cm4gdXx8bnVsbCE9ciYmKCFlfHx0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiByKT9uZXcgZyhvLHUpOm99KX0pLGguVkVSU0lPTj1cIjIuNC4xXCIsaC5wcm90b3R5cGUuY2hhaW49Y2UsaC5wcm90b3R5cGUudG9TdHJpbmc9cGUsaC5wcm90b3R5cGUudmFsdWU9c2UsaC5wcm90b3R5cGUudmFsdWVPZj1zZSxRcihbXCJqb2luXCIsXCJwb3BcIixcInNoaWZ0XCJdLGZ1bmN0aW9uKG4pe3ZhciByPWtlW25dO2gucHJvdG90eXBlW25dPWZ1bmN0aW9uKCl7dmFyIG49dGhpcy5fX2NoYWluX18sdD1yLmFwcGx5KHRoaXMuX193cmFwcGVkX18sYXJndW1lbnRzKTtyZXR1cm4gbj9uZXcgZyh0LG4pOnR9fSksUXIoW1wicHVzaFwiLFwicmV2ZXJzZVwiLFwic29ydFwiLFwidW5zaGlmdFwiXSxmdW5jdGlvbihuKXt2YXIgcj1rZVtuXTtoLnByb3RvdHlwZVtuXT1mdW5jdGlvbigpe3JldHVybiByLmFwcGx5KHRoaXMuX193cmFwcGVkX18sYXJndW1lbnRzKSx0aGlzfX0pLFFyKFtcImNvbmNhdFwiLFwic2xpY2VcIixcInNwbGljZVwiXSxmdW5jdGlvbihuKXt2YXIgcj1rZVtuXTtoLnByb3RvdHlwZVtuXT1mdW5jdGlvbigpe3JldHVybiBuZXcgZyhyLmFwcGx5KHRoaXMuX193cmFwcGVkX18sYXJndW1lbnRzKSx0aGlzLl9fY2hhaW5fXyl9fSksaH12YXIgdixoPVtdLGc9W10seT0wLG09K25ldyBEYXRlK1wiXCIsYj03NSxkPTQwLF89XCIgXHRcdTAwMGJcXGbCoO+7v1xcblxcclxcdTIwMjhcXHUyMDI54ZqA4aCO4oCA4oCB4oCC4oCD4oCE4oCF4oCG4oCH4oCI4oCJ4oCK4oCv4oGf44CAXCIsdz0vXFxiX19wIFxcKz0gJyc7L2csaj0vXFxiKF9fcCBcXCs9KSAnJyBcXCsvZyxrPS8oX19lXFwoLio/XFwpfFxcYl9fdFxcKSkgXFwrXFxuJyc7L2cseD0vXFwkXFx7KFteXFxcXH1dKig/OlxcXFwuW15cXFxcfV0qKSopXFx9L2csQz0vXFx3KiQvLE89L15cXHMqZnVuY3Rpb25bIFxcblxcclxcdF0rXFx3LyxOPS88JT0oW1xcc1xcU10rPyklPi9nLFI9UmVnRXhwKFwiXltcIitfK1wiXSowKyg/PS4kKVwiKSxFPS8oJF4pLyxJPS9cXGJ0aGlzXFxiLyxTPS9bJ1xcblxcclxcdFxcdTIwMjhcXHUyMDI5XFxcXF0vZyxBPVtcIkFycmF5XCIsXCJCb29sZWFuXCIsXCJEYXRlXCIsXCJGdW5jdGlvblwiLFwiTWF0aFwiLFwiTnVtYmVyXCIsXCJPYmplY3RcIixcIlJlZ0V4cFwiLFwiU3RyaW5nXCIsXCJfXCIsXCJhdHRhY2hFdmVudFwiLFwiY2xlYXJUaW1lb3V0XCIsXCJpc0Zpbml0ZVwiLFwiaXNOYU5cIixcInBhcnNlSW50XCIsXCJzZXRUaW1lb3V0XCJdLEQ9MCxUPVwiW29iamVjdCBBcmd1bWVudHNdXCIsJD1cIltvYmplY3QgQXJyYXldXCIsRj1cIltvYmplY3QgQm9vbGVhbl1cIixCPVwiW29iamVjdCBEYXRlXVwiLFc9XCJbb2JqZWN0IEZ1bmN0aW9uXVwiLHE9XCJbb2JqZWN0IE51bWJlcl1cIix6PVwiW29iamVjdCBPYmplY3RdXCIsTD1cIltvYmplY3QgUmVnRXhwXVwiLFA9XCJbb2JqZWN0IFN0cmluZ11cIixLPXt9O0tbV109ITEsS1tUXT1LWyRdPUtbRl09S1tCXT1LW3FdPUtbel09S1tMXT1LW1BdPSEwO3ZhciBVPXtsZWFkaW5nOiExLG1heFdhaXQ6MCx0cmFpbGluZzohMX0sTT17Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITEsdmFsdWU6bnVsbCx3cml0YWJsZTohMX0sVj17XCJib29sZWFuXCI6ITEsXCJmdW5jdGlvblwiOiEwLG9iamVjdDohMCxudW1iZXI6ITEsc3RyaW5nOiExLHVuZGVmaW5lZDohMX0sRz17XCJcXFxcXCI6XCJcXFxcXCIsXCInXCI6XCInXCIsXCJcXG5cIjpcIm5cIixcIlxcclwiOlwiclwiLFwiXHRcIjpcInRcIixcIlxcdTIwMjhcIjpcInUyMDI4XCIsXCJcXHUyMDI5XCI6XCJ1MjAyOVwifSxIPVZbdHlwZW9mIHdpbmRvd10mJndpbmRvd3x8dGhpcyxKPVZbdHlwZW9mIGV4cG9ydHNdJiZleHBvcnRzJiYhZXhwb3J0cy5ub2RlVHlwZSYmZXhwb3J0cyxRPVZbdHlwZW9mIG1vZHVsZV0mJm1vZHVsZSYmIW1vZHVsZS5ub2RlVHlwZSYmbW9kdWxlLFg9USYmUS5leHBvcnRzPT09SiYmSixZPVZbdHlwZW9mIGdsb2JhbF0mJmdsb2JhbDshWXx8WS5nbG9iYWwhPT1ZJiZZLndpbmRvdyE9PVl8fChIPVkpO3ZhciBaPXMoKTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJlwib2JqZWN0XCI9PXR5cGVvZiBkZWZpbmUuYW1kJiZkZWZpbmUuYW1kPyhILl89WixkZWZpbmUoZnVuY3Rpb24oKXtyZXR1cm4gWn0pKTpKJiZRP1g/KFEuZXhwb3J0cz1aKS5fPVo6Si5fPVo6SC5fPVp9KS5jYWxsKHRoaXMpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dDMubWFwLmpzb25cbn0pLmNhbGwodGhpcyx0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pIiwiKGZ1bmN0aW9uIChnbG9iYWwpe1xudmFyIF89cmVxdWlyZShcImxvZGFzaFwiKSxhc3NlcnQ9ZnVuY3Rpb24oZSx0KXtpZighZSl0aHJvdyB0fHxcImFzc2VydGlvbiBmYWlsZWRcIn0saGFzaGtleT1yZXF1aXJlKFwiLi4vdXRpbHMvaGFzaGtleVwiKSxDb29yZGluYXRlcz1yZXF1aXJlKFwiLi4vbW9kZWwvQ29vcmRpbmF0ZXNcIiksS2V5Ym9hcmQ9cmVxdWlyZShcIi4vS2V5Ym9hcmRcIiksTG9vcE1hbmFnZXI9cmVxdWlyZShcIi4vTG9vcE1hbmFnZXJcIiksU3RhdHM9cmVxdWlyZShcIlQzLlN0YXRzXCIpLGRhdD1yZXF1aXJlKFwiVDMuZGF0XCIpLFRIUkVFPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93LlRIUkVFOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsLlRIUkVFOm51bGwsVEhSRUV4PXJlcXVpcmUoXCIuLi9saWIvVEhSRUV4L1wiKSx0aGVtZXM9e2Rhcms6cmVxdWlyZShcIi4uL3RoZW1lcy9kYXJrXCIpLGxpZ2h0OnJlcXVpcmUoXCIuLi90aGVtZXMvbGlnaHRcIil9LEFwcGxpY2F0aW9uPWZ1bmN0aW9uKGUpe2U9Xy5tZXJnZSh7aWQ6bnVsbCxyZW5kZXJlcjpudWxsLHdpZHRoOndpbmRvdy5pbm5lcldpZHRoLGhlaWdodDp3aW5kb3cuaW5uZXJIZWlnaHQscmVuZGVySW1tZWRpYXRlbHk6ITAsaW5qZWN0Q2FjaGU6ITEsZnVsbFNjcmVlbjohMSx0aGVtZTpcImRhcmtcIixjYW1lcmFDb25maWc6e30sYW1iaWVudENvbmZpZzp7fSxkZWZhdWx0U2NlbmVDb25maWc6e2ZvZzohMH19LGUpLHRoaXMuaW5pdGlhbENvbmZpZz1lLHRoaXMuc2NlbmVzPXt9LHRoaXMuYWN0aXZlU2NlbmU9bnVsbCx0aGlzLmNhbWVyYXM9e30sdGhpcy5hY3RpdmVDYW1lcmE9bnVsbCx0aGlzLnJlbmRlcmVyPW51bGwsdGhpcy5rZXlib2FyZD1udWxsLHRoaXMuZGF0Z3VpPW51bGwsdGhpcy5zdGF0cz1udWxsLHRoaXMubG9vcE1hbmFnZXI9bnVsbCx0aGlzLnRoZW1lPW51bGwsdGhpcy5fX3QzY2FjaGVfXz17fSxBcHBsaWNhdGlvbi5wcm90b3R5cGUuaW5pdEFwcGxpY2F0aW9uLmNhbGwodGhpcyl9O0FwcGxpY2F0aW9uLnByb3RvdHlwZT17Y29uc3RydWN0b3I6QXBwbGljYXRpb24sZ2V0Q29uZmlnOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5pdGlhbENvbmZpZ30saW5pdEFwcGxpY2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWUuZ2V0Q29uZmlnKCk7ZS5pbmplY3RDYWNoZSh0LmluamVjdENhY2hlKSxlLnNldFRoZW1lKHQudGhlbWUpLGUuY3JlYXRlRGVmYXVsdFJlbmRlcmVyKCksZS5jcmVhdGVEZWZhdWx0U2NlbmUoKSxlLmNyZWF0ZURlZmF1bHRDYW1lcmEoKSxlLmNyZWF0ZURlZmF1bHRMaWdodHMoKSxlLmluaXREYXRHdWkoKSxlLmluaXRTdGF0cygpLGUuaW5pdE1hc2soKS5tYXNrVmlzaWJsZSghdC5yZW5kZXJJbW1lZGlhdGVseSksZS5pbml0RnVsbFNjcmVlbigpLGUuaW5pdEtleWJvYXJkKCksZS5pbml0Q29vcmRpbmF0ZXMoKSxlLmdhbWVMb29wKCl9LHNldEFjdGl2ZVNjZW5lOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmFjdGl2ZVNjZW5lPXRoaXMuc2NlbmVzW2VdLHRoaXN9LGFkZFNjZW5lOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGNvbnNvbGUuYXNzZXJ0KGUgaW5zdGFuY2VvZiBUSFJFRS5TY2VuZSksdGhpcy5zY2VuZXNbdF09ZSx0aGlzfSxjcmVhdGVEZWZhdWx0U2NlbmU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9ZS5nZXRDb25maWcoKSxpPW5ldyBUSFJFRS5TY2VuZTtyZXR1cm4gdC5kZWZhdWx0U2NlbmVDb25maWcuZm9nJiYoaS5mb2c9bmV3IFRIUkVFLkZvZyhlLnRoZW1lLmZvZ0NvbG9yLDJlMyw0ZTMpKSxlLmFkZFNjZW5lKGksXCJkZWZhdWx0XCIpLnNldEFjdGl2ZVNjZW5lKFwiZGVmYXVsdFwiKSxlfSxjcmVhdGVEZWZhdWx0UmVuZGVyZXI6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9ZS5nZXRDb25maWcoKSxpPW5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHt9KTtyZXR1cm4gaS5zZXRDbGVhckNvbG9yKGUudGhlbWUuY2xlYXJDb2xvciwxKSxpLnNldFNpemUodC53aWR0aCx0LmhlaWdodCksZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodC5pZCkuYXBwZW5kQ2hpbGQoaS5kb21FbGVtZW50KSxlLnJlbmRlcmVyPWksZX0sc2V0VGhlbWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gYXNzZXJ0KHRoZW1lc1tlXSksdC50aGVtZT10aGVtZXNbZV0sdH0saW5pdE1hc2s6ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMsaT10LmdldENvbmZpZygpO3JldHVybiBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksZS5jbGFzc05hbWU9XCJ0My1tYXNrXCIsZS5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsZS5zdHlsZS50b3A9XCIwcHhcIixlLnN0eWxlLndpZHRoPVwiMTAwJVwiLGUuc3R5bGUuaGVpZ2h0PVwiMTAwJVwiLGUuc3R5bGUuYmFja2dyb3VuZD1cInJnYmEoMCwwLDAsMC41KVwiLGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGkuaWQpLmFwcGVuZENoaWxkKGUpLHQubWFzaz1lLHR9LG1hc2tWaXNpYmxlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMubWFzazt0LnN0eWxlLmRpc3BsYXk9ZT9cImJsb2NrXCI6XCJub25lXCJ9LGluaXREYXRHdWk6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9ZS5nZXRDb25maWcoKSxpPW5ldyBkYXQuR1VJKHthdXRvUGxhY2U6ITF9KTtyZXR1cm4gaS5kb21FbGVtZW50LnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixpLmRvbUVsZW1lbnQuc3R5bGUudG9wPVwiMHB4XCIsaS5kb21FbGVtZW50LnN0eWxlLnJpZ2h0PVwiMHB4XCIsZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodC5pZCkuYXBwZW5kQ2hpbGQoaS5kb21FbGVtZW50KSxlLmRhdGd1aT1pLGV9LGluaXRTdGF0czpmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcyxpPXQuZ2V0Q29uZmlnKCk7cmV0dXJuIGU9bmV3IFN0YXRzLGUuZG9tRWxlbWVudC5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsZS5kb21FbGVtZW50LnN0eWxlLmJvdHRvbT1cIjBweFwiLGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGkuaWQpLmFwcGVuZENoaWxkKGUuZG9tRWxlbWVudCksdC5zdGF0cz1lLHR9LGluaXRGdWxsU2NyZWVuOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRDb25maWcoKTtlLmZ1bGxTY3JlZW4mJlRIUkVFeC5GdWxsU2NyZWVuLmF2YWlsYWJsZSgpJiZUSFJFRXguRnVsbFNjcmVlbi5iaW5kS2V5KCl9LHNldEFjdGl2ZUNhbWVyYTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5hY3RpdmVDYW1lcmE9dGhpcy5jYW1lcmFzW2VdLHRoaXN9LGFkZENhbWVyYTpmdW5jdGlvbihlLHQpe3JldHVybiBjb25zb2xlLmFzc2VydChlIGluc3RhbmNlb2YgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmF8fGUgaW5zdGFuY2VvZiBUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmEpLHRoaXMuY2FtZXJhc1t0XT1lLHRoaXN9LGNyZWF0ZURlZmF1bHRDYW1lcmE6ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMsaT10LmdldENvbmZpZygpLG49aS53aWR0aCxhPWkuaGVpZ2h0LHI9e2ZvdjozOCxyYXRpbzpuL2EsbmVhcjoxLGZhcjoxZTR9O3JldHVybiBlPW5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYShyLmZvdixyLnJhdGlvLHIubmVhcixyLmZhciksZS5wb3NpdGlvbi5zZXQoNTAwLDMwMCw1MDApLGkuZnVsbFNjcmVlbiYmVEhSRUV4LldpbmRvd1Jlc2l6ZS5iaW5kKHQucmVuZGVyZXIsZSksdC5jcmVhdGVDYW1lcmFDb250cm9scyhlKS5hZGRDYW1lcmEoZSxcImRlZmF1bHRcIikuc2V0QWN0aXZlQ2FtZXJhKFwiZGVmYXVsdFwiKSx0fSxjcmVhdGVDYW1lcmFDb250cm9sczpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBlLmNhbWVyYUNvbnRyb2xzPW5ldyBUSFJFRS5PcmJpdENvbnRyb2xzKGUsdC5yZW5kZXJlci5kb21FbGVtZW50KSxlLmNhbWVyYUNvbnRyb2xzLm1heFBvbGFyQW5nbGU9TWF0aC5QSS8yKi45OSxlLmNhbWVyYUNvbnRyb2xzLnRhcmdldC5zZXQoMTAwLDEwMCwxMDApLHR9LGNyZWF0ZURlZmF1bHRMaWdodHM6ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuc2NlbmVzW1wiZGVmYXVsdFwiXTtyZXR1cm4gZT1uZXcgVEhSRUUuQW1iaWVudExpZ2h0KDIyMzY5NjIpLHQuYWRkKGUpLmNhY2hlKFwiYW1iaWVudC1saWdodC0xXCIpLGU9bmV3IFRIUkVFLkRpcmVjdGlvbmFsTGlnaHQoMTY3NzcyMTUsMSksZS5wb3NpdGlvbi5zZXQoMjAwLDQwMCw1MDApLHQuYWRkKGUpLmNhY2hlKFwiZGlyZWN0aW9uYWwtbGlnaHQtMVwiKSxlPW5ldyBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0KDE2Nzc3MjE1LDEpLGUucG9zaXRpb24uc2V0KC01MDAsMjUwLC0yMDApLHQuYWRkKGUpLmNhY2hlKFwiZGlyZWN0aW9uYWwtbGlnaHQtMlwiKSx0aGlzfSxpbml0Q29vcmRpbmF0ZXM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldENvbmZpZygpO3RoaXMuc2NlbmVzW1wiZGVmYXVsdFwiXS5hZGQobmV3IENvb3JkaW5hdGVzKGUuYW1iaWVudENvbmZpZyx0aGlzLnRoZW1lKS5pbml0RGF0R3VpKHRoaXMuZGF0Z3VpKS5tZXNoKX0saW5pdEtleWJvYXJkOmZ1bmN0aW9uKCl7dGhpcy5rZXlib2FyZD1uZXcgS2V5Ym9hcmR9LGdhbWVMb29wOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRDb25maWcoKTt0aGlzLmxvb3BNYW5hZ2VyPW5ldyBMb29wTWFuYWdlcih0aGlzLGUucmVuZGVySW1tZWRpYXRlbHkpLmluaXREYXRHdWkodGhpcy5kYXRndWkpLmFuaW1hdGUoKX0sdXBkYXRlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5zdGF0cy51cGRhdGUoKSx0LmFjdGl2ZUNhbWVyYS5jYW1lcmFDb250cm9scyYmdC5hY3RpdmVDYW1lcmEuY2FtZXJhQ29udHJvbHMudXBkYXRlKGUpfSxyZW5kZXI6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UucmVuZGVyZXIucmVuZGVyKGUuYWN0aXZlU2NlbmUsZS5hY3RpdmVDYW1lcmEpfSxpbmplY3RDYWNoZTpmdW5jdGlvbihlKXt2YXIgdCxpLG49dGhpcyxhPVRIUkVFLk9iamVjdDNELnByb3RvdHlwZS5hZGQscj1USFJFRS5PYmplY3QzRC5wcm90b3R5cGUucmVtb3ZlLG89dGhpcy5fX3QzY2FjaGVfXztlPyhUSFJFRS5PYmplY3QzRC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUpe3JldHVybiBpPVwiYWRkXCIsdD1lLGEuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxUSFJFRS5PYmplY3QzRC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGUpe3JldHVybiBpPVwicmVtb3ZlXCIsdD1lLHIuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxUSFJFRS5PYmplY3QzRC5wcm90b3R5cGUuY2FjaGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGFzc2VydCh0LFwiVDMuQXBwbGljYXRpb24ucHJvdG90eXBlLmNhY2hlOiB0aGlzIG1ldGhvZCBuZWVkcyBhIHByZXZpb3VzIGNhbGwgdG8gYWRkL3JlbW92ZVwiKSxcImFkZFwiPT09aT8odC5uYW1lPXQubmFtZXx8ZSxhc3NlcnQodC5uYW1lKSxvW3QubmFtZV09dCk6KGFzc2VydCh0Lm5hbWUpLGRlbGV0ZSBvW3QubmFtZV0pLHQ9bnVsbCxufSk6VEhSRUUuT2JqZWN0M0QucHJvdG90eXBlLmNhY2hlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSxnZXRGcm9tQ2FjaGU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX190M2NhY2hlX19bZV19fSxBcHBsaWNhdGlvbi5ydW49ZnVuY3Rpb24oZSl7Xy5tZXJnZSh7aW5pdDpmdW5jdGlvbigpe30sdXBkYXRlOmZ1bmN0aW9uKCl7fX0sZSksYXNzZXJ0KGUuaWQsXCJjYW52YXMgaWQgcmVxdWlyZWRcIik7dmFyIHQ9ZnVuY3Rpb24oZSl7QXBwbGljYXRpb24uY2FsbCh0aGlzLGUpLGUuaW5pdC5jYWxsKHRoaXMsZSl9O3JldHVybiB0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEFwcGxpY2F0aW9uLnByb3RvdHlwZSksdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe0FwcGxpY2F0aW9uLnByb3RvdHlwZS51cGRhdGUuY2FsbCh0aGlzLHQpLGUudXBkYXRlLmNhbGwodGhpcyx0KX0sbmV3IHQoZSl9LG1vZHVsZS5leHBvcnRzPUFwcGxpY2F0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dDMubWFwLmpzb25cbn0pLmNhbGwodGhpcyx0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pIiwiZnVuY3Rpb24gS2V5Ym9hcmQoKXt0aGlzLmtleXM9W119S2V5Ym9hcmQucHJvdG90eXBlPXtpbml0OmZ1bmN0aW9uKCl7dmFyIGUsbj10aGlzO2ZvcihlPTA7MjU2PmU7ZSs9MSluLmtleXNbZV09ITE7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIixuLm9uS2V5RG93bigpLCExKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIixuLm9uS2V5VXAoKSwhMSl9LG9uS2V5RG93bjpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKG4pe2Uua2V5c1tuLmtleUNvZGVdPSEwfX0sb25LZXlVcDpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKG4pe2Uua2V5c1tuLmtleUNvZGVdPSExfX0sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmtleXNbZS5jaGFyQ29kZUF0KDApXX0sc2V0OmZ1bmN0aW9uKGUsbil7dGhpcy5rZXlzW2UuY2hhckNvZGVBdCgwKV09bn19LG1vZHVsZS5leHBvcnRzPUtleWJvYXJkO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dDMubWFwLmpzb24iLCIoZnVuY3Rpb24gKGdsb2JhbCl7XG5mdW5jdGlvbiBMb29wTWFuYWdlcihhLGkpe3RoaXMuYXBwbGljYXRpb249YSx0aGlzLmNsb2NrPW5ldyBUSFJFRS5DbG9jayx0aGlzLnBhdXNlPSFpLHRoaXMuZnBzPTYwLHRoaXMuZ3VpQ29udHJvbGxlcnM9e319dmFyIFRIUkVFPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93LlRIUkVFOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsLlRIUkVFOm51bGwsQXBwbGljYXRpb249cmVxdWlyZShcIi4vQXBwbGljYXRpb25cIik7TG9vcE1hbmFnZXIucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpMb29wTWFuYWdlcixpbml0RGF0R3VpOmZ1bmN0aW9uKGEpe3ZhciBpPXRoaXMsdD1hLmFkZEZvbGRlcihcIkdhbWUgTG9vcFwiKTtyZXR1cm4gdC5hZGQodGhpcyxcImZwc1wiLDEwLDYwLDEpLm5hbWUoXCJGcmFtZSByYXRlXCIpLGkuZ3VpQ29udHJvbGxlcnMucGF1c2U9dC5hZGQodGhpcyxcInBhdXNlXCIpLm5hbWUoXCJQYXVzZWRcIikub25GaW5pc2hDaGFuZ2UoZnVuY3Rpb24oYSl7YXx8aS5hbmltYXRlKCksaS5hcHBsaWNhdGlvbi5tYXNrVmlzaWJsZShhKX0pLHRoaXN9LGFuaW1hdGU6ZnVuY3Rpb24oKXt2YXIgYSxpPXRoaXMsdD0wO3JldHVybiBhPWZ1bmN0aW9uKCl7aWYoIWkucGF1c2Upe3ZhciBuPWkuY2xvY2suZ2V0RGVsdGEoKSxlPTEvaS5mcHM7bj1NYXRoLm1pbihuLGUpLHQrPW4sdD49ZSYmKGkuYXBwbGljYXRpb24udXBkYXRlKG4pLGkuYXBwbGljYXRpb24ucmVuZGVyKCksdC09ZSksd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShhKX19LGEoKSxpfSxzdGFydDpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5ndWlDb250cm9sbGVycy5wYXVzZS5zZXRWYWx1ZSghMSl9LHN0b3A6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuZ3VpQ29udHJvbGxlcnMucGF1c2Uuc2V0VmFsdWUoITApfX0sbW9kdWxlLmV4cG9ydHM9TG9vcE1hbmFnZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10My5tYXAuanNvblxufSkuY2FsbCh0aGlzLHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSkiLCJyZXF1aXJlKFwiLi9saWIvT3JiaXRDb250cm9sc1wiKTt2YXIgdDM9e21vZGVsOntDb29yZGluYXRlczpyZXF1aXJlKFwiLi9tb2RlbC9Db29yZGluYXRlc1wiKX0sQXBwbGljYXRpb246cmVxdWlyZShcIi4vY29udHJvbGxlci9BcHBsaWNhdGlvblwiKX07bW9kdWxlLmV4cG9ydHM9dDM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10My5tYXAuanNvbiIsIlRIUkVFLk9yYml0Q29udHJvbHM9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7cmV0dXJuIDIqTWF0aC5QSS82MC82MCpwLmF1dG9Sb3RhdGVTcGVlZH1mdW5jdGlvbiBvKCl7cmV0dXJuIE1hdGgucG93KC45NSxwLnpvb21TcGVlZCl9ZnVuY3Rpb24gYSh0KXtpZihwLmVuYWJsZWQhPT0hMSl7aWYodC5wcmV2ZW50RGVmYXVsdCgpLDA9PT10LmJ1dHRvbil7aWYocC5ub1JvdGF0ZT09PSEwKXJldHVybjtqPVYuUk9UQVRFLEUuc2V0KHQuY2xpZW50WCx0LmNsaWVudFkpfWVsc2UgaWYoMT09PXQuYnV0dG9uKXtpZihwLm5vWm9vbT09PSEwKXJldHVybjtqPVYuRE9MTFksTy5zZXQodC5jbGllbnRYLHQuY2xpZW50WSl9ZWxzZSBpZigyPT09dC5idXR0b24pe2lmKHAubm9QYW49PT0hMClyZXR1cm47aj1WLlBBTixiLnNldCh0LmNsaWVudFgsdC5jbGllbnRZKX1kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsaSwhMSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIixzLCExKSxwLmRpc3BhdGNoRXZlbnQoQSl9fWZ1bmN0aW9uIGkodCl7aWYocC5lbmFibGVkIT09ITEpe3QucHJldmVudERlZmF1bHQoKTt2YXIgZT1wLmRvbUVsZW1lbnQ9PT1kb2N1bWVudD9wLmRvbUVsZW1lbnQuYm9keTpwLmRvbUVsZW1lbnQ7aWYoaj09PVYuUk9UQVRFKXtpZihwLm5vUm90YXRlPT09ITApcmV0dXJuO20uc2V0KHQuY2xpZW50WCx0LmNsaWVudFkpLGYuc3ViVmVjdG9ycyhtLEUpLHAucm90YXRlTGVmdCgyKk1hdGguUEkqZi54L2UuY2xpZW50V2lkdGgqcC5yb3RhdGVTcGVlZCkscC5yb3RhdGVVcCgyKk1hdGguUEkqZi55L2UuY2xpZW50SGVpZ2h0KnAucm90YXRlU3BlZWQpLEUuY29weShtKX1lbHNlIGlmKGo9PT1WLkRPTExZKXtpZihwLm5vWm9vbT09PSEwKXJldHVybjtSLnNldCh0LmNsaWVudFgsdC5jbGllbnRZKSxILnN1YlZlY3RvcnMoUixPKSxILnk+MD9wLmRvbGx5SW4oKTpwLmRvbGx5T3V0KCksTy5jb3B5KFIpfWVsc2UgaWYoaj09PVYuUEFOKXtpZihwLm5vUGFuPT09ITApcmV0dXJuO3Yuc2V0KHQuY2xpZW50WCx0LmNsaWVudFkpLHkuc3ViVmVjdG9ycyh2LGIpLHAucGFuKHkueCx5LnkpLGIuY29weSh2KX1wLnVwZGF0ZSgpfX1mdW5jdGlvbiBzKCl7cC5lbmFibGVkIT09ITEmJihkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsaSwhMSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIixzLCExKSxwLmRpc3BhdGNoRXZlbnQoUyksaj1WLk5PTkUpfWZ1bmN0aW9uIGModCl7aWYocC5lbmFibGVkIT09ITEmJnAubm9ab29tIT09ITApe3QucHJldmVudERlZmF1bHQoKSx0LnN0b3BQcm9wYWdhdGlvbigpO3ZhciBlPTA7dm9pZCAwIT09dC53aGVlbERlbHRhP2U9dC53aGVlbERlbHRhOnZvaWQgMCE9PXQuZGV0YWlsJiYoZT0tdC5kZXRhaWwpLGU+MD9wLmRvbGx5T3V0KCk6cC5kb2xseUluKCkscC51cGRhdGUoKSxwLmRpc3BhdGNoRXZlbnQoQSkscC5kaXNwYXRjaEV2ZW50KFMpfX1mdW5jdGlvbiByKHQpe2lmKHAuZW5hYmxlZCE9PSExJiZwLm5vS2V5cyE9PSEwJiZwLm5vUGFuIT09ITApc3dpdGNoKHQua2V5Q29kZSl7Y2FzZSBwLmtleXMuVVA6cC5wYW4oMCxwLmtleVBhblNwZWVkKSxwLnVwZGF0ZSgpO2JyZWFrO2Nhc2UgcC5rZXlzLkJPVFRPTTpwLnBhbigwLC1wLmtleVBhblNwZWVkKSxwLnVwZGF0ZSgpO2JyZWFrO2Nhc2UgcC5rZXlzLkxFRlQ6cC5wYW4ocC5rZXlQYW5TcGVlZCwwKSxwLnVwZGF0ZSgpO2JyZWFrO2Nhc2UgcC5rZXlzLlJJR0hUOnAucGFuKC1wLmtleVBhblNwZWVkLDApLHAudXBkYXRlKCl9fWZ1bmN0aW9uIGgodCl7aWYocC5lbmFibGVkIT09ITEpe3N3aXRjaCh0LnRvdWNoZXMubGVuZ3RoKXtjYXNlIDE6aWYocC5ub1JvdGF0ZT09PSEwKXJldHVybjtqPVYuVE9VQ0hfUk9UQVRFLEUuc2V0KHQudG91Y2hlc1swXS5wYWdlWCx0LnRvdWNoZXNbMF0ucGFnZVkpO2JyZWFrO2Nhc2UgMjppZihwLm5vWm9vbT09PSEwKXJldHVybjtqPVYuVE9VQ0hfRE9MTFk7dmFyIGU9dC50b3VjaGVzWzBdLnBhZ2VYLXQudG91Y2hlc1sxXS5wYWdlWCxuPXQudG91Y2hlc1swXS5wYWdlWS10LnRvdWNoZXNbMV0ucGFnZVksbz1NYXRoLnNxcnQoZSplK24qbik7Ty5zZXQoMCxvKTticmVhaztjYXNlIDM6aWYocC5ub1Bhbj09PSEwKXJldHVybjtqPVYuVE9VQ0hfUEFOLGIuc2V0KHQudG91Y2hlc1swXS5wYWdlWCx0LnRvdWNoZXNbMF0ucGFnZVkpO2JyZWFrO2RlZmF1bHQ6aj1WLk5PTkV9cC5kaXNwYXRjaEV2ZW50KEEpfX1mdW5jdGlvbiBkKHQpe2lmKHAuZW5hYmxlZCE9PSExKXt0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKTt2YXIgZT1wLmRvbUVsZW1lbnQ9PT1kb2N1bWVudD9wLmRvbUVsZW1lbnQuYm9keTpwLmRvbUVsZW1lbnQ7c3dpdGNoKHQudG91Y2hlcy5sZW5ndGgpe2Nhc2UgMTppZihwLm5vUm90YXRlPT09ITApcmV0dXJuO2lmKGohPT1WLlRPVUNIX1JPVEFURSlyZXR1cm47bS5zZXQodC50b3VjaGVzWzBdLnBhZ2VYLHQudG91Y2hlc1swXS5wYWdlWSksZi5zdWJWZWN0b3JzKG0sRSkscC5yb3RhdGVMZWZ0KDIqTWF0aC5QSSpmLngvZS5jbGllbnRXaWR0aCpwLnJvdGF0ZVNwZWVkKSxwLnJvdGF0ZVVwKDIqTWF0aC5QSSpmLnkvZS5jbGllbnRIZWlnaHQqcC5yb3RhdGVTcGVlZCksRS5jb3B5KG0pLHAudXBkYXRlKCk7YnJlYWs7Y2FzZSAyOmlmKHAubm9ab29tPT09ITApcmV0dXJuO2lmKGohPT1WLlRPVUNIX0RPTExZKXJldHVybjt2YXIgbj10LnRvdWNoZXNbMF0ucGFnZVgtdC50b3VjaGVzWzFdLnBhZ2VYLG89dC50b3VjaGVzWzBdLnBhZ2VZLXQudG91Y2hlc1sxXS5wYWdlWSxhPU1hdGguc3FydChuKm4rbypvKTtSLnNldCgwLGEpLEguc3ViVmVjdG9ycyhSLE8pLEgueT4wP3AuZG9sbHlPdXQoKTpwLmRvbGx5SW4oKSxPLmNvcHkoUikscC51cGRhdGUoKTticmVhaztjYXNlIDM6aWYocC5ub1Bhbj09PSEwKXJldHVybjtpZihqIT09Vi5UT1VDSF9QQU4pcmV0dXJuO3Yuc2V0KHQudG91Y2hlc1swXS5wYWdlWCx0LnRvdWNoZXNbMF0ucGFnZVkpLHkuc3ViVmVjdG9ycyh2LGIpLHAucGFuKHkueCx5LnkpLGIuY29weSh2KSxwLnVwZGF0ZSgpO2JyZWFrO2RlZmF1bHQ6aj1WLk5PTkV9fX1mdW5jdGlvbiB1KCl7cC5lbmFibGVkIT09ITEmJihwLmRpc3BhdGNoRXZlbnQoUyksaj1WLk5PTkUpfXRoaXMub2JqZWN0PXQsdGhpcy5kb21FbGVtZW50PXZvaWQgMCE9PWU/ZTpkb2N1bWVudCx0aGlzLmVuYWJsZWQ9ITAsdGhpcy50YXJnZXQ9bmV3IFRIUkVFLlZlY3RvcjMsdGhpcy5jZW50ZXI9dGhpcy50YXJnZXQsdGhpcy5ub1pvb209ITEsdGhpcy56b29tU3BlZWQ9MSx0aGlzLm1pbkRpc3RhbmNlPTAsdGhpcy5tYXhEaXN0YW5jZT0xLzAsdGhpcy5ub1JvdGF0ZT0hMSx0aGlzLnJvdGF0ZVNwZWVkPTEsdGhpcy5ub1Bhbj0hMSx0aGlzLmtleVBhblNwZWVkPTcsdGhpcy5hdXRvUm90YXRlPSExLHRoaXMuYXV0b1JvdGF0ZVNwZWVkPTIsdGhpcy5taW5Qb2xhckFuZ2xlPTAsdGhpcy5tYXhQb2xhckFuZ2xlPU1hdGguUEksdGhpcy5ub0tleXM9ITEsdGhpcy5rZXlzPXtMRUZUOjM3LFVQOjM4LFJJR0hUOjM5LEJPVFRPTTo0MH07dmFyIHA9dGhpcyxsPTFlLTYsRT1uZXcgVEhSRUUuVmVjdG9yMixtPW5ldyBUSFJFRS5WZWN0b3IyLGY9bmV3IFRIUkVFLlZlY3RvcjIsYj1uZXcgVEhSRUUuVmVjdG9yMix2PW5ldyBUSFJFRS5WZWN0b3IyLHk9bmV3IFRIUkVFLlZlY3RvcjIsVD1uZXcgVEhSRUUuVmVjdG9yMyxnPW5ldyBUSFJFRS5WZWN0b3IzLE89bmV3IFRIUkVFLlZlY3RvcjIsUj1uZXcgVEhSRUUuVmVjdG9yMixIPW5ldyBUSFJFRS5WZWN0b3IyLEw9MCxQPTAsdz0xLE09bmV3IFRIUkVFLlZlY3RvcjMsaz1uZXcgVEhSRUUuVmVjdG9yMyxOPW5ldyBUSFJFRS5RdWF0ZXJuaW9uLFY9e05PTkU6LTEsUk9UQVRFOjAsRE9MTFk6MSxQQU46MixUT1VDSF9ST1RBVEU6MyxUT1VDSF9ET0xMWTo0LFRPVUNIX1BBTjo1fSxqPVYuTk9ORTt0aGlzLnRhcmdldDA9dGhpcy50YXJnZXQuY2xvbmUoKSx0aGlzLnBvc2l0aW9uMD10aGlzLm9iamVjdC5wb3NpdGlvbi5jbG9uZSgpO3ZhciBZPShuZXcgVEhSRUUuUXVhdGVybmlvbikuc2V0RnJvbVVuaXRWZWN0b3JzKHQudXAsbmV3IFRIUkVFLlZlY3RvcjMoMCwxLDApKSxEPVkuY2xvbmUoKS5pbnZlcnNlKCkseD17dHlwZTpcImNoYW5nZVwifSxBPXt0eXBlOlwic3RhcnRcIn0sUz17dHlwZTpcImVuZFwifTt0aGlzLnJvdGF0ZUxlZnQ9ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9bigpKSxQLT10fSx0aGlzLnJvdGF0ZVVwPWZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PW4oKSksTC09dH0sdGhpcy5wYW5MZWZ0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub2JqZWN0Lm1hdHJpeC5lbGVtZW50cztULnNldChlWzBdLGVbMV0sZVsyXSksVC5tdWx0aXBseVNjYWxhcigtdCksTS5hZGQoVCl9LHRoaXMucGFuVXA9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vYmplY3QubWF0cml4LmVsZW1lbnRzO1Quc2V0KGVbNF0sZVs1XSxlWzZdKSxULm11bHRpcGx5U2NhbGFyKHQpLE0uYWRkKFQpfSx0aGlzLnBhbj1mdW5jdGlvbih0LGUpe3ZhciBuPXAuZG9tRWxlbWVudD09PWRvY3VtZW50P3AuZG9tRWxlbWVudC5ib2R5OnAuZG9tRWxlbWVudDtpZih2b2lkIDAhPT1wLm9iamVjdC5mb3Ype3ZhciBvPXAub2JqZWN0LnBvc2l0aW9uLGE9by5jbG9uZSgpLnN1YihwLnRhcmdldCksaT1hLmxlbmd0aCgpO2kqPU1hdGgudGFuKHAub2JqZWN0LmZvdi8yKk1hdGguUEkvMTgwKSxwLnBhbkxlZnQoMip0Kmkvbi5jbGllbnRIZWlnaHQpLHAucGFuVXAoMiplKmkvbi5jbGllbnRIZWlnaHQpfWVsc2Ugdm9pZCAwIT09cC5vYmplY3QudG9wPyhwLnBhbkxlZnQodCoocC5vYmplY3QucmlnaHQtcC5vYmplY3QubGVmdCkvbi5jbGllbnRXaWR0aCkscC5wYW5VcChlKihwLm9iamVjdC50b3AtcC5vYmplY3QuYm90dG9tKS9uLmNsaWVudEhlaWdodCkpOmNvbnNvbGUud2FybihcIldBUk5JTkc6IE9yYml0Q29udHJvbHMuanMgZW5jb3VudGVyZWQgYW4gdW5rbm93biBjYW1lcmEgdHlwZSAtIHBhbiBkaXNhYmxlZC5cIil9LHRoaXMuZG9sbHlJbj1mdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD1vKCkpLHcvPXR9LHRoaXMuZG9sbHlPdXQ9ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9bygpKSx3Kj10fSx0aGlzLnVwZGF0ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMub2JqZWN0LnBvc2l0aW9uO2cuY29weSh0KS5zdWIodGhpcy50YXJnZXQpLGcuYXBwbHlRdWF0ZXJuaW9uKFkpO3ZhciBlPU1hdGguYXRhbjIoZy54LGcueiksbz1NYXRoLmF0YW4yKE1hdGguc3FydChnLngqZy54K2cueipnLnopLGcueSk7dGhpcy5hdXRvUm90YXRlJiZ0aGlzLnJvdGF0ZUxlZnQobigpKSxlKz1QLG8rPUwsbz1NYXRoLm1heCh0aGlzLm1pblBvbGFyQW5nbGUsTWF0aC5taW4odGhpcy5tYXhQb2xhckFuZ2xlLG8pKSxvPU1hdGgubWF4KGwsTWF0aC5taW4oTWF0aC5QSS1sLG8pKTt2YXIgYT1nLmxlbmd0aCgpKnc7YT1NYXRoLm1heCh0aGlzLm1pbkRpc3RhbmNlLE1hdGgubWluKHRoaXMubWF4RGlzdGFuY2UsYSkpLHRoaXMudGFyZ2V0LmFkZChNKSxnLng9YSpNYXRoLnNpbihvKSpNYXRoLnNpbihlKSxnLnk9YSpNYXRoLmNvcyhvKSxnLno9YSpNYXRoLnNpbihvKSpNYXRoLmNvcyhlKSxnLmFwcGx5UXVhdGVybmlvbihEKSx0LmNvcHkodGhpcy50YXJnZXQpLmFkZChnKSx0aGlzLm9iamVjdC5sb29rQXQodGhpcy50YXJnZXQpLFA9MCxMPTAsdz0xLE0uc2V0KDAsMCwwKSwoay5kaXN0YW5jZVRvU3F1YXJlZCh0aGlzLm9iamVjdC5wb3NpdGlvbik+bHx8OCooMS1OLmRvdCh0aGlzLm9iamVjdC5xdWF0ZXJuaW9uKSk+bCkmJih0aGlzLmRpc3BhdGNoRXZlbnQoeCksay5jb3B5KHRoaXMub2JqZWN0LnBvc2l0aW9uKSxOLmNvcHkodGhpcy5vYmplY3QucXVhdGVybmlvbikpfSx0aGlzLnJlc2V0PWZ1bmN0aW9uKCl7aj1WLk5PTkUsdGhpcy50YXJnZXQuY29weSh0aGlzLnRhcmdldDApLHRoaXMub2JqZWN0LnBvc2l0aW9uLmNvcHkodGhpcy5wb3NpdGlvbjApLHRoaXMudXBkYXRlKCl9LHRoaXMuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY29udGV4dG1lbnVcIixmdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCl9LCExKSx0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLGEsITEpLHRoaXMuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V3aGVlbFwiLGMsITEpLHRoaXMuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NTW91c2VTY3JvbGxcIixjLCExKSx0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIixoLCExKSx0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsdSwhMSksdGhpcy5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIixkLCExKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIixyLCExKSx0aGlzLnVwZGF0ZSgpfSxUSFJFRS5PcmJpdENvbnRyb2xzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFRIUkVFLkV2ZW50RGlzcGF0Y2hlci5wcm90b3R5cGUpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dDMubWFwLmpzb24iLCJ2YXIgZnVsbFNjcmVlbj17fTtmdWxsU2NyZWVuLmF2YWlsYWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9oYXNXZWJraXRGdWxsU2NyZWVufHx0aGlzLl9oYXNNb3pGdWxsU2NyZWVufSxmdWxsU2NyZWVuLmFjdGl2YXRlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9oYXNXZWJraXRGdWxsU2NyZWVuP2RvY3VtZW50LndlYmtpdElzRnVsbFNjcmVlbjp0aGlzLl9oYXNNb3pGdWxsU2NyZWVuP2RvY3VtZW50Lm1vekZ1bGxTY3JlZW46dm9pZCBjb25zb2xlLmFzc2VydCghMSl9LGZ1bGxTY3JlZW4ucmVxdWVzdD1mdW5jdGlvbihlKXtlPWV8fGRvY3VtZW50LmJvZHksdGhpcy5faGFzV2Via2l0RnVsbFNjcmVlbj9lLndlYmtpdFJlcXVlc3RGdWxsU2NyZWVuKEVsZW1lbnQuQUxMT1dfS0VZQk9BUkRfSU5QVVQpOnRoaXMuX2hhc01vekZ1bGxTY3JlZW4/ZS5tb3pSZXF1ZXN0RnVsbFNjcmVlbigpOmNvbnNvbGUuYXNzZXJ0KCExKX0sZnVsbFNjcmVlbi5jYW5jZWw9ZnVuY3Rpb24oKXt0aGlzLl9oYXNXZWJraXRGdWxsU2NyZWVuP2RvY3VtZW50LndlYmtpdENhbmNlbEZ1bGxTY3JlZW4oKTp0aGlzLl9oYXNNb3pGdWxsU2NyZWVuP2RvY3VtZW50Lm1vekNhbmNlbEZ1bGxTY3JlZW4oKTpjb25zb2xlLmFzc2VydCghMSl9LGZ1bGxTY3JlZW4uX2hhc1dlYmtpdEZ1bGxTY3JlZW49XCJ3ZWJraXRDYW5jZWxGdWxsU2NyZWVuXCJpbiBkb2N1bWVudD8hMDohMSxmdWxsU2NyZWVuLl9oYXNNb3pGdWxsU2NyZWVuPVwibW96Q2FuY2VsRnVsbFNjcmVlblwiaW4gZG9jdW1lbnQ/ITA6ITEsZnVsbFNjcmVlbi5iaW5kS2V5PWZ1bmN0aW9uKGUpe2U9ZXx8e307dmFyIG49ZS5jaGFyQ29kZXx8XCJmXCIuY2hhckNvZGVBdCgwKSxsPXZvaWQgMCE9PWUuZGJsY2xpY2s/ZS5kYmxjbGljazohMSxjPWUuZWxlbWVudCx0PWZ1bmN0aW9uKCl7ZnVsbFNjcmVlbi5hY3RpdmF0ZWQoKT9mdWxsU2NyZWVuLmNhbmNlbCgpOmZ1bGxTY3JlZW4ucmVxdWVzdChjKX0sdT1mdW5jdGlvbihlLG4pe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KG4sYXJndW1lbnRzKX19LHI9dShmdW5jdGlvbihlKXtlLndoaWNoPT09biYmdCgpfSx0aGlzKTtyZXR1cm4gZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXByZXNzXCIsciwhMSksbCYmZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImRibGNsaWNrXCIsdCwhMSkse3VuYmluZDpmdW5jdGlvbigpe2RvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlwcmVzc1wiLHIsITEpLGwmJmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJkYmxjbGlja1wiLHQsITEpfX19LG1vZHVsZS5leHBvcnRzPWZ1bGxTY3JlZW47XG4vLyMgc291cmNlTWFwcGluZ1VSTD10My5tYXAuanNvbiIsInZhciB3aW5kb3dSZXNpemU9e307d2luZG93UmVzaXplPWZ1bmN0aW9uKGUsaSl7dmFyIG49ZnVuY3Rpb24oKXtlLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsd2luZG93LmlubmVySGVpZ2h0KSxpLmFzcGVjdD13aW5kb3cuaW5uZXJXaWR0aC93aW5kb3cuaW5uZXJIZWlnaHQsaS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCl9O3JldHVybiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLG4sITEpLHtzdG9wOmZ1bmN0aW9uKCl7d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIixuKX19fSx3aW5kb3dSZXNpemUuYmluZD1mdW5jdGlvbihlLGkpe3JldHVybiB3aW5kb3dSZXNpemUoZSxpKX0sbW9kdWxlLmV4cG9ydHM9d2luZG93UmVzaXplO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dDMubWFwLmpzb24iLCJtb2R1bGUuZXhwb3J0cz17V2luZG93UmVzaXplOnJlcXVpcmUoXCIuL1dpbmRvd1Jlc2l6ZVwiKSxGdWxsU2NyZWVuOnJlcXVpcmUoXCIuL0Z1bGxTY3JlZW5cIil9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dDMubWFwLmpzb24iLCIoZnVuY3Rpb24gKGdsb2JhbCl7XG5fX2Jyb3dzZXJpZnlfc2hpbV9yZXF1aXJlX189cmVxdWlyZSxmdW5jdGlvbihlLHQsbixvLGkpe3ZhciByPXJ8fHt9O3IuZ3VpPXIuZ3VpfHx7fSxyLnV0aWxzPXIudXRpbHN8fHt9LHIuY29udHJvbGxlcnM9ci5jb250cm9sbGVyc3x8e30sci5kb209ci5kb218fHt9LHIuY29sb3I9ci5jb2xvcnx8e30sci51dGlscy5jc3M9ZnVuY3Rpb24oKXtyZXR1cm57bG9hZDpmdW5jdGlvbihlLHQpe3ZhciB0PXR8fGRvY3VtZW50LG49dC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtuLnR5cGU9XCJ0ZXh0L2Nzc1wiLG4ucmVsPVwic3R5bGVzaGVldFwiLG4uaHJlZj1lLHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdLmFwcGVuZENoaWxkKG4pfSxpbmplY3Q6ZnVuY3Rpb24oZSx0KXt2YXIgdD10fHxkb2N1bWVudCxuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtuLnR5cGU9XCJ0ZXh0L2Nzc1wiLG4uaW5uZXJIVE1MPWUsdC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF0uYXBwZW5kQ2hpbGQobil9fX0oKSxyLnV0aWxzLmNvbW1vbj1mdW5jdGlvbigpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5mb3JFYWNoLHQ9QXJyYXkucHJvdG90eXBlLnNsaWNlO3JldHVybntCUkVBSzp7fSxleHRlbmQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWFjaCh0LmNhbGwoYXJndW1lbnRzLDEpLGZ1bmN0aW9uKHQpe2Zvcih2YXIgbiBpbiB0KXRoaXMuaXNVbmRlZmluZWQodFtuXSl8fChlW25dPXRbbl0pfSx0aGlzKSxlfSxkZWZhdWx0czpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKHQuY2FsbChhcmd1bWVudHMsMSksZnVuY3Rpb24odCl7Zm9yKHZhciBuIGluIHQpdGhpcy5pc1VuZGVmaW5lZChlW25dKSYmKGVbbl09dFtuXSl9LHRoaXMpLGV9LGNvbXBvc2U6ZnVuY3Rpb24oKXt2YXIgZT10LmNhbGwoYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIG49dC5jYWxsKGFyZ3VtZW50cyksbz1lLmxlbmd0aC0xO28+PTA7by0tKW49W2Vbb10uYXBwbHkodGhpcyxuKV07cmV0dXJuIG5bMF19fSxlYWNoOmZ1bmN0aW9uKHQsbixvKXtpZihlJiZ0LmZvckVhY2g9PT1lKXQuZm9yRWFjaChuLG8pO2Vsc2UgaWYodC5sZW5ndGg9PT10Lmxlbmd0aCswKWZvcih2YXIgaT0wLHI9dC5sZW5ndGg7cj5pJiYhKGkgaW4gdCYmbi5jYWxsKG8sdFtpXSxpKT09PXRoaXMuQlJFQUspO2krKyk7ZWxzZSBmb3IoaSBpbiB0KWlmKG4uY2FsbChvLHRbaV0saSk9PT10aGlzLkJSRUFLKWJyZWFrfSxkZWZlcjpmdW5jdGlvbihlKXtzZXRUaW1lb3V0KGUsMCl9LHRvQXJyYXk6ZnVuY3Rpb24oZSl7cmV0dXJuIGUudG9BcnJheT9lLnRvQXJyYXkoKTp0LmNhbGwoZSl9LGlzVW5kZWZpbmVkOmZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lfSxpc051bGw6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PT1lfSxpc05hTjpmdW5jdGlvbihlKXtyZXR1cm4gZSE9PWV9LGlzQXJyYXk6QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29uc3RydWN0b3I9PT1BcnJheX0saXNPYmplY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1PYmplY3QoZSl9LGlzTnVtYmVyOmZ1bmN0aW9uKGUpe3JldHVybiBlPT09ZSswfSxpc1N0cmluZzpmdW5jdGlvbihlKXtyZXR1cm4gZT09PWUrXCJcIn0saXNCb29sZWFuOmZ1bmN0aW9uKGUpe3JldHVybiBlPT09ITF8fGU9PT0hMH0saXNGdW5jdGlvbjpmdW5jdGlvbihlKXtyZXR1cm5cIltvYmplY3QgRnVuY3Rpb25dXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9fX0oKSxyLmNvbnRyb2xsZXJzLkNvbnRyb2xsZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSx0KXt0aGlzLmluaXRpYWxWYWx1ZT1lW3RdLHRoaXMuZG9tRWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMub2JqZWN0PWUsdGhpcy5wcm9wZXJ0eT10LHRoaXMuX19vbkZpbmlzaENoYW5nZT10aGlzLl9fb25DaGFuZ2U9dm9pZCAwfTtyZXR1cm4gZS5leHRlbmQodC5wcm90b3R5cGUse29uQ2hhbmdlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9fb25DaGFuZ2U9ZSx0aGlzfSxvbkZpbmlzaENoYW5nZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fX29uRmluaXNoQ2hhbmdlPWUsdGhpc30sc2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMub2JqZWN0W3RoaXMucHJvcGVydHldPWUsdGhpcy5fX29uQ2hhbmdlJiZ0aGlzLl9fb25DaGFuZ2UuY2FsbCh0aGlzLGUpLHRoaXMudXBkYXRlRGlzcGxheSgpLHRoaXN9LGdldFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub2JqZWN0W3RoaXMucHJvcGVydHldfSx1cGRhdGVEaXNwbGF5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LGlzTW9kaWZpZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbml0aWFsVmFsdWUhPT10aGlzLmdldFZhbHVlKCl9fSksdH0oci51dGlscy5jb21tb24pLHIuZG9tLmRvbT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3JldHVyblwiMFwiPT09dHx8ZS5pc1VuZGVmaW5lZCh0KT8wOih0PXQubWF0Y2gobyksZS5pc051bGwodCk/MDpwYXJzZUZsb2F0KHRbMV0pKX12YXIgbj17fTtlLmVhY2goe0hUTUxFdmVudHM6W1wiY2hhbmdlXCJdLE1vdXNlRXZlbnRzOltcImNsaWNrXCIsXCJtb3VzZW1vdmVcIixcIm1vdXNlZG93blwiLFwibW91c2V1cFwiLFwibW91c2VvdmVyXCJdLEtleWJvYXJkRXZlbnRzOltcImtleWRvd25cIl19LGZ1bmN0aW9uKHQsbyl7ZS5lYWNoKHQsZnVuY3Rpb24oZSl7bltlXT1vfSl9KTt2YXIgbz0vKFxcZCsoXFwuXFxkKyk/KXB4LyxpPXttYWtlU2VsZWN0YWJsZTpmdW5jdGlvbihlLHQpe3ZvaWQgMCE9PWUmJnZvaWQgMCE9PWUuc3R5bGUmJihlLm9uc2VsZWN0c3RhcnQ9dD9mdW5jdGlvbigpe3JldHVybiExfTpmdW5jdGlvbigpe30sZS5zdHlsZS5Nb3pVc2VyU2VsZWN0PXQ/XCJhdXRvXCI6XCJub25lXCIsZS5zdHlsZS5LaHRtbFVzZXJTZWxlY3Q9dD9cImF1dG9cIjpcIm5vbmVcIixlLnVuc2VsZWN0YWJsZT10P1wib25cIjpcIm9mZlwiKX0sbWFrZUZ1bGxzY3JlZW46ZnVuY3Rpb24odCxuLG8pe2UuaXNVbmRlZmluZWQobikmJihuPSEwKSxlLmlzVW5kZWZpbmVkKG8pJiYobz0hMCksdC5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsbiYmKHQuc3R5bGUubGVmdD0wLHQuc3R5bGUucmlnaHQ9MCksbyYmKHQuc3R5bGUudG9wPTAsdC5zdHlsZS5ib3R0b209MCl9LGZha2VFdmVudDpmdW5jdGlvbih0LG8saSxyKXt2YXIgaT1pfHx7fSxzPW5bb107aWYoIXMpdGhyb3cgRXJyb3IoXCJFdmVudCB0eXBlIFwiK28rXCIgbm90IHN1cHBvcnRlZC5cIik7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRXZlbnQocyk7c3dpdGNoKHMpe2Nhc2VcIk1vdXNlRXZlbnRzXCI6YS5pbml0TW91c2VFdmVudChvLGkuYnViYmxlc3x8ITEsaS5jYW5jZWxhYmxlfHwhMCx3aW5kb3csaS5jbGlja0NvdW50fHwxLDAsMCxpLnh8fGkuY2xpZW50WHx8MCxpLnl8fGkuY2xpZW50WXx8MCwhMSwhMSwhMSwhMSwwLG51bGwpO2JyZWFrO2Nhc2VcIktleWJvYXJkRXZlbnRzXCI6cz1hLmluaXRLZXlib2FyZEV2ZW50fHxhLmluaXRLZXlFdmVudCxlLmRlZmF1bHRzKGkse2NhbmNlbGFibGU6ITAsY3RybEtleTohMSxhbHRLZXk6ITEsc2hpZnRLZXk6ITEsbWV0YUtleTohMSxrZXlDb2RlOnZvaWQgMCxjaGFyQ29kZTp2b2lkIDB9KSxzKG8saS5idWJibGVzfHwhMSxpLmNhbmNlbGFibGUsd2luZG93LGkuY3RybEtleSxpLmFsdEtleSxpLnNoaWZ0S2V5LGkubWV0YUtleSxpLmtleUNvZGUsaS5jaGFyQ29kZSk7YnJlYWs7ZGVmYXVsdDphLmluaXRFdmVudChvLGkuYnViYmxlc3x8ITEsaS5jYW5jZWxhYmxlfHwhMCl9ZS5kZWZhdWx0cyhhLHIpLHQuZGlzcGF0Y2hFdmVudChhKX0sYmluZDpmdW5jdGlvbihlLHQsbixvKXtyZXR1cm4gZS5hZGRFdmVudExpc3RlbmVyP2UuYWRkRXZlbnRMaXN0ZW5lcih0LG4sb3x8ITEpOmUuYXR0YWNoRXZlbnQmJmUuYXR0YWNoRXZlbnQoXCJvblwiK3QsbiksaX0sdW5iaW5kOmZ1bmN0aW9uKGUsdCxuLG8pe3JldHVybiBlLnJlbW92ZUV2ZW50TGlzdGVuZXI/ZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsbixvfHwhMSk6ZS5kZXRhY2hFdmVudCYmZS5kZXRhY2hFdmVudChcIm9uXCIrdCxuKSxpfSxhZGRDbGFzczpmdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PWUuY2xhc3NOYW1lKWUuY2xhc3NOYW1lPXQ7ZWxzZSBpZihlLmNsYXNzTmFtZSE9PXQpe3ZhciBuPWUuY2xhc3NOYW1lLnNwbGl0KC8gKy8pOy0xPT1uLmluZGV4T2YodCkmJihuLnB1c2godCksZS5jbGFzc05hbWU9bi5qb2luKFwiIFwiKS5yZXBsYWNlKC9eXFxzKy8sXCJcIikucmVwbGFjZSgvXFxzKyQvLFwiXCIpKX1yZXR1cm4gaX0scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oZSx0KXtpZih0KXtpZih2b2lkIDAhPT1lLmNsYXNzTmFtZSlpZihlLmNsYXNzTmFtZT09PXQpZS5yZW1vdmVBdHRyaWJ1dGUoXCJjbGFzc1wiKTtlbHNle3ZhciBuPWUuY2xhc3NOYW1lLnNwbGl0KC8gKy8pLG89bi5pbmRleE9mKHQpOy0xIT1vJiYobi5zcGxpY2UobywxKSxlLmNsYXNzTmFtZT1uLmpvaW4oXCIgXCIpKX19ZWxzZSBlLmNsYXNzTmFtZT12b2lkIDA7cmV0dXJuIGl9LGhhc0NsYXNzOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIFJlZ0V4cChcIig/Ol58XFxcXHMrKVwiK3QrXCIoPzpcXFxccyt8JClcIikudGVzdChlLmNsYXNzTmFtZSl8fCExfSxnZXRXaWR0aDpmdW5jdGlvbihlKXtyZXR1cm4gZT1nZXRDb21wdXRlZFN0eWxlKGUpLHQoZVtcImJvcmRlci1sZWZ0LXdpZHRoXCJdKSt0KGVbXCJib3JkZXItcmlnaHQtd2lkdGhcIl0pK3QoZVtcInBhZGRpbmctbGVmdFwiXSkrdChlW1wicGFkZGluZy1yaWdodFwiXSkrdChlLndpZHRoKX0sZ2V0SGVpZ2h0OmZ1bmN0aW9uKGUpe3JldHVybiBlPWdldENvbXB1dGVkU3R5bGUoZSksdChlW1wiYm9yZGVyLXRvcC13aWR0aFwiXSkrdChlW1wiYm9yZGVyLWJvdHRvbS13aWR0aFwiXSkrdChlW1wicGFkZGluZy10b3BcIl0pK3QoZVtcInBhZGRpbmctYm90dG9tXCJdKSt0KGUuaGVpZ2h0KX0sZ2V0T2Zmc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXtsZWZ0OjAsdG9wOjB9O2lmKGUub2Zmc2V0UGFyZW50KWRvIHQubGVmdCs9ZS5vZmZzZXRMZWZ0LHQudG9wKz1lLm9mZnNldFRvcDt3aGlsZShlPWUub2Zmc2V0UGFyZW50KTtyZXR1cm4gdH0saXNBY3RpdmU6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1kb2N1bWVudC5hY3RpdmVFbGVtZW50JiYoZS50eXBlfHxlLmhyZWYpfX07cmV0dXJuIGl9KHIudXRpbHMuY29tbW9uKSxyLmNvbnRyb2xsZXJzLk9wdGlvbkNvbnRyb2xsZXI9ZnVuY3Rpb24oZSx0LG4pe3ZhciBvPWZ1bmN0aW9uKGUsaSxyKXtvLnN1cGVyY2xhc3MuY2FsbCh0aGlzLGUsaSk7dmFyIHM9dGhpcztpZih0aGlzLl9fc2VsZWN0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIiksbi5pc0FycmF5KHIpKXt2YXIgYT17fTtuLmVhY2gocixmdW5jdGlvbihlKXthW2VdPWV9KSxyPWF9bi5lYWNoKHIsZnVuY3Rpb24oZSx0KXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO24uaW5uZXJIVE1MPXQsbi5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLGUpLHMuX19zZWxlY3QuYXBwZW5kQ2hpbGQobil9KSx0aGlzLnVwZGF0ZURpc3BsYXkoKSx0LmJpbmQodGhpcy5fX3NlbGVjdCxcImNoYW5nZVwiLGZ1bmN0aW9uKCl7cy5zZXRWYWx1ZSh0aGlzLm9wdGlvbnNbdGhpcy5zZWxlY3RlZEluZGV4XS52YWx1ZSl9KSx0aGlzLmRvbUVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5fX3NlbGVjdCl9O3JldHVybiBvLnN1cGVyY2xhc3M9ZSxuLmV4dGVuZChvLnByb3RvdHlwZSxlLnByb3RvdHlwZSx7c2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9by5zdXBlcmNsYXNzLnByb3RvdHlwZS5zZXRWYWx1ZS5jYWxsKHRoaXMsZSksdGhpcy5fX29uRmluaXNoQ2hhbmdlJiZ0aGlzLl9fb25GaW5pc2hDaGFuZ2UuY2FsbCh0aGlzLHRoaXMuZ2V0VmFsdWUoKSksZX0sdXBkYXRlRGlzcGxheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9fc2VsZWN0LnZhbHVlPXRoaXMuZ2V0VmFsdWUoKSxvLnN1cGVyY2xhc3MucHJvdG90eXBlLnVwZGF0ZURpc3BsYXkuY2FsbCh0aGlzKX19KSxvfShyLmNvbnRyb2xsZXJzLkNvbnRyb2xsZXIsci5kb20uZG9tLHIudXRpbHMuY29tbW9uKSxyLmNvbnRyb2xsZXJzLk51bWJlckNvbnRyb2xsZXI9ZnVuY3Rpb24oZSx0KXt2YXIgbj1mdW5jdGlvbihlLG8saSl7bi5zdXBlcmNsYXNzLmNhbGwodGhpcyxlLG8pLGk9aXx8e30sdGhpcy5fX21pbj1pLm1pbix0aGlzLl9fbWF4PWkubWF4LHRoaXMuX19zdGVwPWkuc3RlcCxlPXRoaXMuX19pbXBsaWVkU3RlcD10LmlzVW5kZWZpbmVkKHRoaXMuX19zdGVwKT8wPT10aGlzLmluaXRpYWxWYWx1ZT8xOk1hdGgucG93KDEwLE1hdGguZmxvb3IoTWF0aC5sb2codGhpcy5pbml0aWFsVmFsdWUpL01hdGguTE4xMCkpLzEwOnRoaXMuX19zdGVwLGU9ZS50b1N0cmluZygpLHRoaXMuX19wcmVjaXNpb249ZS5pbmRleE9mKFwiLlwiKT4tMT9lLmxlbmd0aC1lLmluZGV4T2YoXCIuXCIpLTE6MH07cmV0dXJuIG4uc3VwZXJjbGFzcz1lLHQuZXh0ZW5kKG4ucHJvdG90eXBlLGUucHJvdG90eXBlLHtzZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5fX21pbiYmZTx0aGlzLl9fbWluP2U9dGhpcy5fX21pbjp2b2lkIDAhPT10aGlzLl9fbWF4JiZlPnRoaXMuX19tYXgmJihlPXRoaXMuX19tYXgpLHZvaWQgMCE9PXRoaXMuX19zdGVwJiZlJXRoaXMuX19zdGVwIT0wJiYoZT1NYXRoLnJvdW5kKGUvdGhpcy5fX3N0ZXApKnRoaXMuX19zdGVwKSxuLnN1cGVyY2xhc3MucHJvdG90eXBlLnNldFZhbHVlLmNhbGwodGhpcyxlKX0sbWluOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9fbWluPWUsdGhpc30sbWF4OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9fbWF4PWUsdGhpc30sc3RlcDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fX3N0ZXA9ZSx0aGlzfX0pLG59KHIuY29udHJvbGxlcnMuQ29udHJvbGxlcixyLnV0aWxzLmNvbW1vbiksci5jb250cm9sbGVycy5OdW1iZXJDb250cm9sbGVyQm94PWZ1bmN0aW9uKGUsdCxuKXt2YXIgbz1mdW5jdGlvbihlLGkscil7ZnVuY3Rpb24gcygpe3ZhciBlPXBhcnNlRmxvYXQoYy5fX2lucHV0LnZhbHVlKTtuLmlzTmFOKGUpfHxjLnNldFZhbHVlKGUpfWZ1bmN0aW9uIGEoZSl7dmFyIHQ9ZC1lLmNsaWVudFk7Yy5zZXRWYWx1ZShjLmdldFZhbHVlKCkrdCpjLl9faW1wbGllZFN0ZXApLGQ9ZS5jbGllbnRZfWZ1bmN0aW9uIGwoKXt0LnVuYmluZCh3aW5kb3csXCJtb3VzZW1vdmVcIixhKSx0LnVuYmluZCh3aW5kb3csXCJtb3VzZXVwXCIsbCl9dGhpcy5fX3RydW5jYXRpb25TdXNwZW5kZWQ9ITEsby5zdXBlcmNsYXNzLmNhbGwodGhpcyxlLGkscik7dmFyIGQsYz10aGlzO3RoaXMuX19pbnB1dD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiksdGhpcy5fX2lucHV0LnNldEF0dHJpYnV0ZShcInR5cGVcIixcInRleHRcIiksdC5iaW5kKHRoaXMuX19pbnB1dCxcImNoYW5nZVwiLHMpLHQuYmluZCh0aGlzLl9faW5wdXQsXCJibHVyXCIsZnVuY3Rpb24oKXtzKCksYy5fX29uRmluaXNoQ2hhbmdlJiZjLl9fb25GaW5pc2hDaGFuZ2UuY2FsbChjLGMuZ2V0VmFsdWUoKSl9KSx0LmJpbmQodGhpcy5fX2lucHV0LFwibW91c2Vkb3duXCIsZnVuY3Rpb24oZSl7dC5iaW5kKHdpbmRvdyxcIm1vdXNlbW92ZVwiLGEpLHQuYmluZCh3aW5kb3csXCJtb3VzZXVwXCIsbCksZD1lLmNsaWVudFl9KSx0LmJpbmQodGhpcy5fX2lucHV0LFwia2V5ZG93blwiLGZ1bmN0aW9uKGUpezEzPT09ZS5rZXlDb2RlJiYoYy5fX3RydW5jYXRpb25TdXNwZW5kZWQ9ITAsdGhpcy5ibHVyKCksYy5fX3RydW5jYXRpb25TdXNwZW5kZWQ9ITEpfSksdGhpcy51cGRhdGVEaXNwbGF5KCksdGhpcy5kb21FbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX19pbnB1dCl9O3JldHVybiBvLnN1cGVyY2xhc3M9ZSxuLmV4dGVuZChvLnByb3RvdHlwZSxlLnByb3RvdHlwZSx7dXBkYXRlRGlzcGxheTpmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5fX2lucHV0O2lmKHRoaXMuX190cnVuY2F0aW9uU3VzcGVuZGVkKWU9dGhpcy5nZXRWYWx1ZSgpO2Vsc2V7ZT10aGlzLmdldFZhbHVlKCk7dmFyIG49TWF0aC5wb3coMTAsdGhpcy5fX3ByZWNpc2lvbik7ZT1NYXRoLnJvdW5kKGUqbikvbn1yZXR1cm4gdC52YWx1ZT1lLG8uc3VwZXJjbGFzcy5wcm90b3R5cGUudXBkYXRlRGlzcGxheS5jYWxsKHRoaXMpfX0pLG99KHIuY29udHJvbGxlcnMuTnVtYmVyQ29udHJvbGxlcixyLmRvbS5kb20sci51dGlscy5jb21tb24pLHIuY29udHJvbGxlcnMuTnVtYmVyQ29udHJvbGxlclNsaWRlcj1mdW5jdGlvbihlLHQsbixvLGkpe3ZhciByPWZ1bmN0aW9uKGUsbixvLGkscyl7ZnVuY3Rpb24gYShlKXtlLnByZXZlbnREZWZhdWx0KCk7dmFyIG49dC5nZXRPZmZzZXQoZC5fX2JhY2tncm91bmQpLG89dC5nZXRXaWR0aChkLl9fYmFja2dyb3VuZCk7cmV0dXJuIGQuc2V0VmFsdWUoZC5fX21pbisoZC5fX21heC1kLl9fbWluKSooKGUuY2xpZW50WC1uLmxlZnQpLyhuLmxlZnQrby1uLmxlZnQpKSksITF9ZnVuY3Rpb24gbCgpe3QudW5iaW5kKHdpbmRvdyxcIm1vdXNlbW92ZVwiLGEpLHQudW5iaW5kKHdpbmRvdyxcIm1vdXNldXBcIixsKSxkLl9fb25GaW5pc2hDaGFuZ2UmJmQuX19vbkZpbmlzaENoYW5nZS5jYWxsKGQsZC5nZXRWYWx1ZSgpKX1yLnN1cGVyY2xhc3MuY2FsbCh0aGlzLGUsbix7bWluOm8sbWF4Omksc3RlcDpzfSk7dmFyIGQ9dGhpczt0aGlzLl9fYmFja2dyb3VuZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuX19mb3JlZ3JvdW5kPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdC5iaW5kKHRoaXMuX19iYWNrZ3JvdW5kLFwibW91c2Vkb3duXCIsZnVuY3Rpb24oZSl7dC5iaW5kKHdpbmRvdyxcIm1vdXNlbW92ZVwiLGEpLHQuYmluZCh3aW5kb3csXCJtb3VzZXVwXCIsbCksYShlKX0pLHQuYWRkQ2xhc3ModGhpcy5fX2JhY2tncm91bmQsXCJzbGlkZXJcIiksdC5hZGRDbGFzcyh0aGlzLl9fZm9yZWdyb3VuZCxcInNsaWRlci1mZ1wiKSx0aGlzLnVwZGF0ZURpc3BsYXkoKSx0aGlzLl9fYmFja2dyb3VuZC5hcHBlbmRDaGlsZCh0aGlzLl9fZm9yZWdyb3VuZCksdGhpcy5kb21FbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX19iYWNrZ3JvdW5kKX07cmV0dXJuIHIuc3VwZXJjbGFzcz1lLHIudXNlRGVmYXVsdFN0eWxlcz1mdW5jdGlvbigpe24uaW5qZWN0KGkpfSxvLmV4dGVuZChyLnByb3RvdHlwZSxlLnByb3RvdHlwZSx7dXBkYXRlRGlzcGxheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9fZm9yZWdyb3VuZC5zdHlsZS53aWR0aD0odGhpcy5nZXRWYWx1ZSgpLXRoaXMuX19taW4pLyh0aGlzLl9fbWF4LXRoaXMuX19taW4pKjEwMCtcIiVcIixyLnN1cGVyY2xhc3MucHJvdG90eXBlLnVwZGF0ZURpc3BsYXkuY2FsbCh0aGlzKX19KSxyfShyLmNvbnRyb2xsZXJzLk51bWJlckNvbnRyb2xsZXIsci5kb20uZG9tLHIudXRpbHMuY3NzLHIudXRpbHMuY29tbW9uLFwiLnNsaWRlciB7XFxuICBib3gtc2hhZG93OiBpbnNldCAwIDJweCA0cHggcmdiYSgwLDAsMCwwLjE1KTtcXG4gIGhlaWdodDogMWVtO1xcbiAgYm9yZGVyLXJhZGl1czogMWVtO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2VlZTtcXG4gIHBhZGRpbmc6IDAgMC41ZW07XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbn1cXG5cXG4uc2xpZGVyLWZnIHtcXG4gIHBhZGRpbmc6IDFweCAwIDJweCAwO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2FhYTtcXG4gIGhlaWdodDogMWVtO1xcbiAgbWFyZ2luLWxlZnQ6IC0wLjVlbTtcXG4gIHBhZGRpbmctcmlnaHQ6IDAuNWVtO1xcbiAgYm9yZGVyLXJhZGl1czogMWVtIDAgMCAxZW07XFxufVxcblxcbi5zbGlkZXItZmc6YWZ0ZXIge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgYm9yZGVyLXJhZGl1czogMWVtO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcXG4gIGJvcmRlcjogIDFweCBzb2xpZCAjYWFhO1xcbiAgY29udGVudDogJyc7XFxuICBmbG9hdDogcmlnaHQ7XFxuICBtYXJnaW4tcmlnaHQ6IC0xZW07XFxuICBtYXJnaW4tdG9wOiAtMXB4O1xcbiAgaGVpZ2h0OiAwLjllbTtcXG4gIHdpZHRoOiAwLjllbTtcXG59XCIpLHIuY29udHJvbGxlcnMuRnVuY3Rpb25Db250cm9sbGVyPWZ1bmN0aW9uKGUsdCxuKXt2YXIgbz1mdW5jdGlvbihlLG4saSl7by5zdXBlcmNsYXNzLmNhbGwodGhpcyxlLG4pO3ZhciByPXRoaXM7dGhpcy5fX2J1dHRvbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuX19idXR0b24uaW5uZXJIVE1MPXZvaWQgMD09PWk/XCJGaXJlXCI6aSx0LmJpbmQodGhpcy5fX2J1dHRvbixcImNsaWNrXCIsZnVuY3Rpb24oZSl7cmV0dXJuIGUucHJldmVudERlZmF1bHQoKSxyLmZpcmUoKSwhMX0pLHQuYWRkQ2xhc3ModGhpcy5fX2J1dHRvbixcImJ1dHRvblwiKSx0aGlzLmRvbUVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5fX2J1dHRvbil9O3JldHVybiBvLnN1cGVyY2xhc3M9ZSxuLmV4dGVuZChvLnByb3RvdHlwZSxlLnByb3RvdHlwZSx7ZmlyZTpmdW5jdGlvbigpe3RoaXMuX19vbkNoYW5nZSYmdGhpcy5fX29uQ2hhbmdlLmNhbGwodGhpcyksdGhpcy5fX29uRmluaXNoQ2hhbmdlJiZ0aGlzLl9fb25GaW5pc2hDaGFuZ2UuY2FsbCh0aGlzLHRoaXMuZ2V0VmFsdWUoKSksdGhpcy5nZXRWYWx1ZSgpLmNhbGwodGhpcy5vYmplY3QpfX0pLG99KHIuY29udHJvbGxlcnMuQ29udHJvbGxlcixyLmRvbS5kb20sci51dGlscy5jb21tb24pLHIuY29udHJvbGxlcnMuQm9vbGVhbkNvbnRyb2xsZXI9ZnVuY3Rpb24oZSx0LG4pe3ZhciBvPWZ1bmN0aW9uKGUsbil7by5zdXBlcmNsYXNzLmNhbGwodGhpcyxlLG4pO3ZhciBpPXRoaXM7dGhpcy5fX3ByZXY9dGhpcy5nZXRWYWx1ZSgpLHRoaXMuX19jaGVja2JveD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiksdGhpcy5fX2NoZWNrYm94LnNldEF0dHJpYnV0ZShcInR5cGVcIixcImNoZWNrYm94XCIpLHQuYmluZCh0aGlzLl9fY2hlY2tib3gsXCJjaGFuZ2VcIixmdW5jdGlvbigpe2kuc2V0VmFsdWUoIWkuX19wcmV2KX0sITEpLHRoaXMuZG9tRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9fY2hlY2tib3gpLHRoaXMudXBkYXRlRGlzcGxheSgpfTtyZXR1cm4gby5zdXBlcmNsYXNzPWUsbi5leHRlbmQoby5wcm90b3R5cGUsZS5wcm90b3R5cGUse3NldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlPW8uc3VwZXJjbGFzcy5wcm90b3R5cGUuc2V0VmFsdWUuY2FsbCh0aGlzLGUpLHRoaXMuX19vbkZpbmlzaENoYW5nZSYmdGhpcy5fX29uRmluaXNoQ2hhbmdlLmNhbGwodGhpcyx0aGlzLmdldFZhbHVlKCkpLHRoaXMuX19wcmV2PXRoaXMuZ2V0VmFsdWUoKSxlfSx1cGRhdGVEaXNwbGF5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VmFsdWUoKT09PSEwPyh0aGlzLl9fY2hlY2tib3guc2V0QXR0cmlidXRlKFwiY2hlY2tlZFwiLFwiY2hlY2tlZFwiKSx0aGlzLl9fY2hlY2tib3guY2hlY2tlZD0hMCk6dGhpcy5fX2NoZWNrYm94LmNoZWNrZWQ9ITEsby5zdXBlcmNsYXNzLnByb3RvdHlwZS51cGRhdGVEaXNwbGF5LmNhbGwodGhpcyl9fSksb30oci5jb250cm9sbGVycy5Db250cm9sbGVyLHIuZG9tLmRvbSxyLnV0aWxzLmNvbW1vbiksci5jb2xvci50b1N0cmluZz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoMT09dC5hfHxlLmlzVW5kZWZpbmVkKHQuYSkpe2Zvcih0PXQuaGV4LnRvU3RyaW5nKDE2KTt0Lmxlbmd0aDw2Oyl0PVwiMFwiK3Q7cmV0dXJuXCIjXCIrdH1yZXR1cm5cInJnYmEoXCIrTWF0aC5yb3VuZCh0LnIpK1wiLFwiK01hdGgucm91bmQodC5nKStcIixcIitNYXRoLnJvdW5kKHQuYikrXCIsXCIrdC5hK1wiKVwifX0oci51dGlscy5jb21tb24pLHIuY29sb3IuaW50ZXJwcmV0PWZ1bmN0aW9uKGUsdCl7dmFyIG4sbyxpPVt7bGl0bXVzOnQuaXNTdHJpbmcsY29udmVyc2lvbnM6e1RIUkVFX0NIQVJfSEVYOntyZWFkOmZ1bmN0aW9uKGUpe3JldHVybiBlPWUubWF0Y2goL14jKFtBLUYwLTldKShbQS1GMC05XSkoW0EtRjAtOV0pJC9pKSxudWxsPT09ZT8hMTp7c3BhY2U6XCJIRVhcIixoZXg6cGFyc2VJbnQoXCIweFwiK2VbMV0udG9TdHJpbmcoKStlWzFdLnRvU3RyaW5nKCkrZVsyXS50b1N0cmluZygpK2VbMl0udG9TdHJpbmcoKStlWzNdLnRvU3RyaW5nKCkrZVszXS50b1N0cmluZygpKX19LHdyaXRlOmV9LFNJWF9DSEFSX0hFWDp7cmVhZDpmdW5jdGlvbihlKXtyZXR1cm4gZT1lLm1hdGNoKC9eIyhbQS1GMC05XXs2fSkkL2kpLG51bGw9PT1lPyExOntzcGFjZTpcIkhFWFwiLGhleDpwYXJzZUludChcIjB4XCIrZVsxXS50b1N0cmluZygpKX19LHdyaXRlOmV9LENTU19SR0I6e3JlYWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9ZS5tYXRjaCgvXnJnYlxcKFxccyooLispXFxzKixcXHMqKC4rKVxccyosXFxzKiguKylcXHMqXFwpLyksbnVsbD09PWU/ITE6e3NwYWNlOlwiUkdCXCIscjpwYXJzZUZsb2F0KGVbMV0pLGc6cGFyc2VGbG9hdChlWzJdKSxiOnBhcnNlRmxvYXQoZVszXSl9fSx3cml0ZTplfSxDU1NfUkdCQTp7cmVhZDpmdW5jdGlvbihlKXtyZXR1cm4gZT1lLm1hdGNoKC9ecmdiYVxcKFxccyooLispXFxzKixcXHMqKC4rKVxccyosXFxzKiguKylcXHMqXFwsXFxzKiguKylcXHMqXFwpLyksbnVsbD09PWU/ITE6e3NwYWNlOlwiUkdCXCIscjpwYXJzZUZsb2F0KGVbMV0pLGc6cGFyc2VGbG9hdChlWzJdKSxiOnBhcnNlRmxvYXQoZVszXSksYTpwYXJzZUZsb2F0KGVbNF0pfX0sd3JpdGU6ZX19fSx7bGl0bXVzOnQuaXNOdW1iZXIsY29udmVyc2lvbnM6e0hFWDp7cmVhZDpmdW5jdGlvbihlKXtyZXR1cm57c3BhY2U6XCJIRVhcIixoZXg6ZSxjb252ZXJzaW9uTmFtZTpcIkhFWFwifX0sd3JpdGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaGV4fX19fSx7bGl0bXVzOnQuaXNBcnJheSxjb252ZXJzaW9uczp7UkdCX0FSUkFZOntyZWFkOmZ1bmN0aW9uKGUpe3JldHVybiAzIT1lLmxlbmd0aD8hMTp7c3BhY2U6XCJSR0JcIixyOmVbMF0sZzplWzFdLGI6ZVsyXX19LHdyaXRlOmZ1bmN0aW9uKGUpe3JldHVybltlLnIsZS5nLGUuYl19fSxSR0JBX0FSUkFZOntyZWFkOmZ1bmN0aW9uKGUpe3JldHVybiA0IT1lLmxlbmd0aD8hMTp7c3BhY2U6XCJSR0JcIixyOmVbMF0sZzplWzFdLGI6ZVsyXSxhOmVbM119fSx3cml0ZTpmdW5jdGlvbihlKXtyZXR1cm5bZS5yLGUuZyxlLmIsZS5hXX19fX0se2xpdG11czp0LmlzT2JqZWN0LGNvbnZlcnNpb25zOntSR0JBX09CSjp7cmVhZDpmdW5jdGlvbihlKXtyZXR1cm4gdC5pc051bWJlcihlLnIpJiZ0LmlzTnVtYmVyKGUuZykmJnQuaXNOdW1iZXIoZS5iKSYmdC5pc051bWJlcihlLmEpP3tzcGFjZTpcIlJHQlwiLHI6ZS5yLGc6ZS5nLGI6ZS5iLGE6ZS5hfTohMX0sd3JpdGU6ZnVuY3Rpb24oZSl7cmV0dXJue3I6ZS5yLGc6ZS5nLGI6ZS5iLGE6ZS5hfX19LFJHQl9PQko6e3JlYWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHQuaXNOdW1iZXIoZS5yKSYmdC5pc051bWJlcihlLmcpJiZ0LmlzTnVtYmVyKGUuYik/e3NwYWNlOlwiUkdCXCIscjplLnIsZzplLmcsYjplLmJ9OiExfSx3cml0ZTpmdW5jdGlvbihlKXtyZXR1cm57cjplLnIsZzplLmcsYjplLmJ9fX0sSFNWQV9PQko6e3JlYWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHQuaXNOdW1iZXIoZS5oKSYmdC5pc051bWJlcihlLnMpJiZ0LmlzTnVtYmVyKGUudikmJnQuaXNOdW1iZXIoZS5hKT97c3BhY2U6XCJIU1ZcIixoOmUuaCxzOmUucyx2OmUudixhOmUuYX06ITF9LHdyaXRlOmZ1bmN0aW9uKGUpe3JldHVybntoOmUuaCxzOmUucyx2OmUudixhOmUuYX19fSxIU1ZfT0JKOntyZWFkOmZ1bmN0aW9uKGUpe3JldHVybiB0LmlzTnVtYmVyKGUuaCkmJnQuaXNOdW1iZXIoZS5zKSYmdC5pc051bWJlcihlLnYpP3tzcGFjZTpcIkhTVlwiLGg6ZS5oLHM6ZS5zLHY6ZS52fTohMX0sd3JpdGU6ZnVuY3Rpb24oZSl7cmV0dXJue2g6ZS5oLHM6ZS5zLHY6ZS52fX19fX1dO3JldHVybiBmdW5jdGlvbigpe289ITE7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xP3QudG9BcnJheShhcmd1bWVudHMpOmFyZ3VtZW50c1swXTtyZXR1cm4gdC5lYWNoKGksZnVuY3Rpb24oaSl7cmV0dXJuIGkubGl0bXVzKGUpPyh0LmVhY2goaS5jb252ZXJzaW9ucyxmdW5jdGlvbihpLHIpe3JldHVybiBuPWkucmVhZChlKSxvPT09ITEmJm4hPT0hMT8obz1uLG4uY29udmVyc2lvbk5hbWU9cixuLmNvbnZlcnNpb249aSx0LkJSRUFLKTp2b2lkIDB9KSx0LkJSRUFLKTp2b2lkIDB9KSxvfX0oci5jb2xvci50b1N0cmluZyxyLnV0aWxzLmNvbW1vbiksci5HVUk9ci5ndWkuR1VJPWZ1bmN0aW9uKGUsdCxuLG8saSxyLHMsYSxsLGQsYyx1LGgsXyxwKXtmdW5jdGlvbiBmKGUsdCxuLHIpe2lmKHZvaWQgMD09PXRbbl0pdGhyb3cgRXJyb3IoXCJPYmplY3QgXCIrdCsnIGhhcyBubyBwcm9wZXJ0eSBcIicrbisnXCInKTtyLmNvbG9yP3Q9bmV3IGModCxuKToodD1bdCxuXS5jb25jYXQoci5mYWN0b3J5QXJncyksdD1vLmFwcGx5KGUsdCkpLHIuYmVmb3JlIGluc3RhbmNlb2YgaSYmKHIuYmVmb3JlPXIuYmVmb3JlLl9fbGkpLGIoZSx0KSxfLmFkZENsYXNzKHQuZG9tRWxlbWVudCxcImNcIiksbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKSxfLmFkZENsYXNzKG4sXCJwcm9wZXJ0eS1uYW1lXCIpLG4uaW5uZXJIVE1MPXQucHJvcGVydHk7dmFyIHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyZXR1cm4gcy5hcHBlbmRDaGlsZChuKSxzLmFwcGVuZENoaWxkKHQuZG9tRWxlbWVudCkscj1tKGUscyxyLmJlZm9yZSksXy5hZGRDbGFzcyhyLEQuQ0xBU1NfQ09OVFJPTExFUl9ST1cpLF8uYWRkQ2xhc3Mocix0eXBlb2YgdC5nZXRWYWx1ZSgpKSxnKGUscix0KSxlLl9fY29udHJvbGxlcnMucHVzaCh0KSx0fWZ1bmN0aW9uIG0oZSx0LG4pe3ZhciBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtyZXR1cm4gdCYmby5hcHBlbmRDaGlsZCh0KSxuP2UuX191bC5pbnNlcnRCZWZvcmUobyxwYXJhbXMuYmVmb3JlKTplLl9fdWwuYXBwZW5kQ2hpbGQobyksZS5vblJlc2l6ZSgpLG99ZnVuY3Rpb24gZyhlLHQsbil7aWYobi5fX2xpPXQsbi5fX2d1aT1lLHAuZXh0ZW5kKG4se29wdGlvbnM6ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+MT8obi5yZW1vdmUoKSxmKGUsbi5vYmplY3Qsbi5wcm9wZXJ0eSx7YmVmb3JlOm4uX19saS5uZXh0RWxlbWVudFNpYmxpbmcsZmFjdG9yeUFyZ3M6W3AudG9BcnJheShhcmd1bWVudHMpXX0pKTpwLmlzQXJyYXkodCl8fHAuaXNPYmplY3QodCk/KG4ucmVtb3ZlKCksZihlLG4ub2JqZWN0LG4ucHJvcGVydHkse2JlZm9yZTpuLl9fbGkubmV4dEVsZW1lbnRTaWJsaW5nLGZhY3RvcnlBcmdzOlt0XX0pKTp2b2lkIDB9LG5hbWU6ZnVuY3Rpb24oZSl7cmV0dXJuIG4uX19saS5maXJzdEVsZW1lbnRDaGlsZC5maXJzdEVsZW1lbnRDaGlsZC5pbm5lckhUTUw9ZSxufSxsaXN0ZW46ZnVuY3Rpb24oKXtyZXR1cm4gbi5fX2d1aS5saXN0ZW4obiksbn0scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIG4uX19ndWkucmVtb3ZlKG4pLG59fSksbiBpbnN0YW5jZW9mIGwpe3ZhciBvPW5ldyBhKG4ub2JqZWN0LG4ucHJvcGVydHkse21pbjpuLl9fbWluLG1heDpuLl9fbWF4LHN0ZXA6bi5fX3N0ZXB9KTtwLmVhY2goW1widXBkYXRlRGlzcGxheVwiLFwib25DaGFuZ2VcIixcIm9uRmluaXNoQ2hhbmdlXCJdLGZ1bmN0aW9uKGUpe3ZhciB0PW5bZV0saT1vW2VdO25bZV09b1tlXT1mdW5jdGlvbigpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7cmV0dXJuIHQuYXBwbHkobixlKSxpLmFwcGx5KG8sZSl9fSksXy5hZGRDbGFzcyh0LFwiaGFzLXNsaWRlclwiKSxuLmRvbUVsZW1lbnQuaW5zZXJ0QmVmb3JlKG8uZG9tRWxlbWVudCxuLmRvbUVsZW1lbnQuZmlyc3RFbGVtZW50Q2hpbGQpfWVsc2UgaWYobiBpbnN0YW5jZW9mIGEpe3ZhciBpPWZ1bmN0aW9uKHQpe3JldHVybiBwLmlzTnVtYmVyKG4uX19taW4pJiZwLmlzTnVtYmVyKG4uX19tYXgpPyhuLnJlbW92ZSgpLGYoZSxuLm9iamVjdCxuLnByb3BlcnR5LHtiZWZvcmU6bi5fX2xpLm5leHRFbGVtZW50U2libGluZyxmYWN0b3J5QXJnczpbbi5fX21pbixuLl9fbWF4LG4uX19zdGVwXX0pKTp0fTtuLm1pbj1wLmNvbXBvc2UoaSxuLm1pbiksbi5tYXg9cC5jb21wb3NlKGksbi5tYXgpfWVsc2UgbiBpbnN0YW5jZW9mIHI/KF8uYmluZCh0LFwiY2xpY2tcIixmdW5jdGlvbigpe18uZmFrZUV2ZW50KG4uX19jaGVja2JveCxcImNsaWNrXCIpfSksXy5iaW5kKG4uX19jaGVja2JveCxcImNsaWNrXCIsZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24oKX0pKTpuIGluc3RhbmNlb2Ygcz8oXy5iaW5kKHQsXCJjbGlja1wiLGZ1bmN0aW9uKCl7Xy5mYWtlRXZlbnQobi5fX2J1dHRvbixcImNsaWNrXCIpfSksXy5iaW5kKHQsXCJtb3VzZW92ZXJcIixmdW5jdGlvbigpe18uYWRkQ2xhc3Mobi5fX2J1dHRvbixcImhvdmVyXCIpfSksXy5iaW5kKHQsXCJtb3VzZW91dFwiLGZ1bmN0aW9uKCl7Xy5yZW1vdmVDbGFzcyhuLl9fYnV0dG9uLFwiaG92ZXJcIil9KSk6biBpbnN0YW5jZW9mIGMmJihfLmFkZENsYXNzKHQsXCJjb2xvclwiKSxuLnVwZGF0ZURpc3BsYXk9cC5jb21wb3NlKGZ1bmN0aW9uKGUpe3JldHVybiB0LnN0eWxlLmJvcmRlckxlZnRDb2xvcj1uLl9fY29sb3IudG9TdHJpbmcoKSxlfSxuLnVwZGF0ZURpc3BsYXkpLG4udXBkYXRlRGlzcGxheSgpKTtuLnNldFZhbHVlPXAuY29tcG9zZShmdW5jdGlvbih0KXtyZXR1cm4gZS5nZXRSb290KCkuX19wcmVzZXRfc2VsZWN0JiZuLmlzTW9kaWZpZWQoKSYmRShlLmdldFJvb3QoKSwhMCksdH0sbi5zZXRWYWx1ZSl9ZnVuY3Rpb24gYihlLHQpe3ZhciBuPWUuZ2V0Um9vdCgpLG89bi5fX3JlbWVtYmVyZWRPYmplY3RzLmluZGV4T2YodC5vYmplY3QpO2lmKC0xIT1vKXt2YXIgaT1uLl9fcmVtZW1iZXJlZE9iamVjdEluZGVjZXNUb0NvbnRyb2xsZXJzW29dO2lmKHZvaWQgMD09PWkmJihpPXt9LG4uX19yZW1lbWJlcmVkT2JqZWN0SW5kZWNlc1RvQ29udHJvbGxlcnNbb109aSksaVt0LnByb3BlcnR5XT10LG4ubG9hZCYmbi5sb2FkLnJlbWVtYmVyZWQpe2lmKG49bi5sb2FkLnJlbWVtYmVyZWQsbltlLnByZXNldF0pbj1uW2UucHJlc2V0XTtlbHNle2lmKCFuW1NdKXJldHVybjtuPW5bU119bltvXSYmdm9pZCAwIT09bltvXVt0LnByb3BlcnR5XSYmKG89bltvXVt0LnByb3BlcnR5XSx0LmluaXRpYWxWYWx1ZT1vLHQuc2V0VmFsdWUobykpfX19ZnVuY3Rpb24gdihlKXt2YXIgdD1lLl9fc2F2ZV9yb3c9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO18uYWRkQ2xhc3MoZS5kb21FbGVtZW50LFwiaGFzLXNhdmVcIiksZS5fX3VsLmluc2VydEJlZm9yZSh0LGUuX191bC5maXJzdENoaWxkKSxfLmFkZENsYXNzKHQsXCJzYXZlLXJvd1wiKTt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtuLmlubmVySFRNTD1cIiZuYnNwO1wiLF8uYWRkQ2xhc3MobixcImJ1dHRvbiBnZWFyc1wiKTt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtvLmlubmVySFRNTD1cIlNhdmVcIixfLmFkZENsYXNzKG8sXCJidXR0b25cIiksXy5hZGRDbGFzcyhvLFwic2F2ZVwiKTt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtpLmlubmVySFRNTD1cIk5ld1wiLF8uYWRkQ2xhc3MoaSxcImJ1dHRvblwiKSxfLmFkZENsYXNzKGksXCJzYXZlLWFzXCIpO3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO3IuaW5uZXJIVE1MPVwiUmV2ZXJ0XCIsXy5hZGRDbGFzcyhyLFwiYnV0dG9uXCIpLF8uYWRkQ2xhc3MocixcInJldmVydFwiKTt2YXIgcz1lLl9fcHJlc2V0X3NlbGVjdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpO2lmKGUubG9hZCYmZS5sb2FkLnJlbWVtYmVyZWQ/cC5lYWNoKGUubG9hZC5yZW1lbWJlcmVkLGZ1bmN0aW9uKHQsbil7QyhlLG4sbj09ZS5wcmVzZXQpfSk6QyhlLFMsITEpLF8uYmluZChzLFwiY2hhbmdlXCIsZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PGUuX19wcmVzZXRfc2VsZWN0Lmxlbmd0aDt0KyspZS5fX3ByZXNldF9zZWxlY3RbdF0uaW5uZXJIVE1MPWUuX19wcmVzZXRfc2VsZWN0W3RdLnZhbHVlO2UucHJlc2V0PXRoaXMudmFsdWV9KSx0LmFwcGVuZENoaWxkKHMpLHQuYXBwZW5kQ2hpbGQobiksdC5hcHBlbmRDaGlsZChvKSx0LmFwcGVuZENoaWxkKGkpLHQuYXBwZW5kQ2hpbGQociksayl7dmFyIHQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZy1zYXZlLWxvY2FsbHlcIiksYT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRnLWxvY2FsLWV4cGxhaW5cIik7dC5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIix0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGctbG9jYWwtc3RvcmFnZVwiKSxcInRydWVcIj09PWxvY2FsU3RvcmFnZS5nZXRJdGVtKGRvY3VtZW50LmxvY2F0aW9uLmhyZWYrXCIuaXNMb2NhbFwiKSYmdC5zZXRBdHRyaWJ1dGUoXCJjaGVja2VkXCIsXCJjaGVja2VkXCIpO3ZhciBsPWZ1bmN0aW9uKCl7YS5zdHlsZS5kaXNwbGF5PWUudXNlTG9jYWxTdG9yYWdlP1wiYmxvY2tcIjpcIm5vbmVcIn07bCgpLF8uYmluZCh0LFwiY2hhbmdlXCIsZnVuY3Rpb24oKXtlLnVzZUxvY2FsU3RvcmFnZT0hZS51c2VMb2NhbFN0b3JhZ2UsbCgpfSl9dmFyIGQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZy1uZXctY29uc3RydWN0b3JcIik7Xy5iaW5kKGQsXCJrZXlkb3duXCIsZnVuY3Rpb24oZSl7ZS5tZXRhS2V5JiYoNjc9PT1lLndoaWNofHw2Nz09ZS5rZXlDb2RlKSYmVC5oaWRlKCl9KSxfLmJpbmQobixcImNsaWNrXCIsZnVuY3Rpb24oKXtkLmlubmVySFRNTD1KU09OLnN0cmluZ2lmeShlLmdldFNhdmVPYmplY3QoKSx2b2lkIDAsMiksVC5zaG93KCksZC5mb2N1cygpLGQuc2VsZWN0KCl9KSxfLmJpbmQobyxcImNsaWNrXCIsZnVuY3Rpb24oKXtlLnNhdmUoKX0pLF8uYmluZChpLFwiY2xpY2tcIixmdW5jdGlvbigpe3ZhciB0PXByb21wdChcIkVudGVyIGEgbmV3IHByZXNldCBuYW1lLlwiKTt0JiZlLnNhdmVBcyh0KX0pLF8uYmluZChyLFwiY2xpY2tcIixmdW5jdGlvbigpe2UucmV2ZXJ0KCl9KX1mdW5jdGlvbiB5KGUpe2Z1bmN0aW9uIHQodCl7cmV0dXJuIHQucHJldmVudERlZmF1bHQoKSxpPXQuY2xpZW50WCxfLmFkZENsYXNzKGUuX19jbG9zZUJ1dHRvbixELkNMQVNTX0RSQUcpLF8uYmluZCh3aW5kb3csXCJtb3VzZW1vdmVcIixuKSxfLmJpbmQod2luZG93LFwibW91c2V1cFwiLG8pLCExfWZ1bmN0aW9uIG4odCl7cmV0dXJuIHQucHJldmVudERlZmF1bHQoKSxlLndpZHRoKz1pLXQuY2xpZW50WCxlLm9uUmVzaXplKCksaT10LmNsaWVudFgsITF9ZnVuY3Rpb24gbygpe18ucmVtb3ZlQ2xhc3MoZS5fX2Nsb3NlQnV0dG9uLEQuQ0xBU1NfRFJBRyksXy51bmJpbmQod2luZG93LFwibW91c2Vtb3ZlXCIsbiksXy51bmJpbmQod2luZG93LFwibW91c2V1cFwiLG8pfWUuX19yZXNpemVfaGFuZGxlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikscC5leHRlbmQoZS5fX3Jlc2l6ZV9oYW5kbGUuc3R5bGUse3dpZHRoOlwiNnB4XCIsbWFyZ2luTGVmdDpcIi0zcHhcIixoZWlnaHQ6XCIyMDBweFwiLGN1cnNvcjpcImV3LXJlc2l6ZVwiLHBvc2l0aW9uOlwiYWJzb2x1dGVcIn0pO3ZhciBpO18uYmluZChlLl9fcmVzaXplX2hhbmRsZSxcIm1vdXNlZG93blwiLHQpLF8uYmluZChlLl9fY2xvc2VCdXR0b24sXCJtb3VzZWRvd25cIix0KSxlLmRvbUVsZW1lbnQuaW5zZXJ0QmVmb3JlKGUuX19yZXNpemVfaGFuZGxlLGUuZG9tRWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZCl9ZnVuY3Rpb24geChlLHQpe2UuZG9tRWxlbWVudC5zdHlsZS53aWR0aD10K1wicHhcIixlLl9fc2F2ZV9yb3cmJmUuYXV0b1BsYWNlJiYoZS5fX3NhdmVfcm93LnN0eWxlLndpZHRoPXQrXCJweFwiKSxlLl9fY2xvc2VCdXR0b24mJihlLl9fY2xvc2VCdXR0b24uc3R5bGUud2lkdGg9dCtcInB4XCIpfWZ1bmN0aW9uIHcoZSx0KXt2YXIgbj17fTtyZXR1cm4gcC5lYWNoKGUuX19yZW1lbWJlcmVkT2JqZWN0cyxmdW5jdGlvbihvLGkpe3ZhciByPXt9O3AuZWFjaChlLl9fcmVtZW1iZXJlZE9iamVjdEluZGVjZXNUb0NvbnRyb2xsZXJzW2ldLGZ1bmN0aW9uKGUsbil7cltuXT10P2UuaW5pdGlhbFZhbHVlOmUuZ2V0VmFsdWUoKX0pLG5baV09cn0pLG59ZnVuY3Rpb24gQyhlLHQsbil7dmFyIG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtvLmlubmVySFRNTD10LG8udmFsdWU9dCxlLl9fcHJlc2V0X3NlbGVjdC5hcHBlbmRDaGlsZChvKSxuJiYoZS5fX3ByZXNldF9zZWxlY3Quc2VsZWN0ZWRJbmRleD1lLl9fcHJlc2V0X3NlbGVjdC5sZW5ndGgtMSl9ZnVuY3Rpb24gRShlLHQpe3ZhciBuPWUuX19wcmVzZXRfc2VsZWN0W2UuX19wcmVzZXRfc2VsZWN0LnNlbGVjdGVkSW5kZXhdO24uaW5uZXJIVE1MPXQ/bi52YWx1ZStcIipcIjpuLnZhbHVlfWZ1bmN0aW9uIEEoZSl7MCE9ZS5sZW5ndGgmJnUoZnVuY3Rpb24oKXtBKGUpfSkscC5lYWNoKGUsZnVuY3Rpb24oZSl7ZS51cGRhdGVEaXNwbGF5KCl9KX1lLmluamVjdChuKTt2YXIgayxTPVwiRGVmYXVsdFwiO3RyeXtrPVwibG9jYWxTdG9yYWdlXCJpbiB3aW5kb3cmJm51bGwhPT13aW5kb3cubG9jYWxTdG9yYWdlfWNhdGNoKE8pe2s9ITF9dmFyIFQsTixMPSEwLFI9ITEsQj1bXSxEPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtsb2NhbFN0b3JhZ2Uuc2V0SXRlbShkb2N1bWVudC5sb2NhdGlvbi5ocmVmK1wiLmd1aVwiLEpTT04uc3RyaW5naWZ5KG8uZ2V0U2F2ZU9iamVjdCgpKSl9ZnVuY3Rpb24gbigpe3ZhciBlPW8uZ2V0Um9vdCgpO2Uud2lkdGgrPTEscC5kZWZlcihmdW5jdGlvbigpe2Uud2lkdGgtPTF9KX12YXIgbz10aGlzO3RoaXMuZG9tRWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuX191bD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidWxcIiksdGhpcy5kb21FbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX191bCksXy5hZGRDbGFzcyh0aGlzLmRvbUVsZW1lbnQsXCJkZ1wiKSx0aGlzLl9fZm9sZGVycz17fSx0aGlzLl9fY29udHJvbGxlcnM9W10sdGhpcy5fX3JlbWVtYmVyZWRPYmplY3RzPVtdLHRoaXMuX19yZW1lbWJlcmVkT2JqZWN0SW5kZWNlc1RvQ29udHJvbGxlcnM9W10sdGhpcy5fX2xpc3RlbmluZz1bXSxlPWV8fHt9LGU9cC5kZWZhdWx0cyhlLHthdXRvUGxhY2U6ITAsd2lkdGg6RC5ERUZBVUxUX1dJRFRIfSksZT1wLmRlZmF1bHRzKGUse3Jlc2l6YWJsZTplLmF1dG9QbGFjZSxoaWRlYWJsZTplLmF1dG9QbGFjZX0pLHAuaXNVbmRlZmluZWQoZS5sb2FkKT9lLmxvYWQ9e3ByZXNldDpTfTplLnByZXNldCYmKGUubG9hZC5wcmVzZXQ9ZS5wcmVzZXQpLHAuaXNVbmRlZmluZWQoZS5wYXJlbnQpJiZlLmhpZGVhYmxlJiZCLnB1c2godGhpcyksZS5yZXNpemFibGU9cC5pc1VuZGVmaW5lZChlLnBhcmVudCkmJmUucmVzaXphYmxlLGUuYXV0b1BsYWNlJiZwLmlzVW5kZWZpbmVkKGUuc2Nyb2xsYWJsZSkmJihlLnNjcm9sbGFibGU9ITApO3ZhciBpPWsmJlwidHJ1ZVwiPT09bG9jYWxTdG9yYWdlLmdldEl0ZW0oZG9jdW1lbnQubG9jYXRpb24uaHJlZitcIi5pc0xvY2FsXCIpO2lmKE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMse3BhcmVudDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUucGFyZW50fX0sc2Nyb2xsYWJsZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUuc2Nyb2xsYWJsZX19LGF1dG9QbGFjZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUuYXV0b1BsYWNlfX0scHJlc2V0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gby5wYXJlbnQ/by5nZXRSb290KCkucHJlc2V0OmUubG9hZC5wcmVzZXR9LHNldDpmdW5jdGlvbih0KXtmb3Ioby5wYXJlbnQ/by5nZXRSb290KCkucHJlc2V0PXQ6ZS5sb2FkLnByZXNldD10LHQ9MDt0PHRoaXMuX19wcmVzZXRfc2VsZWN0Lmxlbmd0aDt0KyspdGhpcy5fX3ByZXNldF9zZWxlY3RbdF0udmFsdWU9PXRoaXMucHJlc2V0JiYodGhpcy5fX3ByZXNldF9zZWxlY3Quc2VsZWN0ZWRJbmRleD10KTtvLnJldmVydCgpfX0sd2lkdGg6e2dldDpmdW5jdGlvbigpe3JldHVybiBlLndpZHRofSxzZXQ6ZnVuY3Rpb24odCl7ZS53aWR0aD10LHgobyx0KX19LG5hbWU6e2dldDpmdW5jdGlvbigpe3JldHVybiBlLm5hbWV9LHNldDpmdW5jdGlvbih0KXtlLm5hbWU9dCxzJiYocy5pbm5lckhUTUw9ZS5uYW1lKX19LGNsb3NlZDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUuY2xvc2VkfSxzZXQ6ZnVuY3Rpb24odCl7ZS5jbG9zZWQ9dCxlLmNsb3NlZD9fLmFkZENsYXNzKG8uX191bCxELkNMQVNTX0NMT1NFRCk6Xy5yZW1vdmVDbGFzcyhvLl9fdWwsRC5DTEFTU19DTE9TRUQpLHRoaXMub25SZXNpemUoKSxvLl9fY2xvc2VCdXR0b24mJihvLl9fY2xvc2VCdXR0b24uaW5uZXJIVE1MPXQ/RC5URVhUX09QRU46RC5URVhUX0NMT1NFRCl9fSxsb2FkOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5sb2FkfX0sdXNlTG9jYWxTdG9yYWdlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaX0sc2V0OmZ1bmN0aW9uKGUpe2smJigoaT1lKT9fLmJpbmQod2luZG93LFwidW5sb2FkXCIsdCk6Xy51bmJpbmQod2luZG93LFwidW5sb2FkXCIsdCksbG9jYWxTdG9yYWdlLnNldEl0ZW0oZG9jdW1lbnQubG9jYXRpb24uaHJlZitcIi5pc0xvY2FsXCIsZSkpfX19KSxwLmlzVW5kZWZpbmVkKGUucGFyZW50KSl7aWYoZS5jbG9zZWQ9ITEsXy5hZGRDbGFzcyh0aGlzLmRvbUVsZW1lbnQsRC5DTEFTU19NQUlOKSxfLm1ha2VTZWxlY3RhYmxlKHRoaXMuZG9tRWxlbWVudCwhMSksayYmaSl7by51c2VMb2NhbFN0b3JhZ2U9ITA7dmFyIHI9bG9jYWxTdG9yYWdlLmdldEl0ZW0oZG9jdW1lbnQubG9jYXRpb24uaHJlZitcIi5ndWlcIik7ciYmKGUubG9hZD1KU09OLnBhcnNlKHIpKX10aGlzLl9fY2xvc2VCdXR0b249ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLl9fY2xvc2VCdXR0b24uaW5uZXJIVE1MPUQuVEVYVF9DTE9TRUQsXy5hZGRDbGFzcyh0aGlzLl9fY2xvc2VCdXR0b24sRC5DTEFTU19DTE9TRV9CVVRUT04pLHRoaXMuZG9tRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9fY2xvc2VCdXR0b24pLF8uYmluZCh0aGlzLl9fY2xvc2VCdXR0b24sXCJjbGlja1wiLGZ1bmN0aW9uKCl7by5jbG9zZWQ9IW8uY2xvc2VkfSl9ZWxzZXt2b2lkIDA9PT1lLmNsb3NlZCYmKGUuY2xvc2VkPSEwKTt2YXIgcz1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShlLm5hbWUpO18uYWRkQ2xhc3MocyxcImNvbnRyb2xsZXItbmFtZVwiKSxyPW0obyxzKSxfLmFkZENsYXNzKHRoaXMuX191bCxELkNMQVNTX0NMT1NFRCksXy5hZGRDbGFzcyhyLFwidGl0bGVcIiksXy5iaW5kKHIsXCJjbGlja1wiLGZ1bmN0aW9uKGUpe3JldHVybiBlLnByZXZlbnREZWZhdWx0KCksby5jbG9zZWQ9IW8uY2xvc2VkLCExfSksZS5jbG9zZWR8fCh0aGlzLmNsb3NlZD0hMSl9ZS5hdXRvUGxhY2UmJihwLmlzVW5kZWZpbmVkKGUucGFyZW50KSYmKEwmJihOPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXy5hZGRDbGFzcyhOLFwiZGdcIiksXy5hZGRDbGFzcyhOLEQuQ0xBU1NfQVVUT19QTEFDRV9DT05UQUlORVIpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoTiksTD0hMSksTi5hcHBlbmRDaGlsZCh0aGlzLmRvbUVsZW1lbnQpLF8uYWRkQ2xhc3ModGhpcy5kb21FbGVtZW50LEQuQ0xBU1NfQVVUT19QTEFDRSkpLHRoaXMucGFyZW50fHx4KG8sZS53aWR0aCkpLF8uYmluZCh3aW5kb3csXCJyZXNpemVcIixmdW5jdGlvbigpe28ub25SZXNpemUoKX0pLF8uYmluZCh0aGlzLl9fdWwsXCJ3ZWJraXRUcmFuc2l0aW9uRW5kXCIsZnVuY3Rpb24oKXtvLm9uUmVzaXplKCl9KSxfLmJpbmQodGhpcy5fX3VsLFwidHJhbnNpdGlvbmVuZFwiLGZ1bmN0aW9uKCl7by5vblJlc2l6ZSgpfSksXy5iaW5kKHRoaXMuX191bCxcIm9UcmFuc2l0aW9uRW5kXCIsZnVuY3Rpb24oKXtvLm9uUmVzaXplKCl9KSx0aGlzLm9uUmVzaXplKCksZS5yZXNpemFibGUmJnkodGhpcyksby5nZXRSb290KCksZS5wYXJlbnR8fG4oKX07cmV0dXJuIEQudG9nZ2xlSGlkZT1mdW5jdGlvbigpe1I9IVIscC5lYWNoKEIsZnVuY3Rpb24oZSl7ZS5kb21FbGVtZW50LnN0eWxlLnpJbmRleD1SPy05OTk6OTk5LGUuZG9tRWxlbWVudC5zdHlsZS5vcGFjaXR5PVI/MDoxfSl9LEQuQ0xBU1NfQVVUT19QTEFDRT1cImFcIixELkNMQVNTX0FVVE9fUExBQ0VfQ09OVEFJTkVSPVwiYWNcIixELkNMQVNTX01BSU49XCJtYWluXCIsRC5DTEFTU19DT05UUk9MTEVSX1JPVz1cImNyXCIsRC5DTEFTU19UT09fVEFMTD1cInRhbGxlci10aGFuLXdpbmRvd1wiLEQuQ0xBU1NfQ0xPU0VEPVwiY2xvc2VkXCIsRC5DTEFTU19DTE9TRV9CVVRUT049XCJjbG9zZS1idXR0b25cIixELkNMQVNTX0RSQUc9XCJkcmFnXCIsRC5ERUZBVUxUX1dJRFRIPTI0NSxELlRFWFRfQ0xPU0VEPVwiQ2xvc2UgQ29udHJvbHNcIixELlRFWFRfT1BFTj1cIk9wZW4gQ29udHJvbHNcIixfLmJpbmQod2luZG93LFwia2V5ZG93blwiLGZ1bmN0aW9uKGUpe1widGV4dFwiIT09ZG9jdW1lbnQuYWN0aXZlRWxlbWVudC50eXBlJiYoNzI9PT1lLndoaWNofHw3Mj09ZS5rZXlDb2RlKSYmRC50b2dnbGVIaWRlKCl9LCExKSxwLmV4dGVuZChELnByb3RvdHlwZSx7YWRkOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGYodGhpcyxlLHQse2ZhY3RvcnlBcmdzOkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKX0pfSxhZGRDb2xvcjpmdW5jdGlvbihlLHQpe3JldHVybiBmKHRoaXMsZSx0LHtjb2xvcjohMH0pfSxyZW1vdmU6ZnVuY3Rpb24oZSl7dGhpcy5fX3VsLnJlbW92ZUNoaWxkKGUuX19saSksdGhpcy5fX2NvbnRyb2xsZXJzLnNsaWNlKHRoaXMuX19jb250cm9sbGVycy5pbmRleE9mKGUpLDEpO3ZhciB0PXRoaXM7cC5kZWZlcihmdW5jdGlvbigpe3Qub25SZXNpemUoKX0pfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5hdXRvUGxhY2UmJk4ucmVtb3ZlQ2hpbGQodGhpcy5kb21FbGVtZW50KX0sYWRkRm9sZGVyOmZ1bmN0aW9uKGUpe2lmKHZvaWQgMCE9PXRoaXMuX19mb2xkZXJzW2VdKXRocm93IEVycm9yKCdZb3UgYWxyZWFkeSBoYXZlIGEgZm9sZGVyIGluIHRoaXMgR1VJIGJ5IHRoZSBuYW1lIFwiJytlKydcIicpO3ZhciB0PXtuYW1lOmUscGFyZW50OnRoaXN9O3JldHVybiB0LmF1dG9QbGFjZT10aGlzLmF1dG9QbGFjZSx0aGlzLmxvYWQmJnRoaXMubG9hZC5mb2xkZXJzJiZ0aGlzLmxvYWQuZm9sZGVyc1tlXSYmKHQuY2xvc2VkPXRoaXMubG9hZC5mb2xkZXJzW2VdLmNsb3NlZCx0LmxvYWQ9dGhpcy5sb2FkLmZvbGRlcnNbZV0pLHQ9bmV3IEQodCksdGhpcy5fX2ZvbGRlcnNbZV09dCxlPW0odGhpcyx0LmRvbUVsZW1lbnQpLF8uYWRkQ2xhc3MoZSxcImZvbGRlclwiKSx0fSxvcGVuOmZ1bmN0aW9uKCl7dGhpcy5jbG9zZWQ9ITF9LGNsb3NlOmZ1bmN0aW9uKCl7dGhpcy5jbG9zZWQ9ITB9LG9uUmVzaXplOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRSb290KCk7aWYoZS5zY3JvbGxhYmxlKXt2YXIgdD1fLmdldE9mZnNldChlLl9fdWwpLnRvcCxuPTA7cC5lYWNoKGUuX191bC5jaGlsZE5vZGVzLGZ1bmN0aW9uKHQpe2UuYXV0b1BsYWNlJiZ0PT09ZS5fX3NhdmVfcm93fHwobis9Xy5nZXRIZWlnaHQodCkpfSksd2luZG93LmlubmVySGVpZ2h0LXQtMjA8bj8oXy5hZGRDbGFzcyhlLmRvbUVsZW1lbnQsRC5DTEFTU19UT09fVEFMTCksZS5fX3VsLnN0eWxlLmhlaWdodD13aW5kb3cuaW5uZXJIZWlnaHQtdC0yMCtcInB4XCIpOihfLnJlbW92ZUNsYXNzKGUuZG9tRWxlbWVudCxELkNMQVNTX1RPT19UQUxMKSxlLl9fdWwuc3R5bGUuaGVpZ2h0PVwiYXV0b1wiKX1lLl9fcmVzaXplX2hhbmRsZSYmcC5kZWZlcihmdW5jdGlvbigpe2UuX19yZXNpemVfaGFuZGxlLnN0eWxlLmhlaWdodD1lLl9fdWwub2Zmc2V0SGVpZ2h0K1wicHhcIn0pLGUuX19jbG9zZUJ1dHRvbiYmKGUuX19jbG9zZUJ1dHRvbi5zdHlsZS53aWR0aD1lLndpZHRoK1wicHhcIil9LHJlbWVtYmVyOmZ1bmN0aW9uKCl7aWYocC5pc1VuZGVmaW5lZChUKSYmKFQ9bmV3IGgsVC5kb21FbGVtZW50LmlubmVySFRNTD10KSx0aGlzLnBhcmVudCl0aHJvdyBFcnJvcihcIllvdSBjYW4gb25seSBjYWxsIHJlbWVtYmVyIG9uIGEgdG9wIGxldmVsIEdVSS5cIik7dmFyIGU9dGhpcztwLmVhY2goQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSxmdW5jdGlvbih0KXswPT1lLl9fcmVtZW1iZXJlZE9iamVjdHMubGVuZ3RoJiZ2KGUpLC0xPT1lLl9fcmVtZW1iZXJlZE9iamVjdHMuaW5kZXhPZih0KSYmZS5fX3JlbWVtYmVyZWRPYmplY3RzLnB1c2godCl9KSx0aGlzLmF1dG9QbGFjZSYmeCh0aGlzLHRoaXMud2lkdGgpfSxnZXRSb290OmZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXM7ZS5wYXJlbnQ7KWU9ZS5wYXJlbnQ7cmV0dXJuIGV9LGdldFNhdmVPYmplY3Q6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxvYWQ7cmV0dXJuIGUuY2xvc2VkPXRoaXMuY2xvc2VkLHRoaXMuX19yZW1lbWJlcmVkT2JqZWN0cy5sZW5ndGg+MCYmKGUucHJlc2V0PXRoaXMucHJlc2V0LGUucmVtZW1iZXJlZHx8KGUucmVtZW1iZXJlZD17fSksZS5yZW1lbWJlcmVkW3RoaXMucHJlc2V0XT13KHRoaXMpKSxlLmZvbGRlcnM9e30scC5lYWNoKHRoaXMuX19mb2xkZXJzLGZ1bmN0aW9uKHQsbil7ZS5mb2xkZXJzW25dPXQuZ2V0U2F2ZU9iamVjdCgpfSksZX0sc2F2ZTpmdW5jdGlvbigpe3RoaXMubG9hZC5yZW1lbWJlcmVkfHwodGhpcy5sb2FkLnJlbWVtYmVyZWQ9e30pLHRoaXMubG9hZC5yZW1lbWJlcmVkW3RoaXMucHJlc2V0XT13KHRoaXMpLEUodGhpcywhMSl9LHNhdmVBczpmdW5jdGlvbihlKXt0aGlzLmxvYWQucmVtZW1iZXJlZHx8KHRoaXMubG9hZC5yZW1lbWJlcmVkPXt9LHRoaXMubG9hZC5yZW1lbWJlcmVkW1NdPXcodGhpcywhMCkpLHRoaXMubG9hZC5yZW1lbWJlcmVkW2VdPXcodGhpcyksdGhpcy5wcmVzZXQ9ZSxDKHRoaXMsZSwhMCl9LHJldmVydDpmdW5jdGlvbihlKXtwLmVhY2godGhpcy5fX2NvbnRyb2xsZXJzLGZ1bmN0aW9uKHQpe3RoaXMuZ2V0Um9vdCgpLmxvYWQucmVtZW1iZXJlZD9iKGV8fHRoaXMuZ2V0Um9vdCgpLHQpOnQuc2V0VmFsdWUodC5pbml0aWFsVmFsdWUpfSx0aGlzKSxwLmVhY2godGhpcy5fX2ZvbGRlcnMsZnVuY3Rpb24oZSl7ZS5yZXZlcnQoZSl9KSxlfHxFKHRoaXMuZ2V0Um9vdCgpLCExKX0sbGlzdGVuOmZ1bmN0aW9uKGUpe3ZhciB0PTA9PXRoaXMuX19saXN0ZW5pbmcubGVuZ3RoO3RoaXMuX19saXN0ZW5pbmcucHVzaChlKSx0JiZBKHRoaXMuX19saXN0ZW5pbmcpfX0pLER9KHIudXRpbHMuY3NzLCc8ZGl2IGlkPVwiZGctc2F2ZVwiIGNsYXNzPVwiZGcgZGlhbG9ndWVcIj5cXG5cXG4gIEhlcmVcXCdzIHRoZSBuZXcgbG9hZCBwYXJhbWV0ZXIgZm9yIHlvdXIgPGNvZGU+R1VJPC9jb2RlPlxcJ3MgY29uc3RydWN0b3I6XFxuXFxuICA8dGV4dGFyZWEgaWQ9XCJkZy1uZXctY29uc3RydWN0b3JcIj48L3RleHRhcmVhPlxcblxcbiAgPGRpdiBpZD1cImRnLXNhdmUtbG9jYWxseVwiPlxcblxcbiAgICA8aW5wdXQgaWQ9XCJkZy1sb2NhbC1zdG9yYWdlXCIgdHlwZT1cImNoZWNrYm94XCIvPiBBdXRvbWF0aWNhbGx5IHNhdmVcXG4gICAgdmFsdWVzIHRvIDxjb2RlPmxvY2FsU3RvcmFnZTwvY29kZT4gb24gZXhpdC5cXG5cXG4gICAgPGRpdiBpZD1cImRnLWxvY2FsLWV4cGxhaW5cIj5UaGUgdmFsdWVzIHNhdmVkIHRvIDxjb2RlPmxvY2FsU3RvcmFnZTwvY29kZT4gd2lsbFxcbiAgICAgIG92ZXJyaWRlIHRob3NlIHBhc3NlZCB0byA8Y29kZT5kYXQuR1VJPC9jb2RlPlxcJ3MgY29uc3RydWN0b3IuIFRoaXMgbWFrZXMgaXRcXG4gICAgICBlYXNpZXIgdG8gd29yayBpbmNyZW1lbnRhbGx5LCBidXQgPGNvZGU+bG9jYWxTdG9yYWdlPC9jb2RlPiBpcyBmcmFnaWxlLFxcbiAgICAgIGFuZCB5b3VyIGZyaWVuZHMgbWF5IG5vdCBzZWUgdGhlIHNhbWUgdmFsdWVzIHlvdSBkby5cXG4gICAgICBcXG4gICAgPC9kaXY+XFxuICAgIFxcbiAgPC9kaXY+XFxuXFxuPC9kaXY+JyxcIi5kZyB1bHtsaXN0LXN0eWxlOm5vbmU7bWFyZ2luOjA7cGFkZGluZzowO3dpZHRoOjEwMCU7Y2xlYXI6Ym90aH0uZGcuYWN7cG9zaXRpb246Zml4ZWQ7dG9wOjA7bGVmdDowO3JpZ2h0OjA7aGVpZ2h0OjA7ei1pbmRleDowfS5kZzpub3QoLmFjKSAubWFpbntvdmVyZmxvdzpoaWRkZW59LmRnLm1haW57LXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgMC4xcyBsaW5lYXI7LW8tdHJhbnNpdGlvbjpvcGFjaXR5IDAuMXMgbGluZWFyOy1tb3otdHJhbnNpdGlvbjpvcGFjaXR5IDAuMXMgbGluZWFyO3RyYW5zaXRpb246b3BhY2l0eSAwLjFzIGxpbmVhcn0uZGcubWFpbi50YWxsZXItdGhhbi13aW5kb3d7b3ZlcmZsb3cteTphdXRvfS5kZy5tYWluLnRhbGxlci10aGFuLXdpbmRvdyAuY2xvc2UtYnV0dG9ue29wYWNpdHk6MTttYXJnaW4tdG9wOi0xcHg7Ym9yZGVyLXRvcDoxcHggc29saWQgIzJjMmMyY30uZGcubWFpbiB1bC5jbG9zZWQgLmNsb3NlLWJ1dHRvbntvcGFjaXR5OjEgIWltcG9ydGFudH0uZGcubWFpbjpob3ZlciAuY2xvc2UtYnV0dG9uLC5kZy5tYWluIC5jbG9zZS1idXR0b24uZHJhZ3tvcGFjaXR5OjF9LmRnLm1haW4gLmNsb3NlLWJ1dHRvbnstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSAwLjFzIGxpbmVhcjstby10cmFuc2l0aW9uOm9wYWNpdHkgMC4xcyBsaW5lYXI7LW1vei10cmFuc2l0aW9uOm9wYWNpdHkgMC4xcyBsaW5lYXI7dHJhbnNpdGlvbjpvcGFjaXR5IDAuMXMgbGluZWFyO2JvcmRlcjowO3Bvc2l0aW9uOmFic29sdXRlO2xpbmUtaGVpZ2h0OjE5cHg7aGVpZ2h0OjIwcHg7Y3Vyc29yOnBvaW50ZXI7dGV4dC1hbGlnbjpjZW50ZXI7YmFja2dyb3VuZC1jb2xvcjojMDAwfS5kZy5tYWluIC5jbG9zZS1idXR0b246aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojMTExfS5kZy5he2Zsb2F0OnJpZ2h0O21hcmdpbi1yaWdodDoxNXB4O292ZXJmbG93LXg6aGlkZGVufS5kZy5hLmhhcy1zYXZlIHVse21hcmdpbi10b3A6MjdweH0uZGcuYS5oYXMtc2F2ZSB1bC5jbG9zZWR7bWFyZ2luLXRvcDowfS5kZy5hIC5zYXZlLXJvd3twb3NpdGlvbjpmaXhlZDt0b3A6MDt6LWluZGV4OjEwMDJ9LmRnIGxpey13ZWJraXQtdHJhbnNpdGlvbjpoZWlnaHQgMC4xcyBlYXNlLW91dDstby10cmFuc2l0aW9uOmhlaWdodCAwLjFzIGVhc2Utb3V0Oy1tb3otdHJhbnNpdGlvbjpoZWlnaHQgMC4xcyBlYXNlLW91dDt0cmFuc2l0aW9uOmhlaWdodCAwLjFzIGVhc2Utb3V0fS5kZyBsaTpub3QoLmZvbGRlcil7Y3Vyc29yOmF1dG87aGVpZ2h0OjI3cHg7bGluZS1oZWlnaHQ6MjdweDtvdmVyZmxvdzpoaWRkZW47cGFkZGluZzowIDRweCAwIDVweH0uZGcgbGkuZm9sZGVye3BhZGRpbmc6MDtib3JkZXItbGVmdDo0cHggc29saWQgcmdiYSgwLDAsMCwwKX0uZGcgbGkudGl0bGV7Y3Vyc29yOnBvaW50ZXI7bWFyZ2luLWxlZnQ6LTRweH0uZGcgLmNsb3NlZCBsaTpub3QoLnRpdGxlKSwuZGcgLmNsb3NlZCB1bCBsaSwuZGcgLmNsb3NlZCB1bCBsaSA+ICp7aGVpZ2h0OjA7b3ZlcmZsb3c6aGlkZGVuO2JvcmRlcjowfS5kZyAuY3J7Y2xlYXI6Ym90aDtwYWRkaW5nLWxlZnQ6M3B4O2hlaWdodDoyN3B4fS5kZyAucHJvcGVydHktbmFtZXtjdXJzb3I6ZGVmYXVsdDtmbG9hdDpsZWZ0O2NsZWFyOmxlZnQ7d2lkdGg6NDAlO292ZXJmbG93OmhpZGRlbjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzfS5kZyAuY3tmbG9hdDpsZWZ0O3dpZHRoOjYwJX0uZGcgLmMgaW5wdXRbdHlwZT10ZXh0XXtib3JkZXI6MDttYXJnaW4tdG9wOjRweDtwYWRkaW5nOjNweDt3aWR0aDoxMDAlO2Zsb2F0OnJpZ2h0fS5kZyAuaGFzLXNsaWRlciBpbnB1dFt0eXBlPXRleHRde3dpZHRoOjMwJTttYXJnaW4tbGVmdDowfS5kZyAuc2xpZGVye2Zsb2F0OmxlZnQ7d2lkdGg6NjYlO21hcmdpbi1sZWZ0Oi01cHg7bWFyZ2luLXJpZ2h0OjA7aGVpZ2h0OjE5cHg7bWFyZ2luLXRvcDo0cHh9LmRnIC5zbGlkZXItZmd7aGVpZ2h0OjEwMCV9LmRnIC5jIGlucHV0W3R5cGU9Y2hlY2tib3hde21hcmdpbi10b3A6OXB4fS5kZyAuYyBzZWxlY3R7bWFyZ2luLXRvcDo1cHh9LmRnIC5jci5mdW5jdGlvbiwuZGcgLmNyLmZ1bmN0aW9uIC5wcm9wZXJ0eS1uYW1lLC5kZyAuY3IuZnVuY3Rpb24gKiwuZGcgLmNyLmJvb2xlYW4sLmRnIC5jci5ib29sZWFuICp7Y3Vyc29yOnBvaW50ZXJ9LmRnIC5zZWxlY3RvcntkaXNwbGF5Om5vbmU7cG9zaXRpb246YWJzb2x1dGU7bWFyZ2luLWxlZnQ6LTlweDttYXJnaW4tdG9wOjIzcHg7ei1pbmRleDoxMH0uZGcgLmM6aG92ZXIgLnNlbGVjdG9yLC5kZyAuc2VsZWN0b3IuZHJhZ3tkaXNwbGF5OmJsb2NrfS5kZyBsaS5zYXZlLXJvd3twYWRkaW5nOjB9LmRnIGxpLnNhdmUtcm93IC5idXR0b257ZGlzcGxheTppbmxpbmUtYmxvY2s7cGFkZGluZzowcHggNnB4fS5kZy5kaWFsb2d1ZXtiYWNrZ3JvdW5kLWNvbG9yOiMyMjI7d2lkdGg6NDYwcHg7cGFkZGluZzoxNXB4O2ZvbnQtc2l6ZToxM3B4O2xpbmUtaGVpZ2h0OjE1cHh9I2RnLW5ldy1jb25zdHJ1Y3RvcntwYWRkaW5nOjEwcHg7Y29sb3I6IzIyMjtmb250LWZhbWlseTpNb25hY28sIG1vbm9zcGFjZTtmb250LXNpemU6MTBweDtib3JkZXI6MDtyZXNpemU6bm9uZTtib3gtc2hhZG93Omluc2V0IDFweCAxcHggMXB4ICM4ODg7d29yZC13cmFwOmJyZWFrLXdvcmQ7bWFyZ2luOjEycHggMDtkaXNwbGF5OmJsb2NrO3dpZHRoOjQ0MHB4O292ZXJmbG93LXk6c2Nyb2xsO2hlaWdodDoxMDBweDtwb3NpdGlvbjpyZWxhdGl2ZX0jZGctbG9jYWwtZXhwbGFpbntkaXNwbGF5Om5vbmU7Zm9udC1zaXplOjExcHg7bGluZS1oZWlnaHQ6MTdweDtib3JkZXItcmFkaXVzOjNweDtiYWNrZ3JvdW5kLWNvbG9yOiMzMzM7cGFkZGluZzo4cHg7bWFyZ2luLXRvcDoxMHB4fSNkZy1sb2NhbC1leHBsYWluIGNvZGV7Zm9udC1zaXplOjEwcHh9I2RhdC1ndWktc2F2ZS1sb2NhbGx5e2Rpc3BsYXk6bm9uZX0uZGd7Y29sb3I6I2VlZTtmb250OjExcHggJ0x1Y2lkYSBHcmFuZGUnLCBzYW5zLXNlcmlmO3RleHQtc2hhZG93OjAgLTFweCAwICMxMTF9LmRnLm1haW46Oi13ZWJraXQtc2Nyb2xsYmFye3dpZHRoOjVweDtiYWNrZ3JvdW5kOiMxYTFhMWF9LmRnLm1haW46Oi13ZWJraXQtc2Nyb2xsYmFyLWNvcm5lcntoZWlnaHQ6MDtkaXNwbGF5Om5vbmV9LmRnLm1haW46Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1ie2JvcmRlci1yYWRpdXM6NXB4O2JhY2tncm91bmQ6IzY3Njc2N30uZGcgbGk6bm90KC5mb2xkZXIpe2JhY2tncm91bmQ6IzFhMWExYTtib3JkZXItYm90dG9tOjFweCBzb2xpZCAjMmMyYzJjfS5kZyBsaS5zYXZlLXJvd3tsaW5lLWhlaWdodDoyNXB4O2JhY2tncm91bmQ6I2RhZDVjYjtib3JkZXI6MH0uZGcgbGkuc2F2ZS1yb3cgc2VsZWN0e21hcmdpbi1sZWZ0OjVweDt3aWR0aDoxMDhweH0uZGcgbGkuc2F2ZS1yb3cgLmJ1dHRvbnttYXJnaW4tbGVmdDo1cHg7bWFyZ2luLXRvcDoxcHg7Ym9yZGVyLXJhZGl1czoycHg7Zm9udC1zaXplOjlweDtsaW5lLWhlaWdodDo3cHg7cGFkZGluZzo0cHggNHB4IDVweCA0cHg7YmFja2dyb3VuZDojYzViZGFkO2NvbG9yOiNmZmY7dGV4dC1zaGFkb3c6MCAxcHggMCAjYjBhNThmO2JveC1zaGFkb3c6MCAtMXB4IDAgI2IwYTU4ZjtjdXJzb3I6cG9pbnRlcn0uZGcgbGkuc2F2ZS1yb3cgLmJ1dHRvbi5nZWFyc3tiYWNrZ3JvdW5kOiNjNWJkYWQgdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQXNBQUFBTkNBWUFBQUIvOVpRN0FBQUFHWFJGV0hSVGIyWjBkMkZ5WlFCQlpHOWlaU0JKYldGblpWSmxZV1I1Y2NsbFBBQUFBUUpKUkVGVWVOcGlZS0FVL1AvL1B3R0lDL0FwQ0FCaUJTQVcrSThBQ2xBY2dLeFE0VDlob01BRVVyeHgyUVNHTjYrZWdEWCsvdldUNGU3TjgyQU1Zb1BBeC9ldndXb1lvU1liQUNYMnM3S3hDeHpjc2V6RGgzZXZGb0RFQllURUVxeWNnZ1dBekE5QXVVU1FRZ2VZUGE5ZlB2Ni9ZV20vQWN4NUlQYjd0eS9mdytRWmJsdzY3dkRzOFIwWUh5UWhnT2J4K3lBSmtCcW1HNWRQUERoMWFQT0dSL2V1Z1cwRzR2bElvVElmeUZjQStRZWtoaEhKaFBkUXhiaUFJZ3VNQlRRWnJQRDcxMDhNNnJvV1lERlFpSUFBdjZBb3cvMWJGd1hnaXMrZjJMVUF5bndvSWFOY3o4WE54M0RsN01FSlVER1FweDlndFE4WUN1ZUIrRDI2T0VDQUFRRGFkdDdlNDZENDJRQUFBQUJKUlU1RXJrSmdnZz09KSAycHggMXB4IG5vLXJlcGVhdDtoZWlnaHQ6N3B4O3dpZHRoOjhweH0uZGcgbGkuc2F2ZS1yb3cgLmJ1dHRvbjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiNiYWIxOWU7Ym94LXNoYWRvdzowIC0xcHggMCAjYjBhNThmfS5kZyBsaS5mb2xkZXJ7Ym9yZGVyLWJvdHRvbTowfS5kZyBsaS50aXRsZXtwYWRkaW5nLWxlZnQ6MTZweDtiYWNrZ3JvdW5kOiMwMDAgdXJsKGRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEJRQUZBSkVBQVAvLy8vUHo4Ly8vLy8vLy95SDVCQUVBQUFJQUxBQUFBQUFGQUFVQUFBSUlsSStoS2dGeG9DZ0FPdz09KSA2cHggMTBweCBuby1yZXBlYXQ7Y3Vyc29yOnBvaW50ZXI7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwwLjIpfS5kZyAuY2xvc2VkIGxpLnRpdGxle2JhY2tncm91bmQtaW1hZ2U6dXJsKGRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEJRQUZBSkVBQVAvLy8vUHo4Ly8vLy8vLy95SDVCQUVBQUFJQUxBQUFBQUFGQUFVQUFBSUlsR0lXcU1DYldBRUFPdz09KX0uZGcgLmNyLmJvb2xlYW57Ym9yZGVyLWxlZnQ6M3B4IHNvbGlkICM4MDY3ODd9LmRnIC5jci5mdW5jdGlvbntib3JkZXItbGVmdDozcHggc29saWQgI2U2MWQ1Zn0uZGcgLmNyLm51bWJlcntib3JkZXItbGVmdDozcHggc29saWQgIzJmYTFkNn0uZGcgLmNyLm51bWJlciBpbnB1dFt0eXBlPXRleHRde2NvbG9yOiMyZmExZDZ9LmRnIC5jci5zdHJpbmd7Ym9yZGVyLWxlZnQ6M3B4IHNvbGlkICMxZWQzNmZ9LmRnIC5jci5zdHJpbmcgaW5wdXRbdHlwZT10ZXh0XXtjb2xvcjojMWVkMzZmfS5kZyAuY3IuZnVuY3Rpb246aG92ZXIsLmRnIC5jci5ib29sZWFuOmhvdmVye2JhY2tncm91bmQ6IzExMX0uZGcgLmMgaW5wdXRbdHlwZT10ZXh0XXtiYWNrZ3JvdW5kOiMzMDMwMzA7b3V0bGluZTpub25lfS5kZyAuYyBpbnB1dFt0eXBlPXRleHRdOmhvdmVye2JhY2tncm91bmQ6IzNjM2MzY30uZGcgLmMgaW5wdXRbdHlwZT10ZXh0XTpmb2N1c3tiYWNrZ3JvdW5kOiM0OTQ5NDk7Y29sb3I6I2ZmZn0uZGcgLmMgLnNsaWRlcntiYWNrZ3JvdW5kOiMzMDMwMzA7Y3Vyc29yOmV3LXJlc2l6ZX0uZGcgLmMgLnNsaWRlci1mZ3tiYWNrZ3JvdW5kOiMyZmExZDZ9LmRnIC5jIC5zbGlkZXI6aG92ZXJ7YmFja2dyb3VuZDojM2MzYzNjfS5kZyAuYyAuc2xpZGVyOmhvdmVyIC5zbGlkZXItZmd7YmFja2dyb3VuZDojNDRhYmRhfVxcblwiLHIuY29udHJvbGxlcnMuZmFjdG9yeT1mdW5jdGlvbihlLHQsbixvLGkscixzKXtyZXR1cm4gZnVuY3Rpb24oYSxsLGQsYyl7dmFyIHU9YVtsXTtcbnJldHVybiBzLmlzQXJyYXkoZCl8fHMuaXNPYmplY3QoZCk/bmV3IGUoYSxsLGQpOnMuaXNOdW1iZXIodSk/cy5pc051bWJlcihkKSYmcy5pc051bWJlcihjKT9uZXcgbihhLGwsZCxjKTpuZXcgdChhLGwse21pbjpkLG1heDpjfSk6cy5pc1N0cmluZyh1KT9uZXcgbyhhLGwpOnMuaXNGdW5jdGlvbih1KT9uZXcgaShhLGwsXCJcIik6cy5pc0Jvb2xlYW4odSk/bmV3IHIoYSxsKTp2b2lkIDB9fShyLmNvbnRyb2xsZXJzLk9wdGlvbkNvbnRyb2xsZXIsci5jb250cm9sbGVycy5OdW1iZXJDb250cm9sbGVyQm94LHIuY29udHJvbGxlcnMuTnVtYmVyQ29udHJvbGxlclNsaWRlcixyLmNvbnRyb2xsZXJzLlN0cmluZ0NvbnRyb2xsZXI9ZnVuY3Rpb24oZSx0LG4pe3ZhciBvPWZ1bmN0aW9uKGUsbil7ZnVuY3Rpb24gaSgpe3Iuc2V0VmFsdWUoci5fX2lucHV0LnZhbHVlKX1vLnN1cGVyY2xhc3MuY2FsbCh0aGlzLGUsbik7dmFyIHI9dGhpczt0aGlzLl9faW5wdXQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpLHRoaXMuX19pbnB1dC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJ0ZXh0XCIpLHQuYmluZCh0aGlzLl9faW5wdXQsXCJrZXl1cFwiLGkpLHQuYmluZCh0aGlzLl9faW5wdXQsXCJjaGFuZ2VcIixpKSx0LmJpbmQodGhpcy5fX2lucHV0LFwiYmx1clwiLGZ1bmN0aW9uKCl7ci5fX29uRmluaXNoQ2hhbmdlJiZyLl9fb25GaW5pc2hDaGFuZ2UuY2FsbChyLHIuZ2V0VmFsdWUoKSl9KSx0LmJpbmQodGhpcy5fX2lucHV0LFwia2V5ZG93blwiLGZ1bmN0aW9uKGUpezEzPT09ZS5rZXlDb2RlJiZ0aGlzLmJsdXIoKX0pLHRoaXMudXBkYXRlRGlzcGxheSgpLHRoaXMuZG9tRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9faW5wdXQpfTtyZXR1cm4gby5zdXBlcmNsYXNzPWUsbi5leHRlbmQoby5wcm90b3R5cGUsZS5wcm90b3R5cGUse3VwZGF0ZURpc3BsYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdC5pc0FjdGl2ZSh0aGlzLl9faW5wdXQpfHwodGhpcy5fX2lucHV0LnZhbHVlPXRoaXMuZ2V0VmFsdWUoKSksby5zdXBlcmNsYXNzLnByb3RvdHlwZS51cGRhdGVEaXNwbGF5LmNhbGwodGhpcyl9fSksb30oci5jb250cm9sbGVycy5Db250cm9sbGVyLHIuZG9tLmRvbSxyLnV0aWxzLmNvbW1vbiksci5jb250cm9sbGVycy5GdW5jdGlvbkNvbnRyb2xsZXIsci5jb250cm9sbGVycy5Cb29sZWFuQ29udHJvbGxlcixyLnV0aWxzLmNvbW1vbiksci5jb250cm9sbGVycy5Db250cm9sbGVyLHIuY29udHJvbGxlcnMuQm9vbGVhbkNvbnRyb2xsZXIsci5jb250cm9sbGVycy5GdW5jdGlvbkNvbnRyb2xsZXIsci5jb250cm9sbGVycy5OdW1iZXJDb250cm9sbGVyQm94LHIuY29udHJvbGxlcnMuTnVtYmVyQ29udHJvbGxlclNsaWRlcixyLmNvbnRyb2xsZXJzLk9wdGlvbkNvbnRyb2xsZXIsci5jb250cm9sbGVycy5Db2xvckNvbnRyb2xsZXI9ZnVuY3Rpb24oZSx0LG4sbyxpKXtmdW5jdGlvbiByKGUsdCxuLG8pe2Uuc3R5bGUuYmFja2dyb3VuZD1cIlwiLGkuZWFjaChsLGZ1bmN0aW9uKGkpe2Uuc3R5bGUuY3NzVGV4dCs9XCJiYWNrZ3JvdW5kOiBcIitpK1wibGluZWFyLWdyYWRpZW50KFwiK3QrXCIsIFwiK24rXCIgMCUsIFwiK28rXCIgMTAwJSk7IFwifSl9ZnVuY3Rpb24gcyhlKXtlLnN0eWxlLmJhY2tncm91bmQ9XCJcIixlLnN0eWxlLmNzc1RleHQrPVwiYmFja2dyb3VuZDogLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAgI2ZmMDAwMCAwJSwgI2ZmMDBmZiAxNyUsICMwMDAwZmYgMzQlLCAjMDBmZmZmIDUwJSwgIzAwZmYwMCA2NyUsICNmZmZmMDAgODQlLCAjZmYwMDAwIDEwMCUpO1wiLGUuc3R5bGUuY3NzVGV4dCs9XCJiYWNrZ3JvdW5kOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsICAjZmYwMDAwIDAlLCNmZjAwZmYgMTclLCMwMDAwZmYgMzQlLCMwMGZmZmYgNTAlLCMwMGZmMDAgNjclLCNmZmZmMDAgODQlLCNmZjAwMDAgMTAwJSk7XCIsZS5zdHlsZS5jc3NUZXh0Kz1cImJhY2tncm91bmQ6IC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICAjZmYwMDAwIDAlLCNmZjAwZmYgMTclLCMwMDAwZmYgMzQlLCMwMGZmZmYgNTAlLCMwMGZmMDAgNjclLCNmZmZmMDAgODQlLCNmZjAwMDAgMTAwJSk7XCIsZS5zdHlsZS5jc3NUZXh0Kz1cImJhY2tncm91bmQ6IC1tcy1saW5lYXItZ3JhZGllbnQodG9wLCAgI2ZmMDAwMCAwJSwjZmYwMGZmIDE3JSwjMDAwMGZmIDM0JSwjMDBmZmZmIDUwJSwjMDBmZjAwIDY3JSwjZmZmZjAwIDg0JSwjZmYwMDAwIDEwMCUpO1wiLGUuc3R5bGUuY3NzVGV4dCs9XCJiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG9wLCAgI2ZmMDAwMCAwJSwjZmYwMGZmIDE3JSwjMDAwMGZmIDM0JSwjMDBmZmZmIDUwJSwjMDBmZjAwIDY3JSwjZmZmZjAwIDg0JSwjZmYwMDAwIDEwMCUpO1wifXZhciBhPWZ1bmN0aW9uKGUsbCl7ZnVuY3Rpb24gZChlKXtfKGUpLHQuYmluZCh3aW5kb3csXCJtb3VzZW1vdmVcIixfKSx0LmJpbmQod2luZG93LFwibW91c2V1cFwiLGMpfWZ1bmN0aW9uIGMoKXt0LnVuYmluZCh3aW5kb3csXCJtb3VzZW1vdmVcIixfKSx0LnVuYmluZCh3aW5kb3csXCJtb3VzZXVwXCIsYyl9ZnVuY3Rpb24gdSgpe3ZhciBlPW8odGhpcy52YWx1ZSk7ZSE9PSExPyhmLl9fY29sb3IuX19zdGF0ZT1lLGYuc2V0VmFsdWUoZi5fX2NvbG9yLnRvT3JpZ2luYWwoKSkpOnRoaXMudmFsdWU9Zi5fX2NvbG9yLnRvU3RyaW5nKCl9ZnVuY3Rpb24gaCgpe3QudW5iaW5kKHdpbmRvdyxcIm1vdXNlbW92ZVwiLHApLHQudW5iaW5kKHdpbmRvdyxcIm1vdXNldXBcIixoKX1mdW5jdGlvbiBfKGUpe2UucHJldmVudERlZmF1bHQoKTt2YXIgbj10LmdldFdpZHRoKGYuX19zYXR1cmF0aW9uX2ZpZWxkKSxvPXQuZ2V0T2Zmc2V0KGYuX19zYXR1cmF0aW9uX2ZpZWxkKSxpPShlLmNsaWVudFgtby5sZWZ0K2RvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCkvbixlPTEtKGUuY2xpZW50WS1vLnRvcCtkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCkvbjtyZXR1cm4gZT4xP2U9MTowPmUmJihlPTApLGk+MT9pPTE6MD5pJiYoaT0wKSxmLl9fY29sb3Iudj1lLGYuX19jb2xvci5zPWksZi5zZXRWYWx1ZShmLl9fY29sb3IudG9PcmlnaW5hbCgpKSwhMX1mdW5jdGlvbiBwKGUpe2UucHJldmVudERlZmF1bHQoKTt2YXIgbj10LmdldEhlaWdodChmLl9faHVlX2ZpZWxkKSxvPXQuZ2V0T2Zmc2V0KGYuX19odWVfZmllbGQpLGU9MS0oZS5jbGllbnRZLW8udG9wK2RvY3VtZW50LmJvZHkuc2Nyb2xsVG9wKS9uO3JldHVybiBlPjE/ZT0xOjA+ZSYmKGU9MCksZi5fX2NvbG9yLmg9MzYwKmUsZi5zZXRWYWx1ZShmLl9fY29sb3IudG9PcmlnaW5hbCgpKSwhMX1hLnN1cGVyY2xhc3MuY2FsbCh0aGlzLGUsbCksdGhpcy5fX2NvbG9yPW5ldyBuKHRoaXMuZ2V0VmFsdWUoKSksdGhpcy5fX3RlbXA9bmV3IG4oMCk7dmFyIGY9dGhpczt0aGlzLmRvbUVsZW1lbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0Lm1ha2VTZWxlY3RhYmxlKHRoaXMuZG9tRWxlbWVudCwhMSksdGhpcy5fX3NlbGVjdG9yPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5fX3NlbGVjdG9yLmNsYXNzTmFtZT1cInNlbGVjdG9yXCIsdGhpcy5fX3NhdHVyYXRpb25fZmllbGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLl9fc2F0dXJhdGlvbl9maWVsZC5jbGFzc05hbWU9XCJzYXR1cmF0aW9uLWZpZWxkXCIsdGhpcy5fX2ZpZWxkX2tub2I9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLl9fZmllbGRfa25vYi5jbGFzc05hbWU9XCJmaWVsZC1rbm9iXCIsdGhpcy5fX2ZpZWxkX2tub2JfYm9yZGVyPVwiMnB4IHNvbGlkIFwiLHRoaXMuX19odWVfa25vYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuX19odWVfa25vYi5jbGFzc05hbWU9XCJodWUta25vYlwiLHRoaXMuX19odWVfZmllbGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLl9faHVlX2ZpZWxkLmNsYXNzTmFtZT1cImh1ZS1maWVsZFwiLHRoaXMuX19pbnB1dD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiksdGhpcy5fX2lucHV0LnR5cGU9XCJ0ZXh0XCIsdGhpcy5fX2lucHV0X3RleHRTaGFkb3c9XCIwIDFweCAxcHggXCIsdC5iaW5kKHRoaXMuX19pbnB1dCxcImtleWRvd25cIixmdW5jdGlvbihlKXsxMz09PWUua2V5Q29kZSYmdS5jYWxsKHRoaXMpfSksdC5iaW5kKHRoaXMuX19pbnB1dCxcImJsdXJcIix1KSx0LmJpbmQodGhpcy5fX3NlbGVjdG9yLFwibW91c2Vkb3duXCIsZnVuY3Rpb24oKXt0LmFkZENsYXNzKHRoaXMsXCJkcmFnXCIpLmJpbmQod2luZG93LFwibW91c2V1cFwiLGZ1bmN0aW9uKCl7dC5yZW1vdmVDbGFzcyhmLl9fc2VsZWN0b3IsXCJkcmFnXCIpfSl9KTt2YXIgbT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2kuZXh0ZW5kKHRoaXMuX19zZWxlY3Rvci5zdHlsZSx7d2lkdGg6XCIxMjJweFwiLGhlaWdodDpcIjEwMnB4XCIscGFkZGluZzpcIjNweFwiLGJhY2tncm91bmRDb2xvcjpcIiMyMjJcIixib3hTaGFkb3c6XCIwcHggMXB4IDNweCByZ2JhKDAsMCwwLDAuMylcIn0pLGkuZXh0ZW5kKHRoaXMuX19maWVsZF9rbm9iLnN0eWxlLHtwb3NpdGlvbjpcImFic29sdXRlXCIsd2lkdGg6XCIxMnB4XCIsaGVpZ2h0OlwiMTJweFwiLGJvcmRlcjp0aGlzLl9fZmllbGRfa25vYl9ib3JkZXIrKHRoaXMuX19jb2xvci52PC41P1wiI2ZmZlwiOlwiIzAwMFwiKSxib3hTaGFkb3c6XCIwcHggMXB4IDNweCByZ2JhKDAsMCwwLDAuNSlcIixib3JkZXJSYWRpdXM6XCIxMnB4XCIsekluZGV4OjF9KSxpLmV4dGVuZCh0aGlzLl9faHVlX2tub2Iuc3R5bGUse3Bvc2l0aW9uOlwiYWJzb2x1dGVcIix3aWR0aDpcIjE1cHhcIixoZWlnaHQ6XCIycHhcIixib3JkZXJSaWdodDpcIjRweCBzb2xpZCAjZmZmXCIsekluZGV4OjF9KSxpLmV4dGVuZCh0aGlzLl9fc2F0dXJhdGlvbl9maWVsZC5zdHlsZSx7d2lkdGg6XCIxMDBweFwiLGhlaWdodDpcIjEwMHB4XCIsYm9yZGVyOlwiMXB4IHNvbGlkICM1NTVcIixtYXJnaW5SaWdodDpcIjNweFwiLGRpc3BsYXk6XCJpbmxpbmUtYmxvY2tcIixjdXJzb3I6XCJwb2ludGVyXCJ9KSxpLmV4dGVuZChtLnN0eWxlLHt3aWR0aDpcIjEwMCVcIixoZWlnaHQ6XCIxMDAlXCIsYmFja2dyb3VuZDpcIm5vbmVcIn0pLHIobSxcInRvcFwiLFwicmdiYSgwLDAsMCwwKVwiLFwiIzAwMFwiKSxpLmV4dGVuZCh0aGlzLl9faHVlX2ZpZWxkLnN0eWxlLHt3aWR0aDpcIjE1cHhcIixoZWlnaHQ6XCIxMDBweFwiLGRpc3BsYXk6XCJpbmxpbmUtYmxvY2tcIixib3JkZXI6XCIxcHggc29saWQgIzU1NVwiLGN1cnNvcjpcIm5zLXJlc2l6ZVwifSkscyh0aGlzLl9faHVlX2ZpZWxkKSxpLmV4dGVuZCh0aGlzLl9faW5wdXQuc3R5bGUse291dGxpbmU6XCJub25lXCIsdGV4dEFsaWduOlwiY2VudGVyXCIsY29sb3I6XCIjZmZmXCIsYm9yZGVyOjAsZm9udFdlaWdodDpcImJvbGRcIix0ZXh0U2hhZG93OnRoaXMuX19pbnB1dF90ZXh0U2hhZG93K1wicmdiYSgwLDAsMCwwLjcpXCJ9KSx0LmJpbmQodGhpcy5fX3NhdHVyYXRpb25fZmllbGQsXCJtb3VzZWRvd25cIixkKSx0LmJpbmQodGhpcy5fX2ZpZWxkX2tub2IsXCJtb3VzZWRvd25cIixkKSx0LmJpbmQodGhpcy5fX2h1ZV9maWVsZCxcIm1vdXNlZG93blwiLGZ1bmN0aW9uKGUpe3AoZSksdC5iaW5kKHdpbmRvdyxcIm1vdXNlbW92ZVwiLHApLHQuYmluZCh3aW5kb3csXCJtb3VzZXVwXCIsaCl9KSx0aGlzLl9fc2F0dXJhdGlvbl9maWVsZC5hcHBlbmRDaGlsZChtKSx0aGlzLl9fc2VsZWN0b3IuYXBwZW5kQ2hpbGQodGhpcy5fX2ZpZWxkX2tub2IpLHRoaXMuX19zZWxlY3Rvci5hcHBlbmRDaGlsZCh0aGlzLl9fc2F0dXJhdGlvbl9maWVsZCksdGhpcy5fX3NlbGVjdG9yLmFwcGVuZENoaWxkKHRoaXMuX19odWVfZmllbGQpLHRoaXMuX19odWVfZmllbGQuYXBwZW5kQ2hpbGQodGhpcy5fX2h1ZV9rbm9iKSx0aGlzLmRvbUVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5fX2lucHV0KSx0aGlzLmRvbUVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5fX3NlbGVjdG9yKSx0aGlzLnVwZGF0ZURpc3BsYXkoKX07YS5zdXBlcmNsYXNzPWUsaS5leHRlbmQoYS5wcm90b3R5cGUsZS5wcm90b3R5cGUse3VwZGF0ZURpc3BsYXk6ZnVuY3Rpb24oKXt2YXIgZT1vKHRoaXMuZ2V0VmFsdWUoKSk7aWYoZSE9PSExKXt2YXIgdD0hMTtpLmVhY2gobi5DT01QT05FTlRTLGZ1bmN0aW9uKG4pe3JldHVybiBpLmlzVW5kZWZpbmVkKGVbbl0pfHxpLmlzVW5kZWZpbmVkKHRoaXMuX19jb2xvci5fX3N0YXRlW25dKXx8ZVtuXT09PXRoaXMuX19jb2xvci5fX3N0YXRlW25dP3ZvaWQgMDoodD0hMCx7fSl9LHRoaXMpLHQmJmkuZXh0ZW5kKHRoaXMuX19jb2xvci5fX3N0YXRlLGUpfWkuZXh0ZW5kKHRoaXMuX190ZW1wLl9fc3RhdGUsdGhpcy5fX2NvbG9yLl9fc3RhdGUpLHRoaXMuX190ZW1wLmE9MTt2YXIgcz10aGlzLl9fY29sb3IudjwuNXx8dGhpcy5fX2NvbG9yLnM+LjU/MjU1OjAsYT0yNTUtcztpLmV4dGVuZCh0aGlzLl9fZmllbGRfa25vYi5zdHlsZSx7bWFyZ2luTGVmdDoxMDAqdGhpcy5fX2NvbG9yLnMtNytcInB4XCIsbWFyZ2luVG9wOjEwMCooMS10aGlzLl9fY29sb3IudiktNytcInB4XCIsYmFja2dyb3VuZENvbG9yOnRoaXMuX190ZW1wLnRvU3RyaW5nKCksYm9yZGVyOnRoaXMuX19maWVsZF9rbm9iX2JvcmRlcitcInJnYihcIitzK1wiLFwiK3MrXCIsXCIrcytcIilcIn0pLHRoaXMuX19odWVfa25vYi5zdHlsZS5tYXJnaW5Ub3A9MTAwKigxLXRoaXMuX19jb2xvci5oLzM2MCkrXCJweFwiLHRoaXMuX190ZW1wLnM9MSx0aGlzLl9fdGVtcC52PTEscih0aGlzLl9fc2F0dXJhdGlvbl9maWVsZCxcImxlZnRcIixcIiNmZmZcIix0aGlzLl9fdGVtcC50b1N0cmluZygpKSxpLmV4dGVuZCh0aGlzLl9faW5wdXQuc3R5bGUse2JhY2tncm91bmRDb2xvcjp0aGlzLl9faW5wdXQudmFsdWU9dGhpcy5fX2NvbG9yLnRvU3RyaW5nKCksY29sb3I6XCJyZ2IoXCIrcytcIixcIitzK1wiLFwiK3MrXCIpXCIsdGV4dFNoYWRvdzp0aGlzLl9faW5wdXRfdGV4dFNoYWRvdytcInJnYmEoXCIrYStcIixcIithK1wiLFwiK2ErXCIsLjcpXCJ9KX19KTt2YXIgbD1bXCItbW96LVwiLFwiLW8tXCIsXCItd2Via2l0LVwiLFwiLW1zLVwiLFwiXCJdO3JldHVybiBhfShyLmNvbnRyb2xsZXJzLkNvbnRyb2xsZXIsci5kb20uZG9tLHIuY29sb3IuQ29sb3I9ZnVuY3Rpb24oZSx0LG4sbyl7ZnVuY3Rpb24gaShlLHQsbil7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuXCJSR0JcIj09PXRoaXMuX19zdGF0ZS5zcGFjZT90aGlzLl9fc3RhdGVbdF06KHModGhpcyx0LG4pLHRoaXMuX19zdGF0ZVt0XSl9LHNldDpmdW5jdGlvbihlKXtcIlJHQlwiIT09dGhpcy5fX3N0YXRlLnNwYWNlJiYocyh0aGlzLHQsbiksdGhpcy5fX3N0YXRlLnNwYWNlPVwiUkdCXCIpLHRoaXMuX19zdGF0ZVt0XT1lfX0pfWZ1bmN0aW9uIHIoZSx0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cIkhTVlwiPT09dGhpcy5fX3N0YXRlLnNwYWNlP3RoaXMuX19zdGF0ZVt0XTooYSh0aGlzKSx0aGlzLl9fc3RhdGVbdF0pfSxzZXQ6ZnVuY3Rpb24oZSl7XCJIU1ZcIiE9PXRoaXMuX19zdGF0ZS5zcGFjZSYmKGEodGhpcyksdGhpcy5fX3N0YXRlLnNwYWNlPVwiSFNWXCIpLHRoaXMuX19zdGF0ZVt0XT1lfX0pfWZ1bmN0aW9uIHMoZSxuLGkpe2lmKFwiSEVYXCI9PT1lLl9fc3RhdGUuc3BhY2UpZS5fX3N0YXRlW25dPXQuY29tcG9uZW50X2Zyb21faGV4KGUuX19zdGF0ZS5oZXgsaSk7ZWxzZXtpZihcIkhTVlwiIT09ZS5fX3N0YXRlLnNwYWNlKXRocm93XCJDb3JydXB0ZWQgY29sb3Igc3RhdGVcIjtvLmV4dGVuZChlLl9fc3RhdGUsdC5oc3ZfdG9fcmdiKGUuX19zdGF0ZS5oLGUuX19zdGF0ZS5zLGUuX19zdGF0ZS52KSl9fWZ1bmN0aW9uIGEoZSl7dmFyIG49dC5yZ2JfdG9faHN2KGUucixlLmcsZS5iKTtvLmV4dGVuZChlLl9fc3RhdGUse3M6bi5zLHY6bi52fSksby5pc05hTihuLmgpP28uaXNVbmRlZmluZWQoZS5fX3N0YXRlLmgpJiYoZS5fX3N0YXRlLmg9MCk6ZS5fX3N0YXRlLmg9bi5ofXZhciBsPWZ1bmN0aW9uKCl7aWYodGhpcy5fX3N0YXRlPWUuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX19zdGF0ZT09PSExKXRocm93XCJGYWlsZWQgdG8gaW50ZXJwcmV0IGNvbG9yIGFyZ3VtZW50c1wiO3RoaXMuX19zdGF0ZS5hPXRoaXMuX19zdGF0ZS5hfHwxfTtyZXR1cm4gbC5DT01QT05FTlRTPVwicixnLGIsaCxzLHYsaGV4LGFcIi5zcGxpdChcIixcIiksby5leHRlbmQobC5wcm90b3R5cGUse3RvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIG4odGhpcyl9LHRvT3JpZ2luYWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fX3N0YXRlLmNvbnZlcnNpb24ud3JpdGUodGhpcyl9fSksaShsLnByb3RvdHlwZSxcInJcIiwyKSxpKGwucHJvdG90eXBlLFwiZ1wiLDEpLGkobC5wcm90b3R5cGUsXCJiXCIsMCkscihsLnByb3RvdHlwZSxcImhcIikscihsLnByb3RvdHlwZSxcInNcIikscihsLnByb3RvdHlwZSxcInZcIiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGwucHJvdG90eXBlLFwiYVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fX3N0YXRlLmF9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9fc3RhdGUuYT1lfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShsLnByb3RvdHlwZSxcImhleFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cIkhFWFwiIT09IXRoaXMuX19zdGF0ZS5zcGFjZSYmKHRoaXMuX19zdGF0ZS5oZXg9dC5yZ2JfdG9faGV4KHRoaXMucix0aGlzLmcsdGhpcy5iKSksdGhpcy5fX3N0YXRlLmhleH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX19zdGF0ZS5zcGFjZT1cIkhFWFwiLHRoaXMuX19zdGF0ZS5oZXg9ZX19KSxsfShyLmNvbG9yLmludGVycHJldCxyLmNvbG9yLm1hdGg9ZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm57aHN2X3RvX3JnYjpmdW5jdGlvbihlLHQsbil7dmFyIG89ZS82MC1NYXRoLmZsb29yKGUvNjApLGk9biooMS10KSxyPW4qKDEtbyp0KSx0PW4qKDEtKDEtbykqdCksZT1bW24sdCxpXSxbcixuLGldLFtpLG4sdF0sW2kscixuXSxbdCxpLG5dLFtuLGkscl1dW01hdGguZmxvb3IoZS82MCklNl07cmV0dXJue3I6MjU1KmVbMF0sZzoyNTUqZVsxXSxiOjI1NSplWzJdfX0scmdiX3RvX2hzdjpmdW5jdGlvbihlLHQsbil7dmFyIG89TWF0aC5taW4oZSx0LG4pLGk9TWF0aC5tYXgoZSx0LG4pLG89aS1vO3JldHVybiAwPT1pP3toOjAvMCxzOjAsdjowfTooZT1lPT1pPyh0LW4pL286dD09aT8yKyhuLWUpL286NCsoZS10KS9vLGUvPTYsMD5lJiYoZSs9MSkse2g6MzYwKmUsczpvL2ksdjppLzI1NX0pfSxyZ2JfdG9faGV4OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZT10aGlzLmhleF93aXRoX2NvbXBvbmVudCgwLDIsZSksZT10aGlzLmhleF93aXRoX2NvbXBvbmVudChlLDEsdCksZT10aGlzLmhleF93aXRoX2NvbXBvbmVudChlLDAsbil9LGNvbXBvbmVudF9mcm9tX2hleDpmdW5jdGlvbihlLHQpe3JldHVybiBlPj44KnQmMjU1fSxoZXhfd2l0aF9jb21wb25lbnQ6ZnVuY3Rpb24odCxuLG8pe3JldHVybiBvPDwoZT04Km4pfHQmfigyNTU8PGUpfX19KCksci5jb2xvci50b1N0cmluZyxyLnV0aWxzLmNvbW1vbiksci5jb2xvci5pbnRlcnByZXQsci51dGlscy5jb21tb24pLHIudXRpbHMucmVxdWVzdEFuaW1hdGlvbkZyYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKGUpe3dpbmRvdy5zZXRUaW1lb3V0KGUsMWUzLzYwKX19KCksci5kb20uQ2VudGVyZWREaXY9ZnVuY3Rpb24oZSx0KXt2YXIgbj1mdW5jdGlvbigpe3RoaXMuYmFja2dyb3VuZEVsZW1lbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0LmV4dGVuZCh0aGlzLmJhY2tncm91bmRFbGVtZW50LnN0eWxlLHtiYWNrZ3JvdW5kQ29sb3I6XCJyZ2JhKDAsMCwwLDAuOClcIix0b3A6MCxsZWZ0OjAsZGlzcGxheTpcIm5vbmVcIix6SW5kZXg6XCIxMDAwXCIsb3BhY2l0eTowLFdlYmtpdFRyYW5zaXRpb246XCJvcGFjaXR5IDAuMnMgbGluZWFyXCJ9KSxlLm1ha2VGdWxsc2NyZWVuKHRoaXMuYmFja2dyb3VuZEVsZW1lbnQpLHRoaXMuYmFja2dyb3VuZEVsZW1lbnQuc3R5bGUucG9zaXRpb249XCJmaXhlZFwiLHRoaXMuZG9tRWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHQuZXh0ZW5kKHRoaXMuZG9tRWxlbWVudC5zdHlsZSx7cG9zaXRpb246XCJmaXhlZFwiLGRpc3BsYXk6XCJub25lXCIsekluZGV4OlwiMTAwMVwiLG9wYWNpdHk6MCxXZWJraXRUcmFuc2l0aW9uOlwiLXdlYmtpdC10cmFuc2Zvcm0gMC4ycyBlYXNlLW91dCwgb3BhY2l0eSAwLjJzIGxpbmVhclwifSksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmJhY2tncm91bmRFbGVtZW50KSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZG9tRWxlbWVudCk7dmFyIG49dGhpcztlLmJpbmQodGhpcy5iYWNrZ3JvdW5kRWxlbWVudCxcImNsaWNrXCIsZnVuY3Rpb24oKXtuLmhpZGUoKX0pfTtyZXR1cm4gbi5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5iYWNrZ3JvdW5kRWxlbWVudC5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIix0aGlzLmRvbUVsZW1lbnQuc3R5bGUuZGlzcGxheT1cImJsb2NrXCIsdGhpcy5kb21FbGVtZW50LnN0eWxlLm9wYWNpdHk9MCx0aGlzLmRvbUVsZW1lbnQuc3R5bGUud2Via2l0VHJhbnNmb3JtPVwic2NhbGUoMS4xKVwiLHRoaXMubGF5b3V0KCksdC5kZWZlcihmdW5jdGlvbigpe2UuYmFja2dyb3VuZEVsZW1lbnQuc3R5bGUub3BhY2l0eT0xLGUuZG9tRWxlbWVudC5zdHlsZS5vcGFjaXR5PTEsZS5kb21FbGVtZW50LnN0eWxlLndlYmtpdFRyYW5zZm9ybT1cInNjYWxlKDEpXCJ9KX0sbi5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMsbj1mdW5jdGlvbigpe3QuZG9tRWxlbWVudC5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLHQuYmFja2dyb3VuZEVsZW1lbnQuc3R5bGUuZGlzcGxheT1cIm5vbmVcIixlLnVuYmluZCh0LmRvbUVsZW1lbnQsXCJ3ZWJraXRUcmFuc2l0aW9uRW5kXCIsbiksZS51bmJpbmQodC5kb21FbGVtZW50LFwidHJhbnNpdGlvbmVuZFwiLG4pLGUudW5iaW5kKHQuZG9tRWxlbWVudCxcIm9UcmFuc2l0aW9uRW5kXCIsbil9O2UuYmluZCh0aGlzLmRvbUVsZW1lbnQsXCJ3ZWJraXRUcmFuc2l0aW9uRW5kXCIsbiksZS5iaW5kKHRoaXMuZG9tRWxlbWVudCxcInRyYW5zaXRpb25lbmRcIixuKSxlLmJpbmQodGhpcy5kb21FbGVtZW50LFwib1RyYW5zaXRpb25FbmRcIixuKSx0aGlzLmJhY2tncm91bmRFbGVtZW50LnN0eWxlLm9wYWNpdHk9MCx0aGlzLmRvbUVsZW1lbnQuc3R5bGUub3BhY2l0eT0wLHRoaXMuZG9tRWxlbWVudC5zdHlsZS53ZWJraXRUcmFuc2Zvcm09XCJzY2FsZSgxLjEpXCJ9LG4ucHJvdG90eXBlLmxheW91dD1mdW5jdGlvbigpe3RoaXMuZG9tRWxlbWVudC5zdHlsZS5sZWZ0PXdpbmRvdy5pbm5lcldpZHRoLzItZS5nZXRXaWR0aCh0aGlzLmRvbUVsZW1lbnQpLzIrXCJweFwiLHRoaXMuZG9tRWxlbWVudC5zdHlsZS50b3A9d2luZG93LmlubmVySGVpZ2h0LzItZS5nZXRIZWlnaHQodGhpcy5kb21FbGVtZW50KS8yK1wicHhcIn0sbn0oci5kb20uZG9tLHIudXRpbHMuY29tbW9uKSxyLmRvbS5kb20sci51dGlscy5jb21tb24pLGkoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHI/cjp3aW5kb3cuZGF0KX0uY2FsbChnbG9iYWwsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKGUpe21vZHVsZS5leHBvcnRzPWV9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXQzLm1hcC5qc29uXG59KS5jYWxsKHRoaXMsdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KSIsIihmdW5jdGlvbiAoZ2xvYmFsKXtcbl9fYnJvd3NlcmlmeV9zaGltX3JlcXVpcmVfXz1yZXF1aXJlLGZ1bmN0aW9uKGUsdCxuLGksZCl7dmFyIGE9ZnVuY3Rpb24oKXt2YXIgZT1EYXRlLm5vdygpLHQ9ZSxuPTAsaT0xLzAsZD0wLGE9MCxvPTEvMCxsPTAscz0wLHI9MCxjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Yy5pZD1cInN0YXRzXCIsYy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLHkoKytyJTIpfSwhMSksYy5zdHlsZS5jc3NUZXh0PVwid2lkdGg6ODBweDtvcGFjaXR5OjAuOTtjdXJzb3I6cG9pbnRlclwiO3ZhciBwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cC5pZD1cImZwc1wiLHAuc3R5bGUuY3NzVGV4dD1cInBhZGRpbmc6MCAwIDNweCAzcHg7dGV4dC1hbGlnbjpsZWZ0O2JhY2tncm91bmQtY29sb3I6IzAwMlwiLGMuYXBwZW5kQ2hpbGQocCk7dmFyIGg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtoLmlkPVwiZnBzVGV4dFwiLGguc3R5bGUuY3NzVGV4dD1cImNvbG9yOiMwZmY7Zm9udC1mYW1pbHk6SGVsdmV0aWNhLEFyaWFsLHNhbnMtc2VyaWY7Zm9udC1zaXplOjlweDtmb250LXdlaWdodDpib2xkO2xpbmUtaGVpZ2h0OjE1cHhcIixoLmlubmVySFRNTD1cIkZQU1wiLHAuYXBwZW5kQ2hpbGQoaCk7dmFyIGY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtmb3IoZi5pZD1cImZwc0dyYXBoXCIsZi5zdHlsZS5jc3NUZXh0PVwicG9zaXRpb246cmVsYXRpdmU7d2lkdGg6NzRweDtoZWlnaHQ6MzBweDtiYWNrZ3JvdW5kLWNvbG9yOiMwZmZcIixwLmFwcGVuZENoaWxkKGYpOzc0PmYuY2hpbGRyZW4ubGVuZ3RoOyl7dmFyIHg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7eC5zdHlsZS5jc3NUZXh0PVwid2lkdGg6MXB4O2hlaWdodDozMHB4O2Zsb2F0OmxlZnQ7YmFja2dyb3VuZC1jb2xvcjojMTEzXCIsZi5hcHBlbmRDaGlsZCh4KX12YXIgbT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO20uaWQ9XCJtc1wiLG0uc3R5bGUuY3NzVGV4dD1cInBhZGRpbmc6MCAwIDNweCAzcHg7dGV4dC1hbGlnbjpsZWZ0O2JhY2tncm91bmQtY29sb3I6IzAyMDtkaXNwbGF5Om5vbmVcIixjLmFwcGVuZENoaWxkKG0pO3ZhciB1PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dS5pZD1cIm1zVGV4dFwiLHUuc3R5bGUuY3NzVGV4dD1cImNvbG9yOiMwZjA7Zm9udC1mYW1pbHk6SGVsdmV0aWNhLEFyaWFsLHNhbnMtc2VyaWY7Zm9udC1zaXplOjlweDtmb250LXdlaWdodDpib2xkO2xpbmUtaGVpZ2h0OjE1cHhcIix1LmlubmVySFRNTD1cIk1TXCIsbS5hcHBlbmRDaGlsZCh1KTt2YXIgdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2Zvcih2LmlkPVwibXNHcmFwaFwiLHYuc3R5bGUuY3NzVGV4dD1cInBvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjc0cHg7aGVpZ2h0OjMwcHg7YmFja2dyb3VuZC1jb2xvcjojMGYwXCIsbS5hcHBlbmRDaGlsZCh2KTs3ND52LmNoaWxkcmVuLmxlbmd0aDspeD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKSx4LnN0eWxlLmNzc1RleHQ9XCJ3aWR0aDoxcHg7aGVpZ2h0OjMwcHg7ZmxvYXQ6bGVmdDtiYWNrZ3JvdW5kLWNvbG9yOiMxMzFcIix2LmFwcGVuZENoaWxkKHgpO3ZhciB5PWZ1bmN0aW9uKGUpe3N3aXRjaChyPWUpe2Nhc2UgMDpwLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiLG0uc3R5bGUuZGlzcGxheT1cIm5vbmVcIjticmVhaztjYXNlIDE6cC5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLG0uc3R5bGUuZGlzcGxheT1cImJsb2NrXCJ9fTtyZXR1cm57UkVWSVNJT046MTEsZG9tRWxlbWVudDpjLHNldE1vZGU6eSxiZWdpbjpmdW5jdGlvbigpe2U9RGF0ZS5ub3coKX0sZW5kOmZ1bmN0aW9uKCl7dmFyIHI9RGF0ZS5ub3coKTtuPXItZSxpPU1hdGgubWluKGksbiksZD1NYXRoLm1heChkLG4pLHUudGV4dENvbnRlbnQ9bitcIiBNUyAoXCIraStcIi1cIitkK1wiKVwiO3ZhciBjPU1hdGgubWluKDMwLDMwLTMwKihuLzIwMCkpO3JldHVybiB2LmFwcGVuZENoaWxkKHYuZmlyc3RDaGlsZCkuc3R5bGUuaGVpZ2h0PWMrXCJweFwiLHMrKyxyPnQrMWUzJiYoYT1NYXRoLnJvdW5kKDFlMypzLyhyLXQpKSxvPU1hdGgubWluKG8sYSksbD1NYXRoLm1heChsLGEpLGgudGV4dENvbnRlbnQ9YStcIiBGUFMgKFwiK28rXCItXCIrbCtcIilcIixjPU1hdGgubWluKDMwLDMwLTMwKihhLzEwMCkpLGYuYXBwZW5kQ2hpbGQoZi5maXJzdENoaWxkKS5zdHlsZS5oZWlnaHQ9YytcInB4XCIsdD1yLHM9MCkscn0sdXBkYXRlOmZ1bmN0aW9uKCl7ZT10aGlzLmVuZCgpfX19O2QoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGE/YTp3aW5kb3cuU3RhdHMpfS5jYWxsKGdsb2JhbCx2b2lkIDAsdm9pZCAwLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oZSl7bW9kdWxlLmV4cG9ydHM9ZX0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dDMubWFwLmpzb25cbn0pLmNhbGwodGhpcyx0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pIiwiKGZ1bmN0aW9uIChnbG9iYWwpe1xudmFyIF89cmVxdWlyZShcImxvZGFzaFwiKSxUSFJFRT1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdy5USFJFRTpcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbC5USFJFRTpudWxsLENvb3JkaW5hdGVzPWZ1bmN0aW9uKGUsaSl7ZT1lfHx7fSx0aGlzLm1lc2g9bmV3IFRIUkVFLk9iamVjdDNELHRoaXMuYXhlcz17bmFtZTpcIkF4ZXNcIixtZXNoOnRoaXMuZHJhd0FsbEF4ZXMoe2F4aXNMZW5ndGg6MTAwLGF4aXNSYWRpdXM6MSxheGlzVGVzczo1MH0pLHZpc2libGU6dm9pZCAwIT09ZS5heGVzP2UuYXhlczohMH0sdGhpcy5ncm91bmQ9e25hbWU6XCJHcm91bmRcIixtZXNoOnRoaXMuZHJhd0dyb3VuZCh7c2l6ZToxZTUsY29sb3I6aS5ncm91bmRDb2xvcn0pLHZpc2libGU6dm9pZCAwIT09ZS5ncm91bmQ/ZS5ncm91bmQ6ITB9LHRoaXMuZ3JpZFg9e25hbWU6XCJYWiBncmlkXCIsbWVzaDp0aGlzLmRyYXdHcmlkKHtzaXplOjFlNCxzY2FsZTouMDF9KSx2aXNpYmxlOnZvaWQgMCE9PWUuZ3JpZFg/ZS5ncmlkWDohMH0sdGhpcy5ncmlkWT17bmFtZTpcIllaIGdyaWRcIixtZXNoOnRoaXMuZHJhd0dyaWQoe3NpemU6MWU0LHNjYWxlOi4wMSxvcmllbnRhdGlvbjpcInlcIn0pLHZpc2libGU6dm9pZCAwIT09ZS5ncmlkWT9lLmdyaWRZOiExfSx0aGlzLmdyaWRaPXtuYW1lOlwiWFkgZ3JpZFwiLG1lc2g6dGhpcy5kcmF3R3JpZCh7c2l6ZToxZTQsc2NhbGU6LjAxLG9yaWVudGF0aW9uOlwielwifSksdmlzaWJsZTp2b2lkIDAhPT1lLmdyaWRaP2UuZ3JpZFo6ITF9LENvb3JkaW5hdGVzLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyxlKX07Xy5tZXJnZShDb29yZGluYXRlcy5wcm90b3R5cGUse2luaXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBfLmZvck93bihlLGZ1bmN0aW9uKGkpe2kubWVzaCYmKGUubWVzaC5hZGQoaS5tZXNoKSxpLm1lc2gudmlzaWJsZT1pLnZpc2libGUpfSksZX0saW5pdERhdEd1aTpmdW5jdGlvbihlKXt2YXIgaSxvPXRoaXM7cmV0dXJuIGk9ZS5hZGRGb2xkZXIoXCJTY2VuZSBoZWxwZXJzXCIpLF8uZm9yT3duKG8sZnVuY3Rpb24oZSl7ZS5oYXNPd25Qcm9wZXJ0eShcIm1lc2hcIikmJmkuYWRkKGUsXCJ2aXNpYmxlXCIpLm5hbWUoZS5uYW1lKS5vbkZpbmlzaENoYW5nZShmdW5jdGlvbihpKXtlLm1lc2gudmlzaWJsZT1pfSl9KSxvfSxkcmF3R3JpZDpmdW5jdGlvbihlKXtlPWV8fHt9O3ZhciBpPXZvaWQgMCE9PWUuc2l6ZT9lLnNpemU6MTAwLG89dm9pZCAwIT09ZS5zY2FsZT9lLnNjYWxlOi4xLG49dm9pZCAwIT09ZS5jb2xvcj9lLmNvbG9yOlwiIzUwNTA1MFwiLHQ9dm9pZCAwIT09ZS5vcmllbnRhdGlvbj9lLm9yaWVudGF0aW9uOlwieFwiLHM9bmV3IFRIUkVFLk1lc2gobmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoaSxpLGkqbyxpKm8pLG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7Y29sb3I6bix3aXJlZnJhbWU6ITB9KSk7cmV0dXJuXCJ4XCI9PT10P3Mucm90YXRpb24ueD0tTWF0aC5QSS8yOlwieVwiPT09dD9zLnJvdGF0aW9uLnk9LU1hdGguUEkvMjpcInpcIj09PXQmJihzLnJvdGF0aW9uLno9LU1hdGguUEkvMiksc30sZHJhd0dyb3VuZDpmdW5jdGlvbihlKXtlPWV8fHt9O3ZhciBpPXZvaWQgMCE9PWUuc2l6ZT9lLnNpemU6MTAwLG89dm9pZCAwIT09ZS5jb2xvcj9lLmNvbG9yOjAsbj12b2lkIDAhPT1lLm9mZnNldD9lLm9mZnNldDotLjIsdD1uZXcgVEhSRUUuTWVzaChuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeShpLGkpLG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7Y29sb3I6b30pKTtyZXR1cm4gdC5yb3RhdGlvbi54PS1NYXRoLlBJLzIsdC5wb3NpdGlvbi55PW4sdH0sZHJhd0F4ZXM6ZnVuY3Rpb24oZSl7ZT1lfHx7fTt2YXIgaT12b2lkIDAhPT1lLmF4aXNSYWRpdXM/ZS5heGlzUmFkaXVzOi4wNCxvPXZvaWQgMCE9PWUuYXhpc0xlbmd0aD9lLmF4aXNMZW5ndGg6MTEsbj12b2lkIDAhPT1lLmF4aXNUZXNzP2UuYXhpc1Rlc3M6NDgsdD12b2lkIDAhPT1lLmF4aXNPcmllbnRhdGlvbj9lLmF4aXNPcmllbnRhdGlvbjpcInhcIixzPW5ldyBUSFJFRS5PYmplY3QzRCxyPW5ldyBUSFJFRS5NZXNoTGFtYmVydE1hdGVyaWFsKHtjb2xvcjowLHNpZGU6VEhSRUUuRG91YmxlU2lkZX0pLGE9bmV3IFRIUkVFLk1lc2gobmV3IFRIUkVFLkN5bGluZGVyR2VvbWV0cnkoaSxpLG8sbiwxLCEwKSxyKTtcInhcIj09PXQ/KGEucm90YXRpb24uej0tTWF0aC5QSS8yLGEucG9zaXRpb24ueD1vLzItMSk6XCJ5XCI9PT10JiYoYS5wb3NpdGlvbi55PW8vMi0xKSxzLmFkZChhKTt2YXIgZD1uZXcgVEhSRUUuTWVzaChuZXcgVEhSRUUuQ3lsaW5kZXJHZW9tZXRyeSgwLDQqaSw4KmksbiwxLCEwKSxyKTtyZXR1cm5cInhcIj09PXQ/KGQucm90YXRpb24uej0tTWF0aC5QSS8yLGQucG9zaXRpb24ueD1vLTErNCppLzIpOlwieVwiPT09dCYmKGQucG9zaXRpb24ueT1vLTErNCppLzIpLHMuYWRkKGQpLHN9LGRyYXdBbGxBeGVzOmZ1bmN0aW9uKGUpe2U9ZXx8e307dmFyIGk9dm9pZCAwIT09ZS5heGlzUmFkaXVzP2UuYXhpc1JhZGl1czouMDQsbz12b2lkIDAhPT1lLmF4aXNMZW5ndGg/ZS5heGlzTGVuZ3RoOjExLG49dm9pZCAwIT09ZS5heGlzVGVzcz9lLmF4aXNUZXNzOjQ4LHQ9bmV3IFRIUkVFLk9iamVjdDNELHM9bmV3IFRIUkVFLk1lc2hMYW1iZXJ0TWF0ZXJpYWwoe2NvbG9yOjE2NzExNjgwfSkscj1uZXcgVEhSRUUuTWVzaExhbWJlcnRNYXRlcmlhbCh7Y29sb3I6NjUyODB9KSxhPW5ldyBUSFJFRS5NZXNoTGFtYmVydE1hdGVyaWFsKHtjb2xvcjoyNTV9KTtzLnNpZGU9VEhSRUUuRG91YmxlU2lkZSxyLnNpZGU9VEhSRUUuRG91YmxlU2lkZSxhLnNpZGU9VEhSRUUuRG91YmxlU2lkZTt2YXIgZD1uZXcgVEhSRUUuTWVzaChuZXcgVEhSRUUuQ3lsaW5kZXJHZW9tZXRyeShpLGksbyxuLDEsITApLHMpLEU9bmV3IFRIUkVFLk1lc2gobmV3IFRIUkVFLkN5bGluZGVyR2VvbWV0cnkoaSxpLG8sbiwxLCEwKSxyKSxoPW5ldyBUSFJFRS5NZXNoKG5ldyBUSFJFRS5DeWxpbmRlckdlb21ldHJ5KGksaSxvLG4sMSwhMCksYSk7ZC5yb3RhdGlvbi56PS1NYXRoLlBJLzIsZC5wb3NpdGlvbi54PW8vMi0xLEUucG9zaXRpb24ueT1vLzItMSxoLnJvdGF0aW9uLnk9LU1hdGguUEkvMixoLnJvdGF0aW9uLno9LU1hdGguUEkvMixoLnBvc2l0aW9uLno9by8yLTEsdC5hZGQoZCksdC5hZGQoRSksdC5hZGQoaCk7dmFyIGw9bmV3IFRIUkVFLk1lc2gobmV3IFRIUkVFLkN5bGluZGVyR2VvbWV0cnkoMCw0KmksNCppLG4sMSwhMCkscyksdz1uZXcgVEhSRUUuTWVzaChuZXcgVEhSRUUuQ3lsaW5kZXJHZW9tZXRyeSgwLDQqaSw0KmksbiwxLCEwKSxyKSxSPW5ldyBUSFJFRS5NZXNoKG5ldyBUSFJFRS5DeWxpbmRlckdlb21ldHJ5KDAsNCppLDQqaSxuLDEsITApLGEpO3JldHVybiBsLnJvdGF0aW9uLno9LU1hdGguUEkvMixsLnBvc2l0aW9uLng9by0xKzQqaS8yLHcucG9zaXRpb24ueT1vLTErNCppLzIsUi5yb3RhdGlvbi56PS1NYXRoLlBJLzIsUi5yb3RhdGlvbi55PS1NYXRoLlBJLzIsUi5wb3NpdGlvbi56PW8tMSs0KmkvMix0LmFkZChsKSx0LmFkZCh3KSx0LmFkZChSKSx0fX0pLG1vZHVsZS5leHBvcnRzPUNvb3JkaW5hdGVzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dDMubWFwLmpzb25cbn0pLmNhbGwodGhpcyx0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pIiwibW9kdWxlLmV4cG9ydHM9e2NsZWFyQ29sb3I6NTg1NTU3Nyxmb2dDb2xvcjo1ODU1NTc3LGdyb3VuZENvbG9yOjM3NTAyMDF9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dDMubWFwLmpzb24iLCJtb2R1bGUuZXhwb3J0cz17Y2xlYXJDb2xvcjoxNTkyNDQ3OSxmb2dDb2xvcjoxNTkyNDQ3OSxncm91bmRDb2xvcjoxNTY1ODczNH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10My5tYXAuanNvbiIsInZhciBfPXJlcXVpcmUoXCJsb2Rhc2hcIiksaGlkZGVuPVwiX19oYXNoa2V5X19cIjttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgZD1lO3JldHVybiFlfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZcIm9iamVjdFwiIT10eXBlb2YgZXx8KGUuaGFzT3duUHJvcGVydHkoaGlkZGVuKXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaGlkZGVuLHt2YWx1ZTpfLnVuaXF1ZUlkKCl9KSxkPWVbaGlkZGVuXSksdHlwZW9mIGUrXCItXCIrZH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10My5tYXAuanNvbiJdfQ==
(5)
});
