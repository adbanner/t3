{"version":3,"file":"bundle.js","sources":["/Users/mauricio/Documents/web/maurizzzio.me/T3/node_modules/browserify/node_modules/browser-pack/_prelude.js","/Users/mauricio/Documents/web/maurizzzio.me/T3/src/index.js","/Users/mauricio/Documents/web/maurizzzio.me/T3/src/lib/OrbitControls.js","/Users/mauricio/Documents/web/maurizzzio.me/T3/src/controller/Application.js","/Users/mauricio/Documents/web/maurizzzio.me/T3/src/model/Coordinates.js","/Users/mauricio/Documents/web/maurizzzio.me/T3/src/themes/dark.js","/Users/mauricio/Documents/web/maurizzzio.me/T3/src/themes/light.js","/Users/mauricio/Documents/web/maurizzzio.me/T3/src/controller/Keyboard.js","/Users/mauricio/Documents/web/maurizzzio.me/T3/src/controller/LoopManager.js","/Users/mauricio/Documents/web/maurizzzio.me/T3/src/lib/stats.min.js","/Users/mauricio/Documents/web/maurizzzio.me/T3/src/lib/dat.gui.min.js","/Users/mauricio/Documents/web/maurizzzio.me/T3/src/lib/THREEx/index.js","/Users/mauricio/Documents/web/maurizzzio.me/T3/node_modules/object-merge/src/object-merge.js","/Users/mauricio/Documents/web/maurizzzio.me/T3/src/lib/THREEx/WindowResize.js","/Users/mauricio/Documents/web/maurizzzio.me/T3/src/lib/THREEx/FullScreen.js","/Users/mauricio/Documents/web/maurizzzio.me/T3/node_modules/object-merge/node_modules/clone-function/src/clone-function.js","/Users/mauricio/Documents/web/maurizzzio.me/T3/node_modules/object-merge/node_modules/object-foreach/src/object-foreach.js"],"names":["require","Application","t3","model","Coordinates","themes","dark","light","controller","Keyboard","LoopManager","run","module","exports","THREE","OrbitControls","object","domElement","getAutoRotationAngle","Math","PI","scope","autoRotateSpeed","getZoomScale","pow","zoomSpeed","onMouseDown","event","enabled","preventDefault","button","noRotate","state","STATE","ROTATE","rotateStart","set","clientX","clientY","noZoom","DOLLY","dollyStart","noPan","PAN","panStart","document","addEventListener","onMouseMove","onMouseUp","dispatchEvent","startEvent","element","body","rotateEnd","rotateDelta","subVectors","rotateLeft","x","clientWidth","rotateSpeed","rotateUp","y","clientHeight","copy","dollyEnd","dollyDelta","dollyIn","dollyOut","panEnd","panDelta","pan","update","removeEventListener","endEvent","NONE","onMouseWheel","stopPropagation","delta","undefined","wheelDelta","detail","onKeyDown","noKeys","keyCode","keys","UP","keyPanSpeed","BOTTOM","LEFT","RIGHT","touchstart","touches","length","TOUCH_ROTATE","pageX","pageY","TOUCH_DOLLY","dx","dy","distance","sqrt","TOUCH_PAN","touchmove","touchend","this","target","Vector3","center","minDistance","maxDistance","Infinity","autoRotate","minPolarAngle","maxPolarAngle","EPS","Vector2","panOffset","offset","phiDelta","thetaDelta","scale","lastPosition","lastQuaternion","Quaternion","target0","clone","position0","position","quat","setFromUnitVectors","up","quatInverse","inverse","changeEvent","type","angle","panLeft","te","matrix","elements","multiplyScalar","add","panUp","deltaX","deltaY","fov","sub","targetDistance","tan","top","right","left","bottom","console","warn","dollyScale","applyQuaternion","theta","atan2","z","phi","max","min","radius","sin","cos","lookAt","distanceToSquared","dot","quaternion","reset","window","prototype","Object","create","EventDispatcher","config","objectMerge","selector","width","innerWidth","height","innerHeight","renderImmediately","injectCache","fullScreen","theme","ambientConfig","defaultSceneConfig","fog","initialConfig","scenes","activeScene","cameras","activeCamera","renderer","keyboard","datgui","stats","loopManager","__t3cache__","initApplication","call","assert","condition","message","emptyFn","Stats","dat","global","THREEx","getConfig","me","setTheme","createDefaultRenderer","createDefaultScene","createDefaultCamera","createDefaultLights","initDatGui","initStats","initMask","maskVisible","initFullScreen","initKeyboard","initCoordinates","gameLoop","setActiveScene","key","addScene","scene","Scene","defaultScene","Fog","fogColor","WebGLRenderer","setClearColor","clearColor","setSize","querySelector","appendChild","setActiveCamera","addCamera","camera","PerspectiveCamera","OrthographicCamera","defaultCamera","defaults","ratio","near","far","WindowResize","bind","createCameraControls","cameraControls","AmbientLight","cache","DirectionalLight","name","mask","createElement","className","style","background","v","display","gui","GUI","autoPlace","zIndex","FullScreen","available","bindKey","mesh","animate","render","inject","lastObject","lastMethod","Object3D","remove","apply","arguments","getFromCache","options","init","QuickLaunch","axes","drawAllAxes","axisLength","axisRadius","axisTess","visible","ground","drawGround","size","color","groundColor","gridX","drawGrid","gridY","orientation","gridZ","hasOwnProperty","folder","addFolder","onFinishChange","newValue","params","grid","Mesh","PlaneGeometry","MeshBasicMaterial","wireframe","rotation","drawAxes","axisOrientation","wrap","axisMaterial","MeshLambertMaterial","side","DoubleSide","axis","CylinderGeometry","arrow","axisXMaterial","axisYMaterial","axisZMaterial","axisX","axisY","axisZ","arrowX","arrowY","arrowZ","i","onKeyUp","get","charCodeAt","value","application","clock","Clock","pause","fps","guiControllers","paused","loop","elapsedTime","getDelta","frameRateInS","requestAnimationFrame","start","setValue","stop","__browserify_shim_require__","define","browserify_shim__define__module__export__","l","Date","now","m","g","n","o","h","p","q","r","s","f","id","b","t","cssText","a","innerHTML","c","children","j","d","k","e","REVISION","setMode","begin","end","textContent","firstChild","round","ex","utils","controllers","dom","css","load","rel","href","getElementsByTagName","common","Array","forEach","slice","BREAK","extend","each","isUndefined","compose","defer","setTimeout","toArray","isNull","isNaN","isArray","constructor","isObject","isNumber","isString","isBoolean","isFunction","toString","Controller","initialValue","property","__onFinishChange","__onChange","onChange","updateDisplay","getValue","isModified","match","parseFloat","HTMLEvents","MouseEvents","KeyboardEvents","makeSelectable","onselectstart","MozUserSelect","KhtmlUserSelect","unselectable","makeFullscreen","fakeEvent","Error","createEvent","initMouseEvent","bubbles","cancelable","clickCount","initKeyboardEvent","initKeyEvent","ctrlKey","altKey","shiftKey","metaKey","charCode","initEvent","attachEvent","unbind","detachEvent","addClass","split","indexOf","push","join","replace","removeClass","removeAttribute","splice","hasClass","RegExp","test","getWidth","getComputedStyle","getHeight","getOffset","offsetParent","offsetLeft","offsetTop","isActive","activeElement","OptionController","superclass","__select","setAttribute","selectedIndex","NumberController","__min","__max","__step","step","__impliedStep","floor","log","LN10","__precision","NumberControllerBox","__input","__truncationSuspended","blur","NumberControllerSlider","__background","__foreground","useDefaultStyles","FunctionController","__button","fire","BooleanController","__prev","__checkbox","checked","hex","interpret","litmus","conversions","THREE_CHAR_HEX","read","space","parseInt","write","SIX_CHAR_HEX","CSS_RGB","CSS_RGBA","HEX","conversionName","RGB_ARRAY","RGBA_ARRAY","RGBA_OBJ","RGB_OBJ","HSVA_OBJ","HSV_OBJ","conversion","concat","factoryArgs","before","__li","CLASS_CONTROLLER_ROW","__controllers","__ul","insertBefore","onResize","__gui","nextElementSibling","firstElementChild","listen","H","borderLeftColor","__color","getRoot","__preset_select","B","__rememberedObjects","__rememberedObjectIndecesToControllers","remembered","preset","w","I","__save_row","C","u","getElementById","localStorage","getItem","location","useLocalStorage","which","hide","JSON","stringify","getSaveObject","show","focus","select","save","prompt","saveAs","revert","J","__closeButton","CLASS_DRAG","__resize_handle","marginLeft","cursor","D","E","K","F","A","G","setItem","__folders","__listening","DEFAULT_WIDTH","resizable","hideable","parent","scrollable","defineProperties","closed","CLASS_CLOSED","TEXT_OPEN","TEXT_CLOSED","CLASS_MAIN","parse","CLASS_CLOSE_BUTTON","createTextNode","CLASS_AUTO_PLACE_CONTAINER","CLASS_AUTO_PLACE","toggleHide","opacity","CLASS_TOO_TALL","addColor","removeChild","destroy","folders","open","close","childNodes","offsetHeight","remember","factory","StringController","ColorController","__state","toOriginal","__saturation_field","scrollLeft","scrollTop","__hue_field","__temp","__selector","__field_knob","__field_knob_border","__hue_knob","__input_textShadow","padding","backgroundColor","boxShadow","border","borderRadius","borderRight","marginRight","outline","textAlign","fontWeight","textShadow","COMPONENTS","marginTop","Color","defineProperty","component_from_hex","hsv_to_rgb","rgb_to_hsv","rgb_to_hex","math","NaN","hex_with_component","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","CenteredDiv","backgroundElement","WebkitTransition","webkitTransform","layout","ObjectMergeOptions","opts","depth","throwOnCircularRef","createOptions","argz","unshift","shadows","getShadowObjects","out","reduce","collector","shadow","getOutputObject","lastShadow","Function","cloneFunction","circularReferenceCheck","item","visited","objectMergeRecursor","currentDepth","shadowHandler","val","prop","shadowMerger","objectForeach","relevantShadows","windowResize","callback","aspect","updateProjectionMatrix","_hasWebkitFullScreen","_hasMozFullScreen","activated","webkitIsFullScreen","mozFullScreen","request","webkitRequestFullScreen","Element","ALLOW_KEYBOARD_INPUT","mozRequestFullScreen","cancel","webkitCancelFullScreen","mozCancelFullScreen","dblclick","toggle","__bind","fn","onKeyPress","func","str","eval","obj"],"mappings":"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","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error(\"Cannot find module '\"+o+\"'\")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","require('./lib/OrbitControls');\n\n/**\n * t3\n * @namespace\n * @type {Object}\n */\nvar Application = require('./controller/Application');\nvar t3 = {\n  model: {\n    Coordinates: require('./model/Coordinates'),\n  },\n  themes: {\n    dark: require('./themes/dark'),\n    light: require('./themes/light')\n  },\n  controller: {\n    Application: Application,\n    Keyboard: require('./controller/Keyboard'),\n    LoopManager: require('./controller/LoopManager')\n  },\n  Application: Application,\n\n  // alias\n  run: Application.run\n};\nmodule.exports = t3;","/**\n * @author qiao / https://github.com/qiao\n * @author mrdoob / http://mrdoob.com\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author erich666 / http://erichaines.com\n */\n/*global THREE, console */\n\n// This set of controls performs orbiting, dollying (zooming), and panning. It maintains\n// the \"up\" direction as +Y, unlike the TrackballControls. Touch on tablet and phones is\n// supported.\n//\n//    Orbit - left mouse / touch: one finger move\n//    Zoom - middle mouse, or mousewheel / touch: two finger spread or squish\n//    Pan - right mouse, or arrow keys / touch: three finter swipe\n//\n// This is a drop-in replacement for (most) TrackballControls used in examples.\n// That is, include this js file and wherever you see:\n//    \tcontrols = new THREE.TrackballControls( camera );\n//      controls.target.z = 150;\n// Simple substitute \"OrbitControls\" and the control should work as-is.\n\nTHREE.OrbitControls = function ( object, domElement ) {\n\n\tthis.object = object;\n\tthis.domElement = ( domElement !== undefined ) ? domElement : document;\n\n\t// API\n\n\t// Set to false to disable this control\n\tthis.enabled = true;\n\n\t// \"target\" sets the location of focus, where the control orbits around\n\t// and where it pans with respect to.\n\tthis.target = new THREE.Vector3();\n\n\t// center is old, deprecated; use \"target\" instead\n\tthis.center = this.target;\n\n\t// This option actually enables dollying in and out; left as \"zoom\" for\n\t// backwards compatibility\n\tthis.noZoom = false;\n\tthis.zoomSpeed = 1.0;\n\n\t// Limits to how far you can dolly in and out\n\tthis.minDistance = 0;\n\tthis.maxDistance = Infinity;\n\n\t// Set to true to disable this control\n\tthis.noRotate = false;\n\tthis.rotateSpeed = 1.0;\n\n\t// Set to true to disable this control\n\tthis.noPan = false;\n\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n\t// Set to true to automatically rotate around the target\n\tthis.autoRotate = false;\n\tthis.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n\t// How far you can orbit vertically, upper and lower limits.\n\t// Range is 0 to Math.PI radians.\n\tthis.minPolarAngle = 0; // radians\n\tthis.maxPolarAngle = Math.PI; // radians\n\n\t// Set to true to disable use of the keys\n\tthis.noKeys = false;\n\n\t// The four arrow keys\n\tthis.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n\t////////////\n\t// internals\n\n\tvar scope = this;\n\n\tvar EPS = 0.000001;\n\n\tvar rotateStart = new THREE.Vector2();\n\tvar rotateEnd = new THREE.Vector2();\n\tvar rotateDelta = new THREE.Vector2();\n\n\tvar panStart = new THREE.Vector2();\n\tvar panEnd = new THREE.Vector2();\n\tvar panDelta = new THREE.Vector2();\n\tvar panOffset = new THREE.Vector3();\n\n\tvar offset = new THREE.Vector3();\n\n\tvar dollyStart = new THREE.Vector2();\n\tvar dollyEnd = new THREE.Vector2();\n\tvar dollyDelta = new THREE.Vector2();\n\n\tvar phiDelta = 0;\n\tvar thetaDelta = 0;\n\tvar scale = 1;\n\tvar pan = new THREE.Vector3();\n\n\tvar lastPosition = new THREE.Vector3();\n\tvar lastQuaternion = new THREE.Quaternion();\n\n\tvar STATE = { NONE : -1, ROTATE : 0, DOLLY : 1, PAN : 2, TOUCH_ROTATE : 3, TOUCH_DOLLY : 4, TOUCH_PAN : 5 };\n\n\tvar state = STATE.NONE;\n\n\t// for reset\n\n\tthis.target0 = this.target.clone();\n\tthis.position0 = this.object.position.clone();\n\n\t// so camera.up is the orbit axis\n\n\tvar quat = new THREE.Quaternion().setFromUnitVectors( object.up, new THREE.Vector3( 0, 1, 0 ) );\n\tvar quatInverse = quat.clone().inverse();\n\n\t// events\n\n\tvar changeEvent = { type: 'change' };\n\tvar startEvent = { type: 'start'};\n\tvar endEvent = { type: 'end'};\n\n\tthis.rotateLeft = function ( angle ) {\n\n\t\tif ( angle === undefined ) {\n\n\t\t\tangle = getAutoRotationAngle();\n\n\t\t}\n\n\t\tthetaDelta -= angle;\n\n\t};\n\n\tthis.rotateUp = function ( angle ) {\n\n\t\tif ( angle === undefined ) {\n\n\t\t\tangle = getAutoRotationAngle();\n\n\t\t}\n\n\t\tphiDelta -= angle;\n\n\t};\n\n\t// pass in distance in world space to move left\n\tthis.panLeft = function ( distance ) {\n\n\t\tvar te = this.object.matrix.elements;\n\n\t\t// get X column of matrix\n\t\tpanOffset.set( te[ 0 ], te[ 1 ], te[ 2 ] );\n\t\tpanOffset.multiplyScalar( - distance );\n\t\t\n\t\tpan.add( panOffset );\n\n\t};\n\n\t// pass in distance in world space to move up\n\tthis.panUp = function ( distance ) {\n\n\t\tvar te = this.object.matrix.elements;\n\n\t\t// get Y column of matrix\n\t\tpanOffset.set( te[ 4 ], te[ 5 ], te[ 6 ] );\n\t\tpanOffset.multiplyScalar( distance );\n\t\t\n\t\tpan.add( panOffset );\n\n\t};\n\t\n\t// pass in x,y of change desired in pixel space,\n\t// right and down are positive\n\tthis.pan = function ( deltaX, deltaY ) {\n\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\tif ( scope.object.fov !== undefined ) {\n\n\t\t\t// perspective\n\t\t\tvar position = scope.object.position;\n\t\t\tvar offset = position.clone().sub( scope.target );\n\t\t\tvar targetDistance = offset.length();\n\n\t\t\t// half of the fov is center to top of screen\n\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n\t\t\t// we actually don't use screenWidth, since perspective camera is fixed to screen height\n\t\t\tscope.panLeft( 2 * deltaX * targetDistance / element.clientHeight );\n\t\t\tscope.panUp( 2 * deltaY * targetDistance / element.clientHeight );\n\n\t\t} else if ( scope.object.top !== undefined ) {\n\n\t\t\t// orthographic\n\t\t\tscope.panLeft( deltaX * (scope.object.right - scope.object.left) / element.clientWidth );\n\t\t\tscope.panUp( deltaY * (scope.object.top - scope.object.bottom) / element.clientHeight );\n\n\t\t} else {\n\n\t\t\t// camera neither orthographic or perspective\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\n\t\t}\n\n\t};\n\n\tthis.dollyIn = function ( dollyScale ) {\n\n\t\tif ( dollyScale === undefined ) {\n\n\t\t\tdollyScale = getZoomScale();\n\n\t\t}\n\n\t\tscale /= dollyScale;\n\n\t};\n\n\tthis.dollyOut = function ( dollyScale ) {\n\n\t\tif ( dollyScale === undefined ) {\n\n\t\t\tdollyScale = getZoomScale();\n\n\t\t}\n\n\t\tscale *= dollyScale;\n\n\t};\n\n\tthis.update = function () {\n\n\t\tvar position = this.object.position;\n\n\t\toffset.copy( position ).sub( this.target );\n\n\t\t// rotate offset to \"y-axis-is-up\" space\n\t\toffset.applyQuaternion( quat );\n\n\t\t// angle from z-axis around y-axis\n\n\t\tvar theta = Math.atan2( offset.x, offset.z );\n\n\t\t// angle from y-axis\n\n\t\tvar phi = Math.atan2( Math.sqrt( offset.x * offset.x + offset.z * offset.z ), offset.y );\n\n\t\tif ( this.autoRotate ) {\n\n\t\t\tthis.rotateLeft( getAutoRotationAngle() );\n\n\t\t}\n\n\t\ttheta += thetaDelta;\n\t\tphi += phiDelta;\n\n\t\t// restrict phi to be between desired limits\n\t\tphi = Math.max( this.minPolarAngle, Math.min( this.maxPolarAngle, phi ) );\n\n\t\t// restrict phi to be betwee EPS and PI-EPS\n\t\tphi = Math.max( EPS, Math.min( Math.PI - EPS, phi ) );\n\n\t\tvar radius = offset.length() * scale;\n\n\t\t// restrict radius to be between desired limits\n\t\tradius = Math.max( this.minDistance, Math.min( this.maxDistance, radius ) );\n\t\t\n\t\t// move target to panned location\n\t\tthis.target.add( pan );\n\n\t\toffset.x = radius * Math.sin( phi ) * Math.sin( theta );\n\t\toffset.y = radius * Math.cos( phi );\n\t\toffset.z = radius * Math.sin( phi ) * Math.cos( theta );\n\n\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\toffset.applyQuaternion( quatInverse );\n\n\t\tposition.copy( this.target ).add( offset );\n\n\t\tthis.object.lookAt( this.target );\n\n\t\tthetaDelta = 0;\n\t\tphiDelta = 0;\n\t\tscale = 1;\n\t\tpan.set( 0, 0, 0 );\n\n\t\t// update condition is:\n\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n\t\tif ( lastPosition.distanceToSquared( this.object.position ) > EPS\n\t\t    || 8 * (1 - lastQuaternion.dot(this.object.quaternion)) > EPS ) {\n\n\t\t\tthis.dispatchEvent( changeEvent );\n\n\t\t\tlastPosition.copy( this.object.position );\n\t\t\tlastQuaternion.copy (this.object.quaternion );\n\n\t\t}\n\n\t};\n\n\n\tthis.reset = function () {\n\n\t\tstate = STATE.NONE;\n\n\t\tthis.target.copy( this.target0 );\n\t\tthis.object.position.copy( this.position0 );\n\n\t\tthis.update();\n\n\t};\n\n\tfunction getAutoRotationAngle() {\n\n\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n\t}\n\n\tfunction getZoomScale() {\n\n\t\treturn Math.pow( 0.95, scope.zoomSpeed );\n\n\t}\n\n\tfunction onMouseDown( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\t\tevent.preventDefault();\n\n\t\tif ( event.button === 0 ) {\n\t\t\tif ( scope.noRotate === true ) return;\n\n\t\t\tstate = STATE.ROTATE;\n\n\t\t\trotateStart.set( event.clientX, event.clientY );\n\n\t\t} else if ( event.button === 1 ) {\n\t\t\tif ( scope.noZoom === true ) return;\n\n\t\t\tstate = STATE.DOLLY;\n\n\t\t\tdollyStart.set( event.clientX, event.clientY );\n\n\t\t} else if ( event.button === 2 ) {\n\t\t\tif ( scope.noPan === true ) return;\n\n\t\t\tstate = STATE.PAN;\n\n\t\t\tpanStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tdocument.addEventListener( 'mousemove', onMouseMove, false );\n\t\tdocument.addEventListener( 'mouseup', onMouseUp, false );\n\t\tscope.dispatchEvent( startEvent );\n\n\t}\n\n\tfunction onMouseMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\tif ( state === STATE.ROTATE ) {\n\n\t\t\tif ( scope.noRotate === true ) return;\n\n\t\t\trotateEnd.set( event.clientX, event.clientY );\n\t\t\trotateDelta.subVectors( rotateEnd, rotateStart );\n\n\t\t\t// rotating across whole screen goes 360 degrees around\n\t\t\tscope.rotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\n\n\t\t\t// rotating up and down along whole screen attempts to go 360, but limited to 180\n\t\t\tscope.rotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\n\n\t\t\trotateStart.copy( rotateEnd );\n\n\t\t} else if ( state === STATE.DOLLY ) {\n\n\t\t\tif ( scope.noZoom === true ) return;\n\n\t\t\tdollyEnd.set( event.clientX, event.clientY );\n\t\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\t\tscope.dollyIn();\n\n\t\t\t} else {\n\n\t\t\t\tscope.dollyOut();\n\n\t\t\t}\n\n\t\t\tdollyStart.copy( dollyEnd );\n\n\t\t} else if ( state === STATE.PAN ) {\n\n\t\t\tif ( scope.noPan === true ) return;\n\n\t\t\tpanEnd.set( event.clientX, event.clientY );\n\t\t\tpanDelta.subVectors( panEnd, panStart );\n\t\t\t\n\t\t\tscope.pan( panDelta.x, panDelta.y );\n\n\t\t\tpanStart.copy( panEnd );\n\n\t\t}\n\n\t\tscope.update();\n\n\t}\n\n\tfunction onMouseUp( /* event */ ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\n\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\n\t\tscope.dispatchEvent( endEvent );\n\t\tstate = STATE.NONE;\n\n\t}\n\n\tfunction onMouseWheel( event ) {\n\n\t\tif ( scope.enabled === false || scope.noZoom === true ) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tvar delta = 0;\n\n\t\tif ( event.wheelDelta !== undefined ) { // WebKit / Opera / Explorer 9\n\n\t\t\tdelta = event.wheelDelta;\n\n\t\t} else if ( event.detail !== undefined ) { // Firefox\n\n\t\t\tdelta = - event.detail;\n\n\t\t}\n\n\t\tif ( delta > 0 ) {\n\n\t\t\tscope.dollyOut();\n\n\t\t} else {\n\n\t\t\tscope.dollyIn();\n\n\t\t}\n\n\t\tscope.update();\n\t\tscope.dispatchEvent( startEvent );\n\t\tscope.dispatchEvent( endEvent );\n\n\t}\n\n\tfunction onKeyDown( event ) {\n\n\t\tif ( scope.enabled === false || scope.noKeys === true || scope.noPan === true ) return;\n\t\t\n\t\tswitch ( event.keyCode ) {\n\n\t\t\tcase scope.keys.UP:\n\t\t\t\tscope.pan( 0, scope.keyPanSpeed );\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\tscope.pan( 0, - scope.keyPanSpeed );\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.LEFT:\n\t\t\t\tscope.pan( scope.keyPanSpeed, 0 );\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.RIGHT:\n\t\t\t\tscope.pan( - scope.keyPanSpeed, 0 );\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction touchstart( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tswitch ( event.touches.length ) {\n\n\t\t\tcase 1:\t// one-fingered touch: rotate\n\n\t\t\t\tif ( scope.noRotate === true ) return;\n\n\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\trotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\t// two-fingered touch: dolly\n\n\t\t\t\tif ( scope.noZoom === true ) return;\n\n\t\t\t\tstate = STATE.TOUCH_DOLLY;\n\n\t\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\t\t\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\t\t\t\tdollyStart.set( 0, distance );\n\t\t\t\tbreak;\n\n\t\t\tcase 3: // three-fingered touch: pan\n\n\t\t\t\tif ( scope.noPan === true ) return;\n\n\t\t\t\tstate = STATE.TOUCH_PAN;\n\n\t\t\t\tpanStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tscope.dispatchEvent( startEvent );\n\n\t}\n\n\tfunction touchmove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\tswitch ( event.touches.length ) {\n\n\t\t\tcase 1: // one-fingered touch: rotate\n\n\t\t\t\tif ( scope.noRotate === true ) return;\n\t\t\t\tif ( state !== STATE.TOUCH_ROTATE ) return;\n\n\t\t\t\trotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\t\t\t\trotateDelta.subVectors( rotateEnd, rotateStart );\n\n\t\t\t\t// rotating across whole screen goes 360 degrees around\n\t\t\t\tscope.rotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\n\t\t\t\t// rotating up and down along whole screen attempts to go 360, but limited to 180\n\t\t\t\tscope.rotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\n\n\t\t\t\trotateStart.copy( rotateEnd );\n\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase 2: // two-fingered touch: dolly\n\n\t\t\t\tif ( scope.noZoom === true ) return;\n\t\t\t\tif ( state !== STATE.TOUCH_DOLLY ) return;\n\n\t\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\t\t\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\t\tdollyEnd.set( 0, distance );\n\t\t\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\t\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\t\t\tscope.dollyOut();\n\n\t\t\t\t} else {\n\n\t\t\t\t\tscope.dollyIn();\n\n\t\t\t\t}\n\n\t\t\t\tdollyStart.copy( dollyEnd );\n\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase 3: // three-fingered touch: pan\n\n\t\t\t\tif ( scope.noPan === true ) return;\n\t\t\t\tif ( state !== STATE.TOUCH_PAN ) return;\n\n\t\t\t\tpanEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\t\t\t\tpanDelta.subVectors( panEnd, panStart );\n\t\t\t\t\n\t\t\t\tscope.pan( panDelta.x, panDelta.y );\n\n\t\t\t\tpanStart.copy( panEnd );\n\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t}\n\n\tfunction touchend( /* event */ ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tscope.dispatchEvent( endEvent );\n\t\tstate = STATE.NONE;\n\n\t}\n\n\tthis.domElement.addEventListener( 'contextmenu', function ( event ) { event.preventDefault(); }, false );\n\tthis.domElement.addEventListener( 'mousedown', onMouseDown, false );\n\tthis.domElement.addEventListener( 'mousewheel', onMouseWheel, false );\n\tthis.domElement.addEventListener( 'DOMMouseScroll', onMouseWheel, false ); // firefox\n\n\tthis.domElement.addEventListener( 'touchstart', touchstart, false );\n\tthis.domElement.addEventListener( 'touchend', touchend, false );\n\tthis.domElement.addEventListener( 'touchmove', touchmove, false );\n\n\twindow.addEventListener( 'keydown', onKeyDown, false );\n\n\t// force an update at start\n\tthis.update();\n\n};\n\nTHREE.OrbitControls.prototype = Object.create( THREE.EventDispatcher.prototype );\n","'use strict';\n\nvar objectMerge = require('object-merge');\nvar assert = function (condition, message) {\n  if (!condition) {\n    throw message || 'assertion failed';\n  }\n};\n\nvar emptyFn = function () {};\nvar Coordinates = require('../model/Coordinates');\nvar Keyboard = require('./Keyboard');\nvar LoopManager = require('./LoopManager');\nvar Stats = require('T3.Stats');\nvar dat = require('T3.dat');\nvar THREE = (typeof window !== \"undefined\" ? window.THREE : typeof global !== \"undefined\" ? global.THREE : null);\nvar THREEx = require('../lib/THREEx/');\n/**\n * @module controller/Application\n */\n\n/**\n * Each instance controls one element of the DOM, besides creating\n * the canvas for the three.js app it creates a dat.gui instance\n * (to control objects of the app with a gui) and a Stats instance\n * (to view the current framerate)\n *\n * @class\n * @param {Object} config An object containing the following:\n * @param {string} [config.id=null] The id of the DOM element to inject the elements to\n * @param {number} [config.width=window.innerWidth]\n * The width of the canvas\n * @param {number} [config.height=window.innerHeight]\n * The height of the canvas\n * @param {boolean} [config.renderImmediately=true]\n * False to disable the game loop when the application starts, if\n * you want to resume the loop call `application.loopManager.start()`\n * @param {boolean} [config.injectCache=false]\n * True to add a wrapper over `THREE.Object3D.prototype.add` and\n * `THREE.Object3D.prototype.remove` so that it catches the last element\n * and perform additional operations over it, with this mechanism\n * we allow the application to have an internal cache of the elements of\n * the application\n * @param {boolean} [config.fullScreen=false]\n * True to make this app fullscreen adding additional support for\n * window resize events\n * @param {string} [config.theme='dark']\n * Theme used in the default scene, it can be `light` or `dark`\n * @param {object} [config.ambientConfig={}]\n * Additional configuration for the ambient, see the class {@link\n * Coordinates}\n * @param {object} [config.defaultSceneConfig={}] Additional config\n * for the default scene created for this world\n */\nfunction Application(config) {\n  config = objectMerge({\n    selector: null,\n    width: window.innerWidth,\n    height: window.innerHeight,\n    renderImmediately: true,\n    injectCache: false,\n    fullScreen: false,\n    theme: 'dark',\n    ambientConfig: {},\n    defaultSceneConfig: {\n      fog: true\n    }\n  }, config);\n\n  this.initialConfig = config;\n\n  /**\n   * Scenes in this world, each scene should be mapped with\n   * a unique id\n   * @type {Object}\n   */\n  this.scenes = {};\n\n  /**\n   * The active scene of this world\n   * @type {THREE.Scene}\n   */\n  this.activeScene = null;\n\n  /**\n   * Reference to the cameras used in this world\n   * @type {Array}\n   */\n  this.cameras = {};\n\n  /**\n   * The world can have many cameras, so the this is a reference to\n   * the active camera that's being used right now\n   * @type {T3.model.Camera}\n   */\n  this.activeCamera = null;\n\n  /**\n   * THREE Renderer\n   * @type {Object}\n   */\n  this.renderer = null;\n\n  /**\n   * Keyboard manager\n   * @type {Object}\n   */\n  this.keyboard = null;\n\n  /**\n   * Dat gui manager\n   * @type {Object}\n   */\n  this.datgui = null;\n\n  /**\n   * Reference to the Stats instance (needed to call update\n   * on the method {@link module:controller/Application#update})\n   * @type {Object}\n   */\n  this.stats = null;\n\n  /**\n   * Reference to the local loop manager\n   * @type {LoopManager}\n   */\n  this.loopManager = null;\n\n  /**\n   * Colors for the default scene\n   * @type {Object}\n   */\n  this.theme = null;\n\n  /**\n   * Application cache\n   * @type {Object}\n   */\n  this.__t3cache__ = {};\n\n  Application.prototype.initApplication.call(this);\n}\n\n/**\n * Getter for the initial config\n * @return {Object}\n */\nApplication.prototype.getConfig = function () {\n  return this.initialConfig;\n};\n\n/**\n * Bootstrap the application with the following steps:\n *\n * - Enabling cache injection\n * - Set the theme\n * - Create the renderer, default scene, default camera, some random lights\n * - Initializes dat.gui, Stats, a mask when the application is paised\n * - Initializes fullScreen events, keyboard and some helper objects\n * - Calls the game loop\n *\n */\nApplication.prototype.initApplication = function () {\n  var me = this,\n    config = me.getConfig();\n\n  me.injectCache(config.injectCache);\n\n  // theme\n  me.setTheme(config.theme);\n\n  // defaults\n  me.createDefaultRenderer();\n  me.createDefaultScene();\n  me.createDefaultCamera();\n  me.createDefaultLights();\n\n  // utils\n  me.initDatGui();\n  me.initStats();\n  me.initMask()\n    .maskVisible(!config.renderImmediately);\n  me.initFullScreen();\n  me.initKeyboard();\n  me.initCoordinates();\n\n  // game loop\n  me.gameLoop();\n};\n\n/**\n * Sets the active scene (it must be a registered scene registered\n * with {@link #addScene})\n * @param {string} key The string which was used to register the scene\n * @return {this}\n */\nApplication.prototype.setActiveScene = function (key) {\n  this.activeScene = this.scenes[key];\n  return this;\n};\n\n/**\n * Adds a scene to the scene pool\n * @param {THREE.Scene} scene\n * @param {string} key\n * @return {this}\n */\nApplication.prototype.addScene = function (scene, key) {\n  console.assert(scene instanceof THREE.Scene);\n  this.scenes[key] = scene;\n  return this;\n};\n\n/**\n * Creates a scene called 'default' and sets it as the active one\n * @return {this}\n */\nApplication.prototype.createDefaultScene = function () {\n  var me = this,\n    config = me.getConfig(),\n    defaultScene = new THREE.Scene();\n  if (config.defaultSceneConfig.fog) {\n    defaultScene.fog = new THREE.Fog(me.theme.fogColor, 2000, 4000);\n  }\n  me\n    .addScene(defaultScene, 'default')\n    .setActiveScene('default');\n  return me;\n};\n\n/**\n * Creates the default THREE.WebGLRenderer used in the world\n * @return {this}\n */\nApplication.prototype.createDefaultRenderer = function () {\n  var me = this,\n    config = me.getConfig();\n  var renderer = new THREE.WebGLRenderer({\n//      antialias: true\n  });\n  renderer.setClearColor(me.theme.clearColor, 1);\n  renderer.setSize(config.width, config.height);\n  document\n    .querySelector(config.selector)\n    .appendChild(renderer.domElement);\n  me.renderer = renderer;\n  return me;\n};\n\nApplication.prototype.setActiveCamera = function (key) {\n  this.activeCamera = this.cameras[key];\n  return this;\n};\n\nApplication.prototype.addCamera = function (camera, key) {\n  console.assert(camera instanceof THREE.PerspectiveCamera ||\n    camera instanceof THREE.OrthographicCamera);\n  this.cameras[key] = camera;\n  return this;\n};\n\n/**\n * Create the default camera used in this world which is\n * a `THREE.PerspectiveCamera`, it also adds orbit controls\n * by calling {@link #createCameraControls}\n */\nApplication.prototype.createDefaultCamera = function () {\n  var me = this,\n    config = me.getConfig(),\n    width = config.width,\n    height = config.height,\n    defaults = {\n      fov: 38,\n      ratio: width / height,\n      near: 1,\n      far: 10000\n    },\n    defaultCamera;\n\n  defaultCamera = new THREE.PerspectiveCamera(\n    defaults.fov,\n    defaults.ratio,\n    defaults.near,\n    defaults.far\n  );\n  defaultCamera.position.set(500, 300, 500);\n\n  // transparently support window resize\n  if (config.fullScreen) {\n    THREEx.WindowResize.bind(me.renderer, defaultCamera);\n  }\n\n  me\n    .createCameraControls(defaultCamera)\n    .addCamera(defaultCamera, 'default')\n    .setActiveCamera('default');\n\n  return me;\n};\n\n/**\n * Creates OrbitControls over the `camera` passed as param\n * @param  {THREE.PerspectiveCamera|THREE.OrtographicCamera} camera\n * @return {this}\n */\nApplication.prototype.createCameraControls = function (camera) {\n  var me = this;\n  camera.cameraControls = new THREE.OrbitControls(\n    camera,\n    me.renderer.domElement\n  );\n  // avoid panning to see the bottom face\n  camera.cameraControls.maxPolarAngle = Math.PI / 2 * 0.99;\n  camera.cameraControls.target.set(100, 100, 100);\n  // camera.cameraControls.target.set(0, 0, 0);\n  return me;\n};\n\n/**\n * Creates some random lights in the default scene\n * @return {this}\n */\nApplication.prototype.createDefaultLights = function () {\n  var light,\n      scene = this.scenes['default'];\n\n  light = new THREE.AmbientLight(0x222222);\n  scene.add(light).cache('ambient-light-1');\n\n  light = new THREE.DirectionalLight( 0xFFFFFF, 1.0 );\n  light.position.set( 200, 400, 500 );\n  scene.add(light).cache('directional-light-1');\n\n  light = new THREE.DirectionalLight( 0xFFFFFF, 1.0 );\n  light.position.set( -500, 250, -200 );\n  scene.add(light).cache('directional-light-2');\n\n  return this;\n};\n\n/**\n * Sets the theme to be used in the default scene\n * @param {string} name Either the string `dark` or `light`\n * @todo Make the theme system extensible\n * @return {this}\n */\nApplication.prototype.setTheme = function (name) {\n  var me = this,\n    themes = require('../').themes;\n  assert(themes[name]);\n  me.theme = themes[name];\n  return me;\n};\n\n/**\n * Creates a mask on top of the canvas when it's paused\n * @return {this}\n */\nApplication.prototype.initMask = function () {\n  var me = this,\n    config = me.getConfig(),\n    mask,\n    hidden;\n  mask = document.createElement('div');\n  mask.className = 't3-mask';\n  // mask.style.display = 'none';\n  mask.style.position = 'absolute';\n  mask.style.top = '0px';\n  mask.style.width = '100%';\n  mask.style.height = '100%';\n  mask.style.background = 'rgba(0,0,0,0.5)';\n\n  document\n    .querySelector(config.selector)\n    .appendChild(mask);\n\n  me.mask = mask;\n  return me;\n};\n\n/**\n * Updates the mask visibility\n * @param  {boolean} v True to make it visible\n */\nApplication.prototype.maskVisible = function (v) {\n  var mask = this.mask;\n  mask.style.display = v ? 'block' : 'none';\n};\n\n/**\n * Inits the dat.gui helper which is placed under the\n * DOM element identified by the initial configuration selector\n * @return {this}\n */\nApplication.prototype.initDatGui = function () {\n  var me = this,\n    config = me.getConfig(),\n    gui = new dat.GUI({\n      autoPlace: false\n    });\n\n  objectMerge(gui.domElement.style, {\n    position: 'absolute',\n    top: '0px',\n    right: '0px',\n    zIndex: '1'\n  });\n  document\n    .querySelector(config.selector)\n    .appendChild(gui.domElement);\n  me.datgui = gui;\n  return me;\n};\n\n/**\n * Init the Stats helper which is placed under the\n * DOM element identified by the initial configuration selector\n * @return {this}\n */\nApplication.prototype.initStats = function () {\n  var me = this,\n    config = me.getConfig(),\n    stats;\n  // add Stats.js - https://github.com/mrdoob/stats.js\n  stats = new Stats();\n  objectMerge(stats.domElement.style, {\n    position: 'absolute',\n    zIndex: 1,\n    bottom: '0px'\n  });\n  document\n    .querySelector(config.selector)\n    .appendChild( stats.domElement );\n  me.stats = stats;\n  return me;\n};\n\n/**\n * Binds the F key to make a world go full screen\n * @todo This should be used only when the canvas is active\n */\nApplication.prototype.initFullScreen = function () {\n  var config = this.getConfig();\n  // allow 'f' to go fullscreen where this feature is supported\n  if(config.fullScreen && THREEx.FullScreen.available()) {\n    THREEx.FullScreen.bindKey();\n  }\n};\n\n/**\n * Initializes the coordinate helper (its wrapped in a model in T3)\n */\nApplication.prototype.initCoordinates = function () {\n  var config = this.getConfig();\n  this.scenes['default']\n    .add(\n      new Coordinates(config.ambientConfig, this.theme)\n        .initDatGui(this.datgui)\n        .mesh\n    );\n};\n\n/**\n * Initis the keyboard helper\n * @return {this}\n */\nApplication.prototype.initKeyboard = function () {\n  this.keyboard = new Keyboard();\n  return this;\n};\n\n/**\n * Initializes the game loop by creating an instance of {@link LoopManager}\n * @return {this}\n */\nApplication.prototype.gameLoop = function () {\n  var config = this.getConfig();\n  this.loopManager = new LoopManager(this, config.renderImmediately)\n    .initDatGui(this.datgui)\n    .animate();\n  return this;\n};\n\n/**\n * Update phase, the world updates by default:\n *\n * - The stats helper\n * - The camera controls if the active camera has one\n *\n * @param {number} delta The number of seconds elapsed\n */\nApplication.prototype.update = function (delta) {\n  var me = this;\n\n  // stats helper\n  me.stats.update();\n\n  // camera update\n  if (me.activeCamera.cameraControls) {\n    me.activeCamera.cameraControls.update(delta);\n  }\n};\n\n/**\n * Render phase, calls `this.renderer` with `this.activeScene` and\n * `this.activeCamera`\n */\nApplication.prototype.render = function () {\n  var me = this;\n  me.renderer.render(\n    me.activeScene,\n    me.activeCamera\n  );\n};\n\n/**\n * Wraps `THREE.Object3D.prototype.add` and `THREE.Object3D.prototype.remove`\n * with functions that save the last object which `add` or `remove` have been\n * called with, this allows to call the method `cache` which will cache\n * the object with an identifier allowing fast object retrieval\n *\n * @example\n *\n *   var instance = t3.Application.run({\n *     injectCache: true,\n *     init: function () {\n *       var group = new THREE.Object3D();\n *       var innerGroup = new THREE.Object3D();\n *\n *       var geometry = new THREE.BoxGeometry(1,1,1);\n *       var material = new THREE.MeshBasicMaterial({color: 0x00ff00});\n *       var cube = new THREE.Mesh(geometry, material);\n *\n *       innerGroup\n *         .add(cube)\n *         .cache('myCube');\n *\n *       group\n *         .add(innerGroup)\n *         .cache('innerGroup');\n *\n *       // removal example\n *       // group\n *       //   .remove(innerGroup)\n *       //   .cache();\n *\n *       this.activeScene\n *         .add(group)\n *         .cache('group');\n *     },\n *\n *     update: function (delta) {\n *       var cube = this.getFromCache('myCube');\n *       // perform operations on the cube\n *     }\n *   });\n *\n * @param  {boolean} inject True to enable this behavior\n */\nApplication.prototype.injectCache = function (inject) {\n  var me = this,\n      lastObject,\n      lastMethod,\n      add = THREE.Object3D.prototype.add,\n      remove = THREE.Object3D.prototype.remove,\n      cache = this.__t3cache__;\n\n  if (inject) {\n    THREE.Object3D.prototype.add = function (object) {\n      lastMethod = 'add';\n      lastObject = object;\n      return add.apply(this, arguments);\n    };\n\n    THREE.Object3D.prototype.remove = function (object) {\n      lastMethod = 'remove';\n      lastObject = object;\n      return remove.apply(this, arguments);\n    };\n\n    THREE.Object3D.prototype.cache = function (name) {\n      assert(lastObject, 'T3.Application.prototype.cache: this method' +\n        ' needs a previous call to add/remove');\n      if (lastMethod === 'add') {\n        lastObject.name = lastObject.name || name;\n        assert(lastObject.name);\n        cache[lastObject.name] = lastObject;\n      } else {\n        assert(lastObject.name);\n        delete cache[lastObject.name];\n      }\n      lastObject = null;\n      return me;\n    };\n  } else {\n    THREE.Object3D.prototype.cache = function () {\n      return this;\n    };\n  }\n};\n\n/**\n * Gets an object from the cache if `injectCache` was enabled and\n * an object was registered with {@link #cache}\n * @param  {string} name\n * @return {THREE.Object3D}\n */\nApplication.prototype.getFromCache = function (name) {\n  return this.__t3cache__[name];\n};\n\n/**\n * @static\n * Creates a subclass of Application whose instances don't need to\n * worry about the inheritance process\n * @param  {Object} options The same object passed to the {@link Application}\n * constructor\n * @param {Object} options.init Initialization phase, function called in\n * the constructor of the subclass\n * @param {Object} options.update Update phase, function called as the\n * update function of the subclass, it also calls Application's update\n * @return {t3.QuickLaunch} An instance of the subclass created in\n * this function\n */\nApplication.run = function (options) {\n  options.init = options.init || emptyFn;\n  options.update = options.update || emptyFn;\n  assert(options.selector, 'canvas selector required');\n\n  var QuickLaunch = function (options) {\n    Application.call(this, options);\n    options.init.call(this, options);\n  };\n  QuickLaunch.prototype = Object.create(Application.prototype);\n\n  QuickLaunch.prototype.update = function (delta) {\n    Application.prototype.update.call(this, delta);\n    options.update.call(this, delta);\n  };\n\n  return new QuickLaunch(options);\n};\n\nmodule.exports = Application;","var THREE = (typeof window !== \"undefined\" ? window.THREE : typeof global !== \"undefined\" ? global.THREE : null);\n\n/**\n * @module  model/Coordinates\n */\n\n/**\n * Coordinates helper, it creates the axes, ground and grids\n * shown in the world\n * @class\n * @param {Object} config\n * @param {Object} theme\n */\nfunction Coordinates(config, theme) {\n  config = config || {};\n\n  /**\n   * Group where all the objects (axes, ground, grids) are put\n   * @type {THREE.Object3D}\n   */\n  this.mesh = new THREE.Object3D();\n\n  /**\n   * Axes object, the mesh representing the axes is under this object \n   * under `mesh`\n   * @type {Object}\n   */\n  this.axes = {\n    name: 'Axes',\n    mesh: this.drawAllAxes({axisLength:100,axisRadius:1,axisTess:50}),\n    visible: config.axes !== undefined ? config.axes : true\n  },\n\n  /**\n   * Ground object, the mesh representing the axes is under this object\n   * under `mesh`\n   * @type {Object}\n   */\n  this.ground = {\n    name: 'Ground',\n    mesh: this.drawGround({size:100000, color: theme.groundColor}),\n    visible: config.ground !== undefined ? config.ground : true\n  };\n  \n  /**\n   * GridXZ object, the mesh representing the axes is under this object\n   * under `mesh`\n   * @type {Object}\n   */\n  this.gridX = {\n    name: 'XZ grid',\n    mesh: this.drawGrid({size:10000,scale:0.01}),\n    visible: config.gridX !== undefined ? config.gridX : true\n  };\n\n  /**\n   * GridYZ object, the mesh representing the axes is under this object\n   * under `mesh`\n   * @type {Object}\n   */  \n  this.gridY = {\n    name: 'YZ grid',\n    mesh: this.drawGrid({size:10000,scale:0.01, orientation:\"y\"}),\n    visible: config.gridY !== undefined ? config.gridY : false\n  };\n  \n  /**\n   * GridXY object, the mesh representing the axes is under this object\n   * under `mesh`\n   * @type {Object}\n   */\n  this.gridZ = {\n    name: 'XY grid',\n    mesh: this.drawGrid({size:10000,scale:0.01, orientation:\"z\"}),\n    visible: config.gridZ !== undefined ? config.gridZ : false\n  };\n\n  Coordinates.prototype.init.call(this, config);\n};\n\n/**\n * Adds the axes, ground, grid meshes to `this.mesh`\n * @param  {object} options\n * @return {this}\n */\nCoordinates.prototype.init = function (options) {\n  var me = this;\n  for (var key in me) {\n    if (me.hasOwnProperty(key)) {\n      var v = me[key];\n      if (v.mesh) {\n        me.mesh.add(v.mesh);\n        v.mesh.visible = v.visible;\n      }\n    }\n  }\n\n  return me;\n};\n\n/**\n * Creates a dat.gui folder which has controls for the \n * ground, axes and grids\n * @param  {dat.gui} gui\n * @return {this}\n */\nCoordinates.prototype.initDatGui = function (gui) {\n  var me = this,\n    folder;\n\n  folder = gui.addFolder('Scene helpers');\n  for (var key in me) {\n    if (me.hasOwnProperty(key)) {\n      var v = me[key];\n      if (v.hasOwnProperty('mesh')) {\n        folder.add(v, 'visible')\n          .name(v.name)\n          .onFinishChange(function (newValue) {\n            v.mesh.visible = newValue;\n          });\n      }\n    }\n  }\n  return me;\n};\n\n/**\n * Draws a grid\n * @param  {object} params\n * @param  {object} params.size=100\n * @param  {object} params.scale=0.1\n * @param  {object} params.color=#505050\n * @param  {object} params.orientation=0.1\n * @return {THREE.Mesh}\n */\nCoordinates.prototype.drawGrid = function (params) {\n  params = params || {};\n  var size = params.size !== undefined ? params.size:100;\n  var scale = params.scale !== undefined ? params.scale:0.1;\n  var color = params.color !== undefined ? params.color:'#505050';\n  var orientation = params.orientation !== undefined ? params.orientation:\"x\";\n  var grid = new THREE.Mesh(\n    new THREE.PlaneGeometry(size, size, size * scale, size * scale),\n    new THREE.MeshBasicMaterial({\n      color: color,\n      wireframe: true\n    })\n  );\n  if (orientation === \"x\") {\n    grid.rotation.x = - Math.PI / 2;\n  } else if (orientation === \"y\") {\n    grid.rotation.y = - Math.PI / 2;\n  } else if (orientation === \"z\") {\n    grid.rotation.z = - Math.PI / 2;\n  }\n  return grid;\n};\n\n/**\n * Draws the ground\n * @param  {object} params\n * @param  {object} params.size=100\n * @param  {object} params.scale=0x000000\n * @param  {object} params.offset=-0.2\n * @return {THREE.Mesh}\n */\nCoordinates.prototype.drawGround = function (params) {\n  params = params || {};\n  var size = params.size !== undefined ? params.size:100;\n  var color = params.color !== undefined ? params.color:0x000000;\n  var offset = params.offset !== undefined ? params.offset:-0.2;\n\n  var ground = new THREE.Mesh(\n    new THREE.PlaneGeometry(size, size),\n    new THREE.MeshBasicMaterial({\n      color: color\n    })\n  );\n  ground.rotation.x = - Math.PI / 2;\n  ground.position.y = offset;\n  return ground;\n};\n\n/**\n * Draws an axis\n * @param  {object} params\n * @param  {object} params.axisRadius=0.04\n * @param  {object} params.axisLength=11\n * @param  {object} params.axisTess=46\n * @param  {object} params.axisOrientation=x\n * @return {THREE.Mesh}\n */\nCoordinates.prototype.drawAxes = function (params) {\n  // x = red, y = green, z = blue  (RGB = xyz)\n  params = params || {};\n  var axisRadius = params.axisRadius !== undefined ? params.axisRadius:0.04;\n  var axisLength = params.axisLength !== undefined ? params.axisLength:11;\n  var axisTess = params.axisTess !== undefined ? params.axisTess:48;\n  var axisOrientation = params.axisOrientation !== undefined ? params.axisOrientation:\"x\";\n\n  var wrap = new THREE.Object3D();\n  var axisMaterial = new THREE.MeshLambertMaterial({ color: 0x000000, side: THREE.DoubleSide });\n  var axis = new THREE.Mesh(\n    new THREE.CylinderGeometry(axisRadius, axisRadius, axisLength, axisTess, 1, true), \n    axisMaterial\n  );\n  if (axisOrientation === \"x\") {\n    axis.rotation.z = - Math.PI / 2;\n    axis.position.x = axisLength/2-1;\n  } else if (axisOrientation === \"y\") {\n    axis.position.y = axisLength/2-1;\n  }\n  \n  wrap.add( axis );\n  \n  var arrow = new THREE.Mesh(\n    new THREE.CylinderGeometry(0, 4*axisRadius, 8*axisRadius, axisTess, 1, true), \n    axisMaterial\n  );\n  if (axisOrientation === \"x\") {\n    arrow.rotation.z = - Math.PI / 2;\n    arrow.position.x = axisLength - 1 + axisRadius*4/2;\n  } else if (axisOrientation === \"y\") {\n    arrow.position.y = axisLength - 1 + axisRadius*4/2;\n  }\n\n  wrap.add( arrow );\n  return wrap;\n};\n\n/**\n * Creates an Object3D which contains all axes\n * @param  {Object} params\n * @param  {object} params.axisRadius=0.04  cylinder radius\n * @param  {object} params.axisLength=11    cylinder length\n * @param  {object} params.axisTess=46      cylinder tesselation\n * @return {THREE.Object3D}\n */\nCoordinates.prototype.drawAllAxes = function (params) {\n  params = params || {};\n  var axisRadius = params.axisRadius !== undefined ? params.axisRadius:0.04;\n  var axisLength = params.axisLength !== undefined ? params.axisLength:11;\n  var axisTess = params.axisTess !== undefined ? params.axisTess:48;\n\n  var wrap = new THREE.Object3D();\n\n  var axisXMaterial = new THREE.MeshLambertMaterial({ color: 0xFF0000 });\n  var axisYMaterial = new THREE.MeshLambertMaterial({ color: 0x00FF00 });\n  var axisZMaterial = new THREE.MeshLambertMaterial({ color: 0x0000FF });\n  axisXMaterial.side = THREE.DoubleSide;\n  axisYMaterial.side = THREE.DoubleSide;\n  axisZMaterial.side = THREE.DoubleSide;\n  var axisX = new THREE.Mesh(\n    new THREE.CylinderGeometry(axisRadius, axisRadius, axisLength, axisTess, 1, true), \n    axisXMaterial\n  );\n  var axisY = new THREE.Mesh(\n    new THREE.CylinderGeometry(axisRadius, axisRadius, axisLength, axisTess, 1, true), \n    axisYMaterial\n  );\n  var axisZ = new THREE.Mesh(\n    new THREE.CylinderGeometry(axisRadius, axisRadius, axisLength, axisTess, 1, true), \n    axisZMaterial\n  );\n  axisX.rotation.z = - Math.PI / 2;\n  axisX.position.x = axisLength/2-1;\n\n  axisY.position.y = axisLength/2-1;\n  \n  axisZ.rotation.y = - Math.PI / 2;\n  axisZ.rotation.z = - Math.PI / 2;\n  axisZ.position.z = axisLength/2-1;\n\n  wrap.add( axisX );\n  wrap.add( axisY );\n  wrap.add( axisZ );\n\n  var arrowX = new THREE.Mesh(\n    new THREE.CylinderGeometry(0, 4*axisRadius, 4*axisRadius, axisTess, 1, true), \n    axisXMaterial\n  );\n  var arrowY = new THREE.Mesh(\n    new THREE.CylinderGeometry(0, 4*axisRadius, 4*axisRadius, axisTess, 1, true), \n    axisYMaterial\n  );\n  var arrowZ = new THREE.Mesh(\n    new THREE.CylinderGeometry(0, 4*axisRadius, 4*axisRadius, axisTess, 1, true), \n    axisZMaterial\n  );\n  arrowX.rotation.z = - Math.PI / 2;\n  arrowX.position.x = axisLength - 1 + axisRadius*4/2;\n\n  arrowY.position.y = axisLength - 1 + axisRadius*4/2;\n\n  arrowZ.rotation.z = - Math.PI / 2;\n  arrowZ.rotation.y = - Math.PI / 2;\n  arrowZ.position.z = axisLength - 1 + axisRadius*4/2;\n\n  wrap.add( arrowX );\n  wrap.add( arrowY );\n  wrap.add( arrowZ );\n  return wrap;\n};\n\nmodule.exports = Coordinates;","/**\n * @module  themes/dark\n */\n\n/**\n * Dark theme\n * @type {Object}\n */\nmodule.exports = {\n\tclearColor: 0x595959,\n\tfogColor: 0x595959,\n  groundColor: 0x393939\n};","/**\n * @module themes/light\n */\n\n/**\n * Light theme\n * @name LightTheme\n * @type {Object}\n */\nmodule.exports = {\n\tclearColor: 0xf2fcff,\n  fogColor: 0xf2fcff,\n\tgroundColor: 0xeeeeee\n};","/**\n * @module  controller/Keyboard\n */\n\n/**\n * Keyboard helper\n * @class\n */\nfunction Keyboard() {\n  /**\n   * Each index correspond to the ascii value of the\n   * key pressed\n   * @type {Array}\n   */\n  this.keys = [];\n};\n\n/**\n * Adds the keydown and keyup listeners\n */\nKeyboard.prototype.init = function () {\n  var me = this,\n    i;\n  for (i = 0; i < 256; i += 1) {\n    me.keys[i] = false;\n  }\n  document.addEventListener('keydown', me.onKeyDown(), false);\n  document.addEventListener('keyup', me.onKeyUp(), false);\n};\n\n/**\n * Sets `event.keycode` as a preseed key\n * @return {function}\n */\nKeyboard.prototype.onKeyDown = function () {\n  var me = this;\n  return function (event) {\n    me.keys[event.keyCode] = true;\n  };\n};\n\n/**\n * Sets `event.keycode` as an unpressed key\n * @return {function}\n */\nKeyboard.prototype.onKeyUp = function () {\n  var me = this;\n  return function (event) {\n    me.keys[event.keyCode] = false;\n  };\n};\n\n/**\n * Gets the pressed state of the key `key`\n * @param  {string} key\n * @return {boolean}\n */\nKeyboard.prototype.get = function (key) {\n  return this.keys[key.charCodeAt(0)];\n};\n\n/**\n * Sets the pressed state of the key `key` to `value`\n * @param {string} key\n * @param {boolean} value\n */\nKeyboard.prototype.set = function (key, value) {\n  this.keys[key.charCodeAt(0)] = value;\n};\n\nmodule.exports = Keyboard;","var THREE = (typeof window !== \"undefined\" ? window.THREE : typeof global !== \"undefined\" ? global.THREE : null);\nvar Application = require('./Application');\n\n/**\n * @module  controller/LoopManager\n */\n\n/**\n * The loop managers controls the calls made to `requestAnimationFrame`\n * of an Application\n * @class\n * @param {controller/LoopManager} application Applicaton whose frame rate\n * will be controlled\n * @param {boolean} renderImmediately True to start the call\n * to request animation frame immediately\n */\nfunction LoopManager(application, renderImmediately) {\n  /**\n   * Reference to the application\n   * @type {controller/Application}\n   */\n  this.application = application;\n  /**\n   * Clock helper (its delta method is used to update the camera)\n   * @type {THREE.Clock()}\n   */\n  this.clock = new THREE.Clock();\n  /**\n   * Toggle to pause the animation\n   * @type {boolean}\n   */\n  this.pause = !renderImmediately;\n  /**\n   * Frames per second\n   * @type {number}\n   */\n  this.fps = 60;\n\n  /**\n   * dat.gui folder objects\n   * @type {Object}\n   */\n  this.guiControllers = {};\n};\n\n/**\n * Initializes a folder to control the frame rate and sets\n * the paused state of the app\n * @param  {dat.gui} gui\n * @return {this}\n */\nLoopManager.prototype.initDatGui = function (gui) {\n  var me = this,\n      folder = gui.addFolder('Game Loop');\n  folder\n    .add(this, 'fps', 10, 60, 1)\n    .name('Frame rate');\n  \n  me.guiControllers.pause = folder\n    .add(this, 'pause')\n    .name('Paused')\n    .onFinishChange(function (paused) {\n      if (!paused) {\n        me.animate();\n      }\n      me.application.maskVisible(paused);\n    });\n  return this;\n};\n\n/**\n * Animation loop (calls application.update and application.render)\n * @return {this}\n */\nLoopManager.prototype.animate = function () {\n  var me = this,\n    elapsedTime = 0,\n    loop;\n\n  loop = function () {\n    if (me.pause) {\n      return;\n    }\n\n    var delta = me.clock.getDelta(),\n      frameRateInS = 1 / me.fps;\n\n    // constraint delta to be <= frameRate\n    // (to avoid frames with a big delta caused because of the app sent to sleep)\n    delta = Math.min(delta, frameRateInS);\n    elapsedTime += delta;\n\n    if (elapsedTime >= frameRateInS) {\n\n      // update the world and render its objects\n      me.application.update(delta);\n      me.application.render();\n\n      elapsedTime -= frameRateInS;\n    }\n\n    // details at http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating\n    window.requestAnimationFrame(loop);\n  };\n\n  loop();\n\n  return me;\n};\n\n/**\n * Starts the animation\n */\nLoopManager.prototype.start = function () {\n  var me = this;\n  me.guiControllers.pause.setValue(false);\n};\n\n/**\n * Stops the animation\n */\nLoopManager.prototype.stop = function () {\n  var me = this;\n  me.guiControllers.pause.setValue(true);\n};\n\nmodule.exports = LoopManager;",";__browserify_shim_require__=require;(function browserifyShim(module, exports, require, define, browserify_shim__define__module__export__) {\n// stats.js - http://github.com/mrdoob/stats.js\nvar Stats=function(){var l=Date.now(),m=l,g=0,n=Infinity,o=0,h=0,p=Infinity,q=0,r=0,s=0,f=document.createElement(\"div\");f.id=\"stats\";f.addEventListener(\"mousedown\",function(b){b.preventDefault();t(++s%2)},!1);f.style.cssText=\"width:80px;opacity:0.9;cursor:pointer\";var a=document.createElement(\"div\");a.id=\"fps\";a.style.cssText=\"padding:0 0 3px 3px;text-align:left;background-color:#002\";f.appendChild(a);var i=document.createElement(\"div\");i.id=\"fpsText\";i.style.cssText=\"color:#0ff;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px\";\ni.innerHTML=\"FPS\";a.appendChild(i);var c=document.createElement(\"div\");c.id=\"fpsGraph\";c.style.cssText=\"position:relative;width:74px;height:30px;background-color:#0ff\";for(a.appendChild(c);74>c.children.length;){var j=document.createElement(\"span\");j.style.cssText=\"width:1px;height:30px;float:left;background-color:#113\";c.appendChild(j)}var d=document.createElement(\"div\");d.id=\"ms\";d.style.cssText=\"padding:0 0 3px 3px;text-align:left;background-color:#020;display:none\";f.appendChild(d);var k=document.createElement(\"div\");\nk.id=\"msText\";k.style.cssText=\"color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px\";k.innerHTML=\"MS\";d.appendChild(k);var e=document.createElement(\"div\");e.id=\"msGraph\";e.style.cssText=\"position:relative;width:74px;height:30px;background-color:#0f0\";for(d.appendChild(e);74>e.children.length;)j=document.createElement(\"span\"),j.style.cssText=\"width:1px;height:30px;float:left;background-color:#131\",e.appendChild(j);var t=function(b){s=b;switch(s){case 0:a.style.display=\n\"block\";d.style.display=\"none\";break;case 1:a.style.display=\"none\",d.style.display=\"block\"}};return{REVISION:11,domElement:f,setMode:t,begin:function(){l=Date.now()},end:function(){var b=Date.now();g=b-l;n=Math.min(n,g);o=Math.max(o,g);k.textContent=g+\" MS (\"+n+\"-\"+o+\")\";var a=Math.min(30,30-30*(g/200));e.appendChild(e.firstChild).style.height=a+\"px\";r++;b>m+1E3&&(h=Math.round(1E3*r/(b-m)),p=Math.min(p,h),q=Math.max(q,h),i.textContent=h+\" FPS (\"+p+\"-\"+q+\")\",a=Math.min(30,30-30*(h/100)),c.appendChild(c.firstChild).style.height=\na+\"px\",m=b,r=0);return b},update:function(){l=this.end()}}};\n\n; browserify_shim__define__module__export__(typeof Stats != \"undefined\" ? Stats : window.Stats);\n\n}).call(global, undefined, undefined, undefined, undefined, function defineExport(ex) { module.exports = ex; });\n",";__browserify_shim_require__=require;(function browserifyShim(module, exports, require, define, browserify_shim__define__module__export__) {\n/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\nvar dat=dat||{};dat.gui=dat.gui||{};dat.utils=dat.utils||{};dat.controllers=dat.controllers||{};dat.dom=dat.dom||{};dat.color=dat.color||{};dat.utils.css=function(){return{load:function(e,a){var a=a||document,c=a.createElement(\"link\");c.type=\"text/css\";c.rel=\"stylesheet\";c.href=e;a.getElementsByTagName(\"head\")[0].appendChild(c)},inject:function(e,a){var a=a||document,c=document.createElement(\"style\");c.type=\"text/css\";c.innerHTML=e;a.getElementsByTagName(\"head\")[0].appendChild(c)}}}();\ndat.utils.common=function(){var e=Array.prototype.forEach,a=Array.prototype.slice;return{BREAK:{},extend:function(c){this.each(a.call(arguments,1),function(a){for(var f in a)this.isUndefined(a[f])||(c[f]=a[f])},this);return c},defaults:function(c){this.each(a.call(arguments,1),function(a){for(var f in a)this.isUndefined(c[f])&&(c[f]=a[f])},this);return c},compose:function(){var c=a.call(arguments);return function(){for(var d=a.call(arguments),f=c.length-1;f>=0;f--)d=[c[f].apply(this,d)];return d[0]}},\neach:function(a,d,f){if(e&&a.forEach===e)a.forEach(d,f);else if(a.length===a.length+0)for(var b=0,n=a.length;b<n;b++){if(b in a&&d.call(f,a[b],b)===this.BREAK)break}else for(b in a)if(d.call(f,a[b],b)===this.BREAK)break},defer:function(a){setTimeout(a,0)},toArray:function(c){return c.toArray?c.toArray():a.call(c)},isUndefined:function(a){return a===void 0},isNull:function(a){return a===null},isNaN:function(a){return a!==a},isArray:Array.isArray||function(a){return a.constructor===Array},isObject:function(a){return a===\nObject(a)},isNumber:function(a){return a===a+0},isString:function(a){return a===a+\"\"},isBoolean:function(a){return a===false||a===true},isFunction:function(a){return Object.prototype.toString.call(a)===\"[object Function]\"}}}();\ndat.controllers.Controller=function(e){var a=function(a,d){this.initialValue=a[d];this.domElement=document.createElement(\"div\");this.object=a;this.property=d;this.__onFinishChange=this.__onChange=void 0};e.extend(a.prototype,{onChange:function(a){this.__onChange=a;return this},onFinishChange:function(a){this.__onFinishChange=a;return this},setValue:function(a){this.object[this.property]=a;this.__onChange&&this.__onChange.call(this,a);this.updateDisplay();return this},getValue:function(){return this.object[this.property]},\nupdateDisplay:function(){return this},isModified:function(){return this.initialValue!==this.getValue()}});return a}(dat.utils.common);\ndat.dom.dom=function(e){function a(b){if(b===\"0\"||e.isUndefined(b))return 0;b=b.match(d);return!e.isNull(b)?parseFloat(b[1]):0}var c={};e.each({HTMLEvents:[\"change\"],MouseEvents:[\"click\",\"mousemove\",\"mousedown\",\"mouseup\",\"mouseover\"],KeyboardEvents:[\"keydown\"]},function(b,a){e.each(b,function(b){c[b]=a})});var d=/(\\d+(\\.\\d+)?)px/,f={makeSelectable:function(b,a){if(!(b===void 0||b.style===void 0))b.onselectstart=a?function(){return false}:function(){},b.style.MozUserSelect=a?\"auto\":\"none\",b.style.KhtmlUserSelect=\na?\"auto\":\"none\",b.unselectable=a?\"on\":\"off\"},makeFullscreen:function(b,a,d){e.isUndefined(a)&&(a=true);e.isUndefined(d)&&(d=true);b.style.position=\"absolute\";if(a)b.style.left=0,b.style.right=0;if(d)b.style.top=0,b.style.bottom=0},fakeEvent:function(b,a,d,f){var d=d||{},m=c[a];if(!m)throw Error(\"Event type \"+a+\" not supported.\");var l=document.createEvent(m);switch(m){case \"MouseEvents\":l.initMouseEvent(a,d.bubbles||false,d.cancelable||true,window,d.clickCount||1,0,0,d.x||d.clientX||0,d.y||d.clientY||\n0,false,false,false,false,0,null);break;case \"KeyboardEvents\":m=l.initKeyboardEvent||l.initKeyEvent;e.defaults(d,{cancelable:true,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false,keyCode:void 0,charCode:void 0});m(a,d.bubbles||false,d.cancelable,window,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.keyCode,d.charCode);break;default:l.initEvent(a,d.bubbles||false,d.cancelable||true)}e.defaults(l,f);b.dispatchEvent(l)},bind:function(b,a,d,c){b.addEventListener?b.addEventListener(a,d,c||false):b.attachEvent&&\nb.attachEvent(\"on\"+a,d);return f},unbind:function(b,a,d,c){b.removeEventListener?b.removeEventListener(a,d,c||false):b.detachEvent&&b.detachEvent(\"on\"+a,d);return f},addClass:function(b,a){if(b.className===void 0)b.className=a;else if(b.className!==a){var d=b.className.split(/ +/);if(d.indexOf(a)==-1)d.push(a),b.className=d.join(\" \").replace(/^\\s+/,\"\").replace(/\\s+$/,\"\")}return f},removeClass:function(b,a){if(a){if(b.className!==void 0)if(b.className===a)b.removeAttribute(\"class\");else{var d=b.className.split(/ +/),\nc=d.indexOf(a);if(c!=-1)d.splice(c,1),b.className=d.join(\" \")}}else b.className=void 0;return f},hasClass:function(a,d){return RegExp(\"(?:^|\\\\s+)\"+d+\"(?:\\\\s+|$)\").test(a.className)||false},getWidth:function(b){b=getComputedStyle(b);return a(b[\"border-left-width\"])+a(b[\"border-right-width\"])+a(b[\"padding-left\"])+a(b[\"padding-right\"])+a(b.width)},getHeight:function(b){b=getComputedStyle(b);return a(b[\"border-top-width\"])+a(b[\"border-bottom-width\"])+a(b[\"padding-top\"])+a(b[\"padding-bottom\"])+a(b.height)},\ngetOffset:function(a){var d={left:0,top:0};if(a.offsetParent){do d.left+=a.offsetLeft,d.top+=a.offsetTop;while(a=a.offsetParent)}return d},isActive:function(a){return a===document.activeElement&&(a.type||a.href)}};return f}(dat.utils.common);\ndat.controllers.OptionController=function(e,a,c){var d=function(f,b,e){d.superclass.call(this,f,b);var h=this;this.__select=document.createElement(\"select\");if(c.isArray(e)){var j={};c.each(e,function(a){j[a]=a});e=j}c.each(e,function(a,b){var d=document.createElement(\"option\");d.innerHTML=b;d.setAttribute(\"value\",a);h.__select.appendChild(d)});this.updateDisplay();a.bind(this.__select,\"change\",function(){h.setValue(this.options[this.selectedIndex].value)});this.domElement.appendChild(this.__select)};\nd.superclass=e;c.extend(d.prototype,e.prototype,{setValue:function(a){a=d.superclass.prototype.setValue.call(this,a);this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue());return a},updateDisplay:function(){this.__select.value=this.getValue();return d.superclass.prototype.updateDisplay.call(this)}});return d}(dat.controllers.Controller,dat.dom.dom,dat.utils.common);\ndat.controllers.NumberController=function(e,a){var c=function(d,f,b){c.superclass.call(this,d,f);b=b||{};this.__min=b.min;this.__max=b.max;this.__step=b.step;d=this.__impliedStep=a.isUndefined(this.__step)?this.initialValue==0?1:Math.pow(10,Math.floor(Math.log(this.initialValue)/Math.LN10))/10:this.__step;d=d.toString();this.__precision=d.indexOf(\".\")>-1?d.length-d.indexOf(\".\")-1:0};c.superclass=e;a.extend(c.prototype,e.prototype,{setValue:function(a){if(this.__min!==void 0&&a<this.__min)a=this.__min;\nelse if(this.__max!==void 0&&a>this.__max)a=this.__max;this.__step!==void 0&&a%this.__step!=0&&(a=Math.round(a/this.__step)*this.__step);return c.superclass.prototype.setValue.call(this,a)},min:function(a){this.__min=a;return this},max:function(a){this.__max=a;return this},step:function(a){this.__step=a;return this}});return c}(dat.controllers.Controller,dat.utils.common);\ndat.controllers.NumberControllerBox=function(e,a,c){var d=function(f,b,e){function h(){var a=parseFloat(l.__input.value);c.isNaN(a)||l.setValue(a)}function j(a){var b=o-a.clientY;l.setValue(l.getValue()+b*l.__impliedStep);o=a.clientY}function m(){a.unbind(window,\"mousemove\",j);a.unbind(window,\"mouseup\",m)}this.__truncationSuspended=false;d.superclass.call(this,f,b,e);var l=this,o;this.__input=document.createElement(\"input\");this.__input.setAttribute(\"type\",\"text\");a.bind(this.__input,\"change\",h);\na.bind(this.__input,\"blur\",function(){h();l.__onFinishChange&&l.__onFinishChange.call(l,l.getValue())});a.bind(this.__input,\"mousedown\",function(b){a.bind(window,\"mousemove\",j);a.bind(window,\"mouseup\",m);o=b.clientY});a.bind(this.__input,\"keydown\",function(a){if(a.keyCode===13)l.__truncationSuspended=true,this.blur(),l.__truncationSuspended=false});this.updateDisplay();this.domElement.appendChild(this.__input)};d.superclass=e;c.extend(d.prototype,e.prototype,{updateDisplay:function(){var a=this.__input,\nb;if(this.__truncationSuspended)b=this.getValue();else{b=this.getValue();var c=Math.pow(10,this.__precision);b=Math.round(b*c)/c}a.value=b;return d.superclass.prototype.updateDisplay.call(this)}});return d}(dat.controllers.NumberController,dat.dom.dom,dat.utils.common);\ndat.controllers.NumberControllerSlider=function(e,a,c,d,f){var b=function(d,c,f,e,l){function o(b){b.preventDefault();var d=a.getOffset(g.__background),c=a.getWidth(g.__background);g.setValue(g.__min+(g.__max-g.__min)*((b.clientX-d.left)/(d.left+c-d.left)));return false}function y(){a.unbind(window,\"mousemove\",o);a.unbind(window,\"mouseup\",y);g.__onFinishChange&&g.__onFinishChange.call(g,g.getValue())}b.superclass.call(this,d,c,{min:f,max:e,step:l});var g=this;this.__background=document.createElement(\"div\");\nthis.__foreground=document.createElement(\"div\");a.bind(this.__background,\"mousedown\",function(b){a.bind(window,\"mousemove\",o);a.bind(window,\"mouseup\",y);o(b)});a.addClass(this.__background,\"slider\");a.addClass(this.__foreground,\"slider-fg\");this.updateDisplay();this.__background.appendChild(this.__foreground);this.domElement.appendChild(this.__background)};b.superclass=e;b.useDefaultStyles=function(){c.inject(f)};d.extend(b.prototype,e.prototype,{updateDisplay:function(){this.__foreground.style.width=\n(this.getValue()-this.__min)/(this.__max-this.__min)*100+\"%\";return b.superclass.prototype.updateDisplay.call(this)}});return b}(dat.controllers.NumberController,dat.dom.dom,dat.utils.css,dat.utils.common,\".slider {\\n  box-shadow: inset 0 2px 4px rgba(0,0,0,0.15);\\n  height: 1em;\\n  border-radius: 1em;\\n  background-color: #eee;\\n  padding: 0 0.5em;\\n  overflow: hidden;\\n}\\n\\n.slider-fg {\\n  padding: 1px 0 2px 0;\\n  background-color: #aaa;\\n  height: 1em;\\n  margin-left: -0.5em;\\n  padding-right: 0.5em;\\n  border-radius: 1em 0 0 1em;\\n}\\n\\n.slider-fg:after {\\n  display: inline-block;\\n  border-radius: 1em;\\n  background-color: #fff;\\n  border:  1px solid #aaa;\\n  content: '';\\n  float: right;\\n  margin-right: -1em;\\n  margin-top: -1px;\\n  height: 0.9em;\\n  width: 0.9em;\\n}\");\ndat.controllers.FunctionController=function(e,a,c){var d=function(c,b,e){d.superclass.call(this,c,b);var h=this;this.__button=document.createElement(\"div\");this.__button.innerHTML=e===void 0?\"Fire\":e;a.bind(this.__button,\"click\",function(a){a.preventDefault();h.fire();return false});a.addClass(this.__button,\"button\");this.domElement.appendChild(this.__button)};d.superclass=e;c.extend(d.prototype,e.prototype,{fire:function(){this.__onChange&&this.__onChange.call(this);this.__onFinishChange&&this.__onFinishChange.call(this,\nthis.getValue());this.getValue().call(this.object)}});return d}(dat.controllers.Controller,dat.dom.dom,dat.utils.common);\ndat.controllers.BooleanController=function(e,a,c){var d=function(c,b){d.superclass.call(this,c,b);var e=this;this.__prev=this.getValue();this.__checkbox=document.createElement(\"input\");this.__checkbox.setAttribute(\"type\",\"checkbox\");a.bind(this.__checkbox,\"change\",function(){e.setValue(!e.__prev)},false);this.domElement.appendChild(this.__checkbox);this.updateDisplay()};d.superclass=e;c.extend(d.prototype,e.prototype,{setValue:function(a){a=d.superclass.prototype.setValue.call(this,a);this.__onFinishChange&&\nthis.__onFinishChange.call(this,this.getValue());this.__prev=this.getValue();return a},updateDisplay:function(){this.getValue()===true?(this.__checkbox.setAttribute(\"checked\",\"checked\"),this.__checkbox.checked=true):this.__checkbox.checked=false;return d.superclass.prototype.updateDisplay.call(this)}});return d}(dat.controllers.Controller,dat.dom.dom,dat.utils.common);\ndat.color.toString=function(e){return function(a){if(a.a==1||e.isUndefined(a.a)){for(a=a.hex.toString(16);a.length<6;)a=\"0\"+a;return\"#\"+a}else return\"rgba(\"+Math.round(a.r)+\",\"+Math.round(a.g)+\",\"+Math.round(a.b)+\",\"+a.a+\")\"}}(dat.utils.common);\ndat.color.interpret=function(e,a){var c,d,f=[{litmus:a.isString,conversions:{THREE_CHAR_HEX:{read:function(a){a=a.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return a===null?false:{space:\"HEX\",hex:parseInt(\"0x\"+a[1].toString()+a[1].toString()+a[2].toString()+a[2].toString()+a[3].toString()+a[3].toString())}},write:e},SIX_CHAR_HEX:{read:function(a){a=a.match(/^#([A-F0-9]{6})$/i);return a===null?false:{space:\"HEX\",hex:parseInt(\"0x\"+a[1].toString())}},write:e},CSS_RGB:{read:function(a){a=a.match(/^rgb\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);\nreturn a===null?false:{space:\"RGB\",r:parseFloat(a[1]),g:parseFloat(a[2]),b:parseFloat(a[3])}},write:e},CSS_RGBA:{read:function(a){a=a.match(/^rgba\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\,\\s*(.+)\\s*\\)/);return a===null?false:{space:\"RGB\",r:parseFloat(a[1]),g:parseFloat(a[2]),b:parseFloat(a[3]),a:parseFloat(a[4])}},write:e}}},{litmus:a.isNumber,conversions:{HEX:{read:function(a){return{space:\"HEX\",hex:a,conversionName:\"HEX\"}},write:function(a){return a.hex}}}},{litmus:a.isArray,conversions:{RGB_ARRAY:{read:function(a){return a.length!=\n3?false:{space:\"RGB\",r:a[0],g:a[1],b:a[2]}},write:function(a){return[a.r,a.g,a.b]}},RGBA_ARRAY:{read:function(a){return a.length!=4?false:{space:\"RGB\",r:a[0],g:a[1],b:a[2],a:a[3]}},write:function(a){return[a.r,a.g,a.b,a.a]}}}},{litmus:a.isObject,conversions:{RGBA_OBJ:{read:function(b){return a.isNumber(b.r)&&a.isNumber(b.g)&&a.isNumber(b.b)&&a.isNumber(b.a)?{space:\"RGB\",r:b.r,g:b.g,b:b.b,a:b.a}:false},write:function(a){return{r:a.r,g:a.g,b:a.b,a:a.a}}},RGB_OBJ:{read:function(b){return a.isNumber(b.r)&&\na.isNumber(b.g)&&a.isNumber(b.b)?{space:\"RGB\",r:b.r,g:b.g,b:b.b}:false},write:function(a){return{r:a.r,g:a.g,b:a.b}}},HSVA_OBJ:{read:function(b){return a.isNumber(b.h)&&a.isNumber(b.s)&&a.isNumber(b.v)&&a.isNumber(b.a)?{space:\"HSV\",h:b.h,s:b.s,v:b.v,a:b.a}:false},write:function(a){return{h:a.h,s:a.s,v:a.v,a:a.a}}},HSV_OBJ:{read:function(b){return a.isNumber(b.h)&&a.isNumber(b.s)&&a.isNumber(b.v)?{space:\"HSV\",h:b.h,s:b.s,v:b.v}:false},write:function(a){return{h:a.h,s:a.s,v:a.v}}}}}];return function(){d=\nfalse;var b=arguments.length>1?a.toArray(arguments):arguments[0];a.each(f,function(e){if(e.litmus(b))return a.each(e.conversions,function(e,f){c=e.read(b);if(d===false&&c!==false)return d=c,c.conversionName=f,c.conversion=e,a.BREAK}),a.BREAK});return d}}(dat.color.toString,dat.utils.common);\ndat.GUI=dat.gui.GUI=function(e,a,c,d,f,b,n,h,j,m,l,o,y,g,i){function q(a,b,r,c){if(b[r]===void 0)throw Error(\"Object \"+b+' has no property \"'+r+'\"');c.color?b=new l(b,r):(b=[b,r].concat(c.factoryArgs),b=d.apply(a,b));if(c.before instanceof f)c.before=c.before.__li;t(a,b);g.addClass(b.domElement,\"c\");r=document.createElement(\"span\");g.addClass(r,\"property-name\");r.innerHTML=b.property;var e=document.createElement(\"div\");e.appendChild(r);e.appendChild(b.domElement);c=s(a,e,c.before);g.addClass(c,k.CLASS_CONTROLLER_ROW);\ng.addClass(c,typeof b.getValue());p(a,c,b);a.__controllers.push(b);return b}function s(a,b,d){var c=document.createElement(\"li\");b&&c.appendChild(b);d?a.__ul.insertBefore(c,params.before):a.__ul.appendChild(c);a.onResize();return c}function p(a,d,c){c.__li=d;c.__gui=a;i.extend(c,{options:function(b){if(arguments.length>1)return c.remove(),q(a,c.object,c.property,{before:c.__li.nextElementSibling,factoryArgs:[i.toArray(arguments)]});if(i.isArray(b)||i.isObject(b))return c.remove(),q(a,c.object,c.property,\n{before:c.__li.nextElementSibling,factoryArgs:[b]})},name:function(a){c.__li.firstElementChild.firstElementChild.innerHTML=a;return c},listen:function(){c.__gui.listen(c);return c},remove:function(){c.__gui.remove(c);return c}});if(c instanceof j){var e=new h(c.object,c.property,{min:c.__min,max:c.__max,step:c.__step});i.each([\"updateDisplay\",\"onChange\",\"onFinishChange\"],function(a){var b=c[a],H=e[a];c[a]=e[a]=function(){var a=Array.prototype.slice.call(arguments);b.apply(c,a);return H.apply(e,a)}});\ng.addClass(d,\"has-slider\");c.domElement.insertBefore(e.domElement,c.domElement.firstElementChild)}else if(c instanceof h){var f=function(b){return i.isNumber(c.__min)&&i.isNumber(c.__max)?(c.remove(),q(a,c.object,c.property,{before:c.__li.nextElementSibling,factoryArgs:[c.__min,c.__max,c.__step]})):b};c.min=i.compose(f,c.min);c.max=i.compose(f,c.max)}else if(c instanceof b)g.bind(d,\"click\",function(){g.fakeEvent(c.__checkbox,\"click\")}),g.bind(c.__checkbox,\"click\",function(a){a.stopPropagation()});\nelse if(c instanceof n)g.bind(d,\"click\",function(){g.fakeEvent(c.__button,\"click\")}),g.bind(d,\"mouseover\",function(){g.addClass(c.__button,\"hover\")}),g.bind(d,\"mouseout\",function(){g.removeClass(c.__button,\"hover\")});else if(c instanceof l)g.addClass(d,\"color\"),c.updateDisplay=i.compose(function(a){d.style.borderLeftColor=c.__color.toString();return a},c.updateDisplay),c.updateDisplay();c.setValue=i.compose(function(b){a.getRoot().__preset_select&&c.isModified()&&B(a.getRoot(),true);return b},c.setValue)}\nfunction t(a,b){var c=a.getRoot(),d=c.__rememberedObjects.indexOf(b.object);if(d!=-1){var e=c.__rememberedObjectIndecesToControllers[d];e===void 0&&(e={},c.__rememberedObjectIndecesToControllers[d]=e);e[b.property]=b;if(c.load&&c.load.remembered){c=c.load.remembered;if(c[a.preset])c=c[a.preset];else if(c[w])c=c[w];else return;if(c[d]&&c[d][b.property]!==void 0)d=c[d][b.property],b.initialValue=d,b.setValue(d)}}}function I(a){var b=a.__save_row=document.createElement(\"li\");g.addClass(a.domElement,\n\"has-save\");a.__ul.insertBefore(b,a.__ul.firstChild);g.addClass(b,\"save-row\");var c=document.createElement(\"span\");c.innerHTML=\"&nbsp;\";g.addClass(c,\"button gears\");var d=document.createElement(\"span\");d.innerHTML=\"Save\";g.addClass(d,\"button\");g.addClass(d,\"save\");var e=document.createElement(\"span\");e.innerHTML=\"New\";g.addClass(e,\"button\");g.addClass(e,\"save-as\");var f=document.createElement(\"span\");f.innerHTML=\"Revert\";g.addClass(f,\"button\");g.addClass(f,\"revert\");var m=a.__preset_select=document.createElement(\"select\");\na.load&&a.load.remembered?i.each(a.load.remembered,function(b,c){C(a,c,c==a.preset)}):C(a,w,false);g.bind(m,\"change\",function(){for(var b=0;b<a.__preset_select.length;b++)a.__preset_select[b].innerHTML=a.__preset_select[b].value;a.preset=this.value});b.appendChild(m);b.appendChild(c);b.appendChild(d);b.appendChild(e);b.appendChild(f);if(u){var b=document.getElementById(\"dg-save-locally\"),l=document.getElementById(\"dg-local-explain\");b.style.display=\"block\";b=document.getElementById(\"dg-local-storage\");\nlocalStorage.getItem(document.location.href+\".isLocal\")===\"true\"&&b.setAttribute(\"checked\",\"checked\");var o=function(){l.style.display=a.useLocalStorage?\"block\":\"none\"};o();g.bind(b,\"change\",function(){a.useLocalStorage=!a.useLocalStorage;o()})}var h=document.getElementById(\"dg-new-constructor\");g.bind(h,\"keydown\",function(a){a.metaKey&&(a.which===67||a.keyCode==67)&&x.hide()});g.bind(c,\"click\",function(){h.innerHTML=JSON.stringify(a.getSaveObject(),void 0,2);x.show();h.focus();h.select()});g.bind(d,\n\"click\",function(){a.save()});g.bind(e,\"click\",function(){var b=prompt(\"Enter a new preset name.\");b&&a.saveAs(b)});g.bind(f,\"click\",function(){a.revert()})}function J(a){function b(f){f.preventDefault();e=f.clientX;g.addClass(a.__closeButton,k.CLASS_DRAG);g.bind(window,\"mousemove\",c);g.bind(window,\"mouseup\",d);return false}function c(b){b.preventDefault();a.width+=e-b.clientX;a.onResize();e=b.clientX;return false}function d(){g.removeClass(a.__closeButton,k.CLASS_DRAG);g.unbind(window,\"mousemove\",\nc);g.unbind(window,\"mouseup\",d)}a.__resize_handle=document.createElement(\"div\");i.extend(a.__resize_handle.style,{width:\"6px\",marginLeft:\"-3px\",height:\"200px\",cursor:\"ew-resize\",position:\"absolute\"});var e;g.bind(a.__resize_handle,\"mousedown\",b);g.bind(a.__closeButton,\"mousedown\",b);a.domElement.insertBefore(a.__resize_handle,a.domElement.firstElementChild)}function D(a,b){a.domElement.style.width=b+\"px\";if(a.__save_row&&a.autoPlace)a.__save_row.style.width=b+\"px\";if(a.__closeButton)a.__closeButton.style.width=\nb+\"px\"}function z(a,b){var c={};i.each(a.__rememberedObjects,function(d,e){var f={};i.each(a.__rememberedObjectIndecesToControllers[e],function(a,c){f[c]=b?a.initialValue:a.getValue()});c[e]=f});return c}function C(a,b,c){var d=document.createElement(\"option\");d.innerHTML=b;d.value=b;a.__preset_select.appendChild(d);if(c)a.__preset_select.selectedIndex=a.__preset_select.length-1}function B(a,b){var c=a.__preset_select[a.__preset_select.selectedIndex];c.innerHTML=b?c.value+\"*\":c.value}function E(a){a.length!=\n0&&o(function(){E(a)});i.each(a,function(a){a.updateDisplay()})}e.inject(c);var w=\"Default\",u;try{u=\"localStorage\"in window&&window.localStorage!==null}catch(K){u=false}var x,F=true,v,A=false,G=[],k=function(a){function b(){localStorage.setItem(document.location.href+\".gui\",JSON.stringify(d.getSaveObject()))}function c(){var a=d.getRoot();a.width+=1;i.defer(function(){a.width-=1})}var d=this;this.domElement=document.createElement(\"div\");this.__ul=document.createElement(\"ul\");this.domElement.appendChild(this.__ul);\ng.addClass(this.domElement,\"dg\");this.__folders={};this.__controllers=[];this.__rememberedObjects=[];this.__rememberedObjectIndecesToControllers=[];this.__listening=[];a=a||{};a=i.defaults(a,{autoPlace:true,width:k.DEFAULT_WIDTH});a=i.defaults(a,{resizable:a.autoPlace,hideable:a.autoPlace});if(i.isUndefined(a.load))a.load={preset:w};else if(a.preset)a.load.preset=a.preset;i.isUndefined(a.parent)&&a.hideable&&G.push(this);a.resizable=i.isUndefined(a.parent)&&a.resizable;if(a.autoPlace&&i.isUndefined(a.scrollable))a.scrollable=\ntrue;var e=u&&localStorage.getItem(document.location.href+\".isLocal\")===\"true\";Object.defineProperties(this,{parent:{get:function(){return a.parent}},scrollable:{get:function(){return a.scrollable}},autoPlace:{get:function(){return a.autoPlace}},preset:{get:function(){return d.parent?d.getRoot().preset:a.load.preset},set:function(b){d.parent?d.getRoot().preset=b:a.load.preset=b;for(b=0;b<this.__preset_select.length;b++)if(this.__preset_select[b].value==this.preset)this.__preset_select.selectedIndex=\nb;d.revert()}},width:{get:function(){return a.width},set:function(b){a.width=b;D(d,b)}},name:{get:function(){return a.name},set:function(b){a.name=b;if(m)m.innerHTML=a.name}},closed:{get:function(){return a.closed},set:function(b){a.closed=b;a.closed?g.addClass(d.__ul,k.CLASS_CLOSED):g.removeClass(d.__ul,k.CLASS_CLOSED);this.onResize();if(d.__closeButton)d.__closeButton.innerHTML=b?k.TEXT_OPEN:k.TEXT_CLOSED}},load:{get:function(){return a.load}},useLocalStorage:{get:function(){return e},set:function(a){u&&\n((e=a)?g.bind(window,\"unload\",b):g.unbind(window,\"unload\",b),localStorage.setItem(document.location.href+\".isLocal\",a))}}});if(i.isUndefined(a.parent)){a.closed=false;g.addClass(this.domElement,k.CLASS_MAIN);g.makeSelectable(this.domElement,false);if(u&&e){d.useLocalStorage=true;var f=localStorage.getItem(document.location.href+\".gui\");if(f)a.load=JSON.parse(f)}this.__closeButton=document.createElement(\"div\");this.__closeButton.innerHTML=k.TEXT_CLOSED;g.addClass(this.__closeButton,k.CLASS_CLOSE_BUTTON);\nthis.domElement.appendChild(this.__closeButton);g.bind(this.__closeButton,\"click\",function(){d.closed=!d.closed})}else{if(a.closed===void 0)a.closed=true;var m=document.createTextNode(a.name);g.addClass(m,\"controller-name\");f=s(d,m);g.addClass(this.__ul,k.CLASS_CLOSED);g.addClass(f,\"title\");g.bind(f,\"click\",function(a){a.preventDefault();d.closed=!d.closed;return false});if(!a.closed)this.closed=false}a.autoPlace&&(i.isUndefined(a.parent)&&(F&&(v=document.createElement(\"div\"),g.addClass(v,\"dg\"),g.addClass(v,\nk.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(v),F=false),v.appendChild(this.domElement),g.addClass(this.domElement,k.CLASS_AUTO_PLACE)),this.parent||D(d,a.width));g.bind(window,\"resize\",function(){d.onResize()});g.bind(this.__ul,\"webkitTransitionEnd\",function(){d.onResize()});g.bind(this.__ul,\"transitionend\",function(){d.onResize()});g.bind(this.__ul,\"oTransitionEnd\",function(){d.onResize()});this.onResize();a.resizable&&J(this);d.getRoot();a.parent||c()};k.toggleHide=function(){A=!A;i.each(G,\nfunction(a){a.domElement.style.zIndex=A?-999:999;a.domElement.style.opacity=A?0:1})};k.CLASS_AUTO_PLACE=\"a\";k.CLASS_AUTO_PLACE_CONTAINER=\"ac\";k.CLASS_MAIN=\"main\";k.CLASS_CONTROLLER_ROW=\"cr\";k.CLASS_TOO_TALL=\"taller-than-window\";k.CLASS_CLOSED=\"closed\";k.CLASS_CLOSE_BUTTON=\"close-button\";k.CLASS_DRAG=\"drag\";k.DEFAULT_WIDTH=245;k.TEXT_CLOSED=\"Close Controls\";k.TEXT_OPEN=\"Open Controls\";g.bind(window,\"keydown\",function(a){document.activeElement.type!==\"text\"&&(a.which===72||a.keyCode==72)&&k.toggleHide()},\nfalse);i.extend(k.prototype,{add:function(a,b){return q(this,a,b,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(a,b){return q(this,a,b,{color:true})},remove:function(a){this.__ul.removeChild(a.__li);this.__controllers.slice(this.__controllers.indexOf(a),1);var b=this;i.defer(function(){b.onResize()})},destroy:function(){this.autoPlace&&v.removeChild(this.domElement)},addFolder:function(a){if(this.__folders[a]!==void 0)throw Error('You already have a folder in this GUI by the name \"'+\na+'\"');var b={name:a,parent:this};b.autoPlace=this.autoPlace;if(this.load&&this.load.folders&&this.load.folders[a])b.closed=this.load.folders[a].closed,b.load=this.load.folders[a];b=new k(b);this.__folders[a]=b;a=s(this,b.domElement);g.addClass(a,\"folder\");return b},open:function(){this.closed=false},close:function(){this.closed=true},onResize:function(){var a=this.getRoot();if(a.scrollable){var b=g.getOffset(a.__ul).top,c=0;i.each(a.__ul.childNodes,function(b){a.autoPlace&&b===a.__save_row||(c+=\ng.getHeight(b))});window.innerHeight-b-20<c?(g.addClass(a.domElement,k.CLASS_TOO_TALL),a.__ul.style.height=window.innerHeight-b-20+\"px\"):(g.removeClass(a.domElement,k.CLASS_TOO_TALL),a.__ul.style.height=\"auto\")}a.__resize_handle&&i.defer(function(){a.__resize_handle.style.height=a.__ul.offsetHeight+\"px\"});if(a.__closeButton)a.__closeButton.style.width=a.width+\"px\"},remember:function(){if(i.isUndefined(x))x=new y,x.domElement.innerHTML=a;if(this.parent)throw Error(\"You can only call remember on a top level GUI.\");\nvar b=this;i.each(Array.prototype.slice.call(arguments),function(a){b.__rememberedObjects.length==0&&I(b);b.__rememberedObjects.indexOf(a)==-1&&b.__rememberedObjects.push(a)});this.autoPlace&&D(this,this.width)},getRoot:function(){for(var a=this;a.parent;)a=a.parent;return a},getSaveObject:function(){var a=this.load;a.closed=this.closed;if(this.__rememberedObjects.length>0){a.preset=this.preset;if(!a.remembered)a.remembered={};a.remembered[this.preset]=z(this)}a.folders={};i.each(this.__folders,function(b,\nc){a.folders[c]=b.getSaveObject()});return a},save:function(){if(!this.load.remembered)this.load.remembered={};this.load.remembered[this.preset]=z(this);B(this,false)},saveAs:function(a){if(!this.load.remembered)this.load.remembered={},this.load.remembered[w]=z(this,true);this.load.remembered[a]=z(this);this.preset=a;C(this,a,true)},revert:function(a){i.each(this.__controllers,function(b){this.getRoot().load.remembered?t(a||this.getRoot(),b):b.setValue(b.initialValue)},this);i.each(this.__folders,\nfunction(a){a.revert(a)});a||B(this.getRoot(),false)},listen:function(a){var b=this.__listening.length==0;this.__listening.push(a);b&&E(this.__listening)}});return k}(dat.utils.css,'<div id=\"dg-save\" class=\"dg dialogue\">\\n\\n  Here\\'s the new load parameter for your <code>GUI</code>\\'s constructor:\\n\\n  <textarea id=\"dg-new-constructor\"></textarea>\\n\\n  <div id=\"dg-save-locally\">\\n\\n    <input id=\"dg-local-storage\" type=\"checkbox\"/> Automatically save\\n    values to <code>localStorage</code> on exit.\\n\\n    <div id=\"dg-local-explain\">The values saved to <code>localStorage</code> will\\n      override those passed to <code>dat.GUI</code>\\'s constructor. This makes it\\n      easier to work incrementally, but <code>localStorage</code> is fragile,\\n      and your friends may not see the same values you do.\\n      \\n    </div>\\n    \\n  </div>\\n\\n</div>',\n\".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear;border:0;position:absolute;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-x:hidden}.dg.a.has-save ul{margin-top:27px}.dg.a.has-save ul.closed{margin-top:0}.dg.a .save-row{position:fixed;top:0;z-index:1002}.dg li{-webkit-transition:height 0.1s ease-out;-o-transition:height 0.1s ease-out;-moz-transition:height 0.1s ease-out;transition:height 0.1s ease-out}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;overflow:hidden;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li > *{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:9px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2fa1d6}.dg .cr.number input[type=text]{color:#2fa1d6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2fa1d6}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\\n\",\ndat.controllers.factory=function(e,a,c,d,f,b,n){return function(h,j,m,l){var o=h[j];if(n.isArray(m)||n.isObject(m))return new e(h,j,m);if(n.isNumber(o))return n.isNumber(m)&&n.isNumber(l)?new c(h,j,m,l):new a(h,j,{min:m,max:l});if(n.isString(o))return new d(h,j);if(n.isFunction(o))return new f(h,j,\"\");if(n.isBoolean(o))return new b(h,j)}}(dat.controllers.OptionController,dat.controllers.NumberControllerBox,dat.controllers.NumberControllerSlider,dat.controllers.StringController=function(e,a,c){var d=\nfunction(c,b){function e(){h.setValue(h.__input.value)}d.superclass.call(this,c,b);var h=this;this.__input=document.createElement(\"input\");this.__input.setAttribute(\"type\",\"text\");a.bind(this.__input,\"keyup\",e);a.bind(this.__input,\"change\",e);a.bind(this.__input,\"blur\",function(){h.__onFinishChange&&h.__onFinishChange.call(h,h.getValue())});a.bind(this.__input,\"keydown\",function(a){a.keyCode===13&&this.blur()});this.updateDisplay();this.domElement.appendChild(this.__input)};d.superclass=e;c.extend(d.prototype,\ne.prototype,{updateDisplay:function(){if(!a.isActive(this.__input))this.__input.value=this.getValue();return d.superclass.prototype.updateDisplay.call(this)}});return d}(dat.controllers.Controller,dat.dom.dom,dat.utils.common),dat.controllers.FunctionController,dat.controllers.BooleanController,dat.utils.common),dat.controllers.Controller,dat.controllers.BooleanController,dat.controllers.FunctionController,dat.controllers.NumberControllerBox,dat.controllers.NumberControllerSlider,dat.controllers.OptionController,\ndat.controllers.ColorController=function(e,a,c,d,f){function b(a,b,c,d){a.style.background=\"\";f.each(j,function(e){a.style.cssText+=\"background: \"+e+\"linear-gradient(\"+b+\", \"+c+\" 0%, \"+d+\" 100%); \"})}function n(a){a.style.background=\"\";a.style.cssText+=\"background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);\";a.style.cssText+=\"background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);\";\na.style.cssText+=\"background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);\";a.style.cssText+=\"background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);\";a.style.cssText+=\"background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);\"}var h=function(e,l){function o(b){q(b);a.bind(window,\"mousemove\",q);a.bind(window,\n\"mouseup\",j)}function j(){a.unbind(window,\"mousemove\",q);a.unbind(window,\"mouseup\",j)}function g(){var a=d(this.value);a!==false?(p.__color.__state=a,p.setValue(p.__color.toOriginal())):this.value=p.__color.toString()}function i(){a.unbind(window,\"mousemove\",s);a.unbind(window,\"mouseup\",i)}function q(b){b.preventDefault();var c=a.getWidth(p.__saturation_field),d=a.getOffset(p.__saturation_field),e=(b.clientX-d.left+document.body.scrollLeft)/c,b=1-(b.clientY-d.top+document.body.scrollTop)/c;b>1?b=\n1:b<0&&(b=0);e>1?e=1:e<0&&(e=0);p.__color.v=b;p.__color.s=e;p.setValue(p.__color.toOriginal());return false}function s(b){b.preventDefault();var c=a.getHeight(p.__hue_field),d=a.getOffset(p.__hue_field),b=1-(b.clientY-d.top+document.body.scrollTop)/c;b>1?b=1:b<0&&(b=0);p.__color.h=b*360;p.setValue(p.__color.toOriginal());return false}h.superclass.call(this,e,l);this.__color=new c(this.getValue());this.__temp=new c(0);var p=this;this.domElement=document.createElement(\"div\");a.makeSelectable(this.domElement,\nfalse);this.__selector=document.createElement(\"div\");this.__selector.className=\"selector\";this.__saturation_field=document.createElement(\"div\");this.__saturation_field.className=\"saturation-field\";this.__field_knob=document.createElement(\"div\");this.__field_knob.className=\"field-knob\";this.__field_knob_border=\"2px solid \";this.__hue_knob=document.createElement(\"div\");this.__hue_knob.className=\"hue-knob\";this.__hue_field=document.createElement(\"div\");this.__hue_field.className=\"hue-field\";this.__input=\ndocument.createElement(\"input\");this.__input.type=\"text\";this.__input_textShadow=\"0 1px 1px \";a.bind(this.__input,\"keydown\",function(a){a.keyCode===13&&g.call(this)});a.bind(this.__input,\"blur\",g);a.bind(this.__selector,\"mousedown\",function(){a.addClass(this,\"drag\").bind(window,\"mouseup\",function(){a.removeClass(p.__selector,\"drag\")})});var t=document.createElement(\"div\");f.extend(this.__selector.style,{width:\"122px\",height:\"102px\",padding:\"3px\",backgroundColor:\"#222\",boxShadow:\"0px 1px 3px rgba(0,0,0,0.3)\"});\nf.extend(this.__field_knob.style,{position:\"absolute\",width:\"12px\",height:\"12px\",border:this.__field_knob_border+(this.__color.v<0.5?\"#fff\":\"#000\"),boxShadow:\"0px 1px 3px rgba(0,0,0,0.5)\",borderRadius:\"12px\",zIndex:1});f.extend(this.__hue_knob.style,{position:\"absolute\",width:\"15px\",height:\"2px\",borderRight:\"4px solid #fff\",zIndex:1});f.extend(this.__saturation_field.style,{width:\"100px\",height:\"100px\",border:\"1px solid #555\",marginRight:\"3px\",display:\"inline-block\",cursor:\"pointer\"});f.extend(t.style,\n{width:\"100%\",height:\"100%\",background:\"none\"});b(t,\"top\",\"rgba(0,0,0,0)\",\"#000\");f.extend(this.__hue_field.style,{width:\"15px\",height:\"100px\",display:\"inline-block\",border:\"1px solid #555\",cursor:\"ns-resize\"});n(this.__hue_field);f.extend(this.__input.style,{outline:\"none\",textAlign:\"center\",color:\"#fff\",border:0,fontWeight:\"bold\",textShadow:this.__input_textShadow+\"rgba(0,0,0,0.7)\"});a.bind(this.__saturation_field,\"mousedown\",o);a.bind(this.__field_knob,\"mousedown\",o);a.bind(this.__hue_field,\"mousedown\",\nfunction(b){s(b);a.bind(window,\"mousemove\",s);a.bind(window,\"mouseup\",i)});this.__saturation_field.appendChild(t);this.__selector.appendChild(this.__field_knob);this.__selector.appendChild(this.__saturation_field);this.__selector.appendChild(this.__hue_field);this.__hue_field.appendChild(this.__hue_knob);this.domElement.appendChild(this.__input);this.domElement.appendChild(this.__selector);this.updateDisplay()};h.superclass=e;f.extend(h.prototype,e.prototype,{updateDisplay:function(){var a=d(this.getValue());\nif(a!==false){var e=false;f.each(c.COMPONENTS,function(b){if(!f.isUndefined(a[b])&&!f.isUndefined(this.__color.__state[b])&&a[b]!==this.__color.__state[b])return e=true,{}},this);e&&f.extend(this.__color.__state,a)}f.extend(this.__temp.__state,this.__color.__state);this.__temp.a=1;var h=this.__color.v<0.5||this.__color.s>0.5?255:0,j=255-h;f.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+\"px\",marginTop:100*(1-this.__color.v)-7+\"px\",backgroundColor:this.__temp.toString(),border:this.__field_knob_border+\n\"rgb(\"+h+\",\"+h+\",\"+h+\")\"});this.__hue_knob.style.marginTop=(1-this.__color.h/360)*100+\"px\";this.__temp.s=1;this.__temp.v=1;b(this.__saturation_field,\"left\",\"#fff\",this.__temp.toString());f.extend(this.__input.style,{backgroundColor:this.__input.value=this.__color.toString(),color:\"rgb(\"+h+\",\"+h+\",\"+h+\")\",textShadow:this.__input_textShadow+\"rgba(\"+j+\",\"+j+\",\"+j+\",.7)\"})}});var j=[\"-moz-\",\"-o-\",\"-webkit-\",\"-ms-\",\"\"];return h}(dat.controllers.Controller,dat.dom.dom,dat.color.Color=function(e,a,c,d){function f(a,\nb,c){Object.defineProperty(a,b,{get:function(){if(this.__state.space===\"RGB\")return this.__state[b];n(this,b,c);return this.__state[b]},set:function(a){if(this.__state.space!==\"RGB\")n(this,b,c),this.__state.space=\"RGB\";this.__state[b]=a}})}function b(a,b){Object.defineProperty(a,b,{get:function(){if(this.__state.space===\"HSV\")return this.__state[b];h(this);return this.__state[b]},set:function(a){if(this.__state.space!==\"HSV\")h(this),this.__state.space=\"HSV\";this.__state[b]=a}})}function n(b,c,e){if(b.__state.space===\n\"HEX\")b.__state[c]=a.component_from_hex(b.__state.hex,e);else if(b.__state.space===\"HSV\")d.extend(b.__state,a.hsv_to_rgb(b.__state.h,b.__state.s,b.__state.v));else throw\"Corrupted color state\";}function h(b){var c=a.rgb_to_hsv(b.r,b.g,b.b);d.extend(b.__state,{s:c.s,v:c.v});if(d.isNaN(c.h)){if(d.isUndefined(b.__state.h))b.__state.h=0}else b.__state.h=c.h}var j=function(){this.__state=e.apply(this,arguments);if(this.__state===false)throw\"Failed to interpret color arguments\";this.__state.a=this.__state.a||\n1};j.COMPONENTS=\"r,g,b,h,s,v,hex,a\".split(\",\");d.extend(j.prototype,{toString:function(){return c(this)},toOriginal:function(){return this.__state.conversion.write(this)}});f(j.prototype,\"r\",2);f(j.prototype,\"g\",1);f(j.prototype,\"b\",0);b(j.prototype,\"h\");b(j.prototype,\"s\");b(j.prototype,\"v\");Object.defineProperty(j.prototype,\"a\",{get:function(){return this.__state.a},set:function(a){this.__state.a=a}});Object.defineProperty(j.prototype,\"hex\",{get:function(){if(!this.__state.space!==\"HEX\")this.__state.hex=\na.rgb_to_hex(this.r,this.g,this.b);return this.__state.hex},set:function(a){this.__state.space=\"HEX\";this.__state.hex=a}});return j}(dat.color.interpret,dat.color.math=function(){var e;return{hsv_to_rgb:function(a,c,d){var e=a/60-Math.floor(a/60),b=d*(1-c),n=d*(1-e*c),c=d*(1-(1-e)*c),a=[[d,c,b],[n,d,b],[b,d,c],[b,n,d],[c,b,d],[d,b,n]][Math.floor(a/60)%6];return{r:a[0]*255,g:a[1]*255,b:a[2]*255}},rgb_to_hsv:function(a,c,d){var e=Math.min(a,c,d),b=Math.max(a,c,d),e=b-e;if(b==0)return{h:NaN,s:0,v:0};\na=a==b?(c-d)/e:c==b?2+(d-a)/e:4+(a-c)/e;a/=6;a<0&&(a+=1);return{h:a*360,s:e/b,v:b/255}},rgb_to_hex:function(a,c,d){a=this.hex_with_component(0,2,a);a=this.hex_with_component(a,1,c);return a=this.hex_with_component(a,0,d)},component_from_hex:function(a,c){return a>>c*8&255},hex_with_component:function(a,c,d){return d<<(e=c*8)|a&~(255<<e)}}}(),dat.color.toString,dat.utils.common),dat.color.interpret,dat.utils.common),dat.utils.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||\nwindow.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1E3/60)}}(),dat.dom.CenteredDiv=function(e,a){var c=function(){this.backgroundElement=document.createElement(\"div\");a.extend(this.backgroundElement.style,{backgroundColor:\"rgba(0,0,0,0.8)\",top:0,left:0,display:\"none\",zIndex:\"1000\",opacity:0,WebkitTransition:\"opacity 0.2s linear\"});e.makeFullscreen(this.backgroundElement);this.backgroundElement.style.position=\"fixed\";this.domElement=\ndocument.createElement(\"div\");a.extend(this.domElement.style,{position:\"fixed\",display:\"none\",zIndex:\"1001\",opacity:0,WebkitTransition:\"-webkit-transform 0.2s ease-out, opacity 0.2s linear\"});document.body.appendChild(this.backgroundElement);document.body.appendChild(this.domElement);var c=this;e.bind(this.backgroundElement,\"click\",function(){c.hide()})};c.prototype.show=function(){var c=this;this.backgroundElement.style.display=\"block\";this.domElement.style.display=\"block\";this.domElement.style.opacity=\n0;this.domElement.style.webkitTransform=\"scale(1.1)\";this.layout();a.defer(function(){c.backgroundElement.style.opacity=1;c.domElement.style.opacity=1;c.domElement.style.webkitTransform=\"scale(1)\"})};c.prototype.hide=function(){var a=this,c=function(){a.domElement.style.display=\"none\";a.backgroundElement.style.display=\"none\";e.unbind(a.domElement,\"webkitTransitionEnd\",c);e.unbind(a.domElement,\"transitionend\",c);e.unbind(a.domElement,\"oTransitionEnd\",c)};e.bind(this.domElement,\"webkitTransitionEnd\",\nc);e.bind(this.domElement,\"transitionend\",c);e.bind(this.domElement,\"oTransitionEnd\",c);this.backgroundElement.style.opacity=0;this.domElement.style.opacity=0;this.domElement.style.webkitTransform=\"scale(1.1)\"};c.prototype.layout=function(){this.domElement.style.left=window.innerWidth/2-e.getWidth(this.domElement)/2+\"px\";this.domElement.style.top=window.innerHeight/2-e.getHeight(this.domElement)/2+\"px\"};return c}(dat.dom.dom,dat.utils.common),dat.dom.dom,dat.utils.common);\n; browserify_shim__define__module__export__(typeof dat != \"undefined\" ? dat : window.dat);\n\n}).call(global, undefined, undefined, undefined, undefined, function defineExport(ex) { module.exports = ex; });\n","/**\n * @name THREEx\n * three.js extensions\n * @type {Object}\n */\nmodule.exports = {\n  WindowResize: require('./WindowResize'),\n  FullScreen: require('./FullScreen')\n};","/*\r\nLicense gpl-3.0 http://www.gnu.org/licenses/gpl-3.0-standalone.html\r\n*/\r\n/*jslint\r\n    white: true,\r\n    vars: true,\r\n    node: true\r\n*/\r\nfunction ObjectMergeOptions(opts) {\r\n    'use strict';\r\n    opts = opts || {};\r\n    this.depth = opts.depth || false;\r\n    // circular ref check is true unless explicitly set to false\r\n    // ignore the jslint warning here, it's pointless.\r\n    this.throwOnCircularRef = 'throwOnCircularRef' in opts && opts.throwOnCircularRef === false ? false : true;\r\n}\r\n/*jslint unparam:true*/\r\n/**\r\n * Creates a new options object suitable for use with objectMerge.\r\n * @memberOf objectMerge\r\n * @param {Object} [opts] An object specifying the options.\r\n * @param {Object} [opts.depth = false] Specifies the depth to traverse objects\r\n *  during merging. If this is set to false then there will be no depth limit.\r\n * @param {Object} [opts.throwOnCircularRef = true] Set to false to suppress\r\n *  errors on circular references.\r\n * @returns {ObjectMergeOptions} Returns an instance of ObjectMergeOptions\r\n *  to be used with objectMerge.\r\n * @example\r\n *  var opts = objectMerge.createOptions({\r\n *      depth : 2,\r\n *      throwOnCircularRef : false\r\n *  });\r\n *  var obj1 = {\r\n *      a1 : {\r\n *          a2 : {\r\n *              a3 : {}\r\n *          }\r\n *      }\r\n *  };\r\n *  var obj2 = {\r\n *      a1 : {\r\n *          a2 : {\r\n *              a3 : 'will not be in output'\r\n *          },\r\n *          a22 : {}\r\n *      }\r\n *  };\r\n *  objectMerge(opts, obj1, obj2);\r\n */\r\nfunction createOptions(opts) {\r\n    'use strict';\r\n    var argz = Array.prototype.slice.call(arguments, 0);\r\n    argz.unshift(null);\r\n    var F = ObjectMergeOptions.bind.apply(ObjectMergeOptions, argz);\r\n    return new F();\r\n}\r\n/*jslint unparam:false*/\r\n/**\r\n * Merges JavaScript objects recursively without altering the objects merged.\r\n * @namespace Merges JavaScript objects recursively without altering the objects merged.\r\n * @author <a href=\"mailto:matthewkastor@gmail.com\">Matthew Kastor</a>\r\n * @param {ObjectMergeOptions} [opts] An options object created by \r\n *  objectMerge.createOptions. Options must be specified as the first argument\r\n *  and must be an object created with createOptions or else the object will\r\n *  not be recognized as an options object and will be merged instead.\r\n * @param {Object} shadows [[shadows]...] One or more objects to merge. Each\r\n *  argument given will be treated as an object to merge. Each object\r\n *  overwrites the previous objects descendant properties if the property name\r\n *  matches. If objects properties are objects they will be merged recursively\r\n *  as well.\r\n * @returns {Object} Returns a single merged object composed from clones of the\r\n *  input objects.\r\n * @example\r\n *  var objectMerge = require('object-merge');\r\n *  var x = {\r\n *      a : 'a',\r\n *      b : 'b',\r\n *      c : {\r\n *          d : 'd',\r\n *          e : 'e',\r\n *          f : {\r\n *              g : 'g'\r\n *          }\r\n *      }\r\n *  };\r\n *  var y = {\r\n *      a : '`a',\r\n *      b : '`b',\r\n *      c : {\r\n *          d : '`d'\r\n *      }\r\n *  };\r\n *  var z = {\r\n *      a : {\r\n *          b : '``b'\r\n *      },\r\n *      fun : function foo () {\r\n *          return 'foo';\r\n *      },\r\n *      aps : Array.prototype.slice\r\n *  };\r\n *  var out = objectMerge(x, y, z);\r\n *  // out.a will be {\r\n *  //         b : '``b'\r\n *  //     }\r\n *  // out.b will be '`b'\r\n *  // out.c will be {\r\n *  //         d : '`d',\r\n *  //         e : 'e',\r\n *  //         f : {\r\n *  //             g : 'g'\r\n *  //         }\r\n *  //     }\r\n *  // out.fun will be a clone of z.fun\r\n *  // out.aps will be equal to z.aps\r\n */\r\nfunction objectMerge(shadows) {\r\n    'use strict';\r\n    var objectForeach = require('object-foreach');\r\n    var cloneFunction = require('clone-function');\r\n    // this is the queue of visited objects / properties.\r\n    var visited = [];\r\n    // various merge options\r\n    var options = {};\r\n    // gets the sequential trailing objects from array.\r\n    function getShadowObjects(shadows) {\r\n        var out = shadows.reduce(function (collector, shadow) {\r\n                if (shadow instanceof Object) {\r\n                    collector.push(shadow);\r\n                } else {\r\n                    collector = [];\r\n                }\r\n                return collector;\r\n            }, []);\r\n        return out;\r\n    }\r\n    // gets either a new object of the proper type or the last primitive value\r\n    function getOutputObject(shadows) {\r\n        var out;\r\n        var lastShadow = shadows[shadows.length - 1];\r\n        if (lastShadow instanceof Array) {\r\n            out = [];\r\n        } else if (lastShadow instanceof Function) {\r\n            try {\r\n                out = cloneFunction(lastShadow);\r\n            } catch (e) {\r\n                throw new Error(e.message);\r\n            }\r\n        } else if (lastShadow instanceof Object) {\r\n            out = {};\r\n        } else {\r\n            // lastShadow is a primitive value;\r\n            out = lastShadow;\r\n        }\r\n        return out;\r\n    }\r\n    // checks for circular references\r\n    function circularReferenceCheck(shadows) {\r\n        // if any of the current objects to process exist in the queue\r\n        // then throw an error.\r\n        shadows.forEach(function (item) {\r\n            if (item instanceof Object && visited.indexOf(item) > -1) {\r\n                throw new Error('Circular reference error');\r\n            }\r\n        });\r\n        // if none of the current objects were in the queue\r\n        // then add references to the queue.\r\n        visited = visited.concat(shadows);\r\n    }\r\n    function objectMergeRecursor(shadows, currentDepth) {\r\n        if (options.depth !== false) {\r\n            currentDepth = currentDepth ? currentDepth + 1 : 1;\r\n        } else {\r\n            currentDepth = 0;\r\n        }\r\n        if (options.throwOnCircularRef === true) {\r\n            circularReferenceCheck(shadows);\r\n        }\r\n        var out = getOutputObject(shadows);\r\n        /*jslint unparam: true */\r\n        function shadowHandler(val, prop, shadow) {\r\n            if (out[prop]) {\r\n                out[prop] = objectMergeRecursor([\r\n                    out[prop],\r\n                    shadow[prop]\r\n                ], currentDepth);\r\n            } else {\r\n                out[prop] = objectMergeRecursor([shadow[prop]], currentDepth);\r\n            }\r\n        }\r\n        /*jslint unparam:false */\r\n        function shadowMerger(shadow) {\r\n            objectForeach(shadow, shadowHandler);\r\n        }\r\n        // short circuits case where output would be a primitive value\r\n        // anyway.\r\n        if (out instanceof Object && currentDepth <= options.depth) {\r\n            // only merges trailing objects since primitives would wipe out\r\n            // previous objects, as in merging {a:'a'}, 'a', and {b:'b'}\r\n            // would result in {b:'b'} so the first two arguments\r\n            // can be ignored completely.\r\n            var relevantShadows = getShadowObjects(shadows);\r\n            relevantShadows.forEach(shadowMerger);\r\n        }\r\n        return out;\r\n    }\r\n    // determines whether an options object was passed in and\r\n    // uses it if present\r\n    // ignore the jslint warning here too.\r\n    if (arguments[0] instanceof ObjectMergeOptions) {\r\n        options = arguments[0];\r\n        shadows = Array.prototype.slice.call(arguments, 1);\r\n    } else {\r\n        options = createOptions();\r\n        shadows = Array.prototype.slice.call(arguments, 0);\r\n    }\r\n    return objectMergeRecursor(shadows);\r\n}\r\nobjectMerge.createOptions = createOptions;\r\nmodule.exports = objectMerge;","/**\n * @module  lib/THREEx/WindowResize\n */\n\n/**\n * This helper makes it easy to handle window resize.\n * It will update renderer and camera when window is resized.\n *\n * @example\n * // Start updating renderer and camera\n * var windowResize = WindowResize(aRenderer, aCamera);\n * //Start updating renderer and camera\n * windowResize.stop()\n *\n * @namespace\n * @param {Object} renderer the renderer to update\n * @param {Object} Camera the camera to update\n */\nvar windowResize = function (renderer, camera) {\n\tvar callback = function() {\n\t\t// notify the renderer of the size change\n\t\trenderer.setSize( window.innerWidth, window.innerHeight );\n\t\t// update the camera\n\t\tcamera.aspect\t= window.innerWidth / window.innerHeight;\n\t\tcamera.updateProjectionMatrix();\n\t};\n\t// bind the resize event\n\twindow.addEventListener('resize', callback, false);\n\t// return .stop() the function to stop watching window resize\n\treturn {\n\t\tstop\t: function(){\n\t\t\twindow.removeEventListener('resize', callback);\n\t\t}\n\t};\n};\n\n/**\n * @static\n * @param  {THREE.WebGLRenderer} renderer\n * @param  {THREE.PerspectiveCamera} camera\n * @return {Object}\n */\nwindowResize.bind\t= function(renderer, camera){\n\treturn windowResize(renderer, camera);\n};\n\nmodule.exports = windowResize;","/**\n * @module  lib/THREEx/FullScreen\n */\n\n/**\n* This helper makes it easy to handle the fullscreen API:\n* \n* - it hides the prefix for each browser\n* - it hides the little discrepencies of the various vendor API\n* - at the time of this writing (nov 2011) it is available in \n* \n*   [firefox nightly](http://blog.pearce.org.nz/2011/11/firefoxs-html-full-screen-api-enabled.html),\n*   [webkit nightly](http://peter.sh/2011/01/javascript-full-screen-api-navigation-timing-and-repeating-css-gradients/) and\n*   [chrome stable](http://updates.html5rocks.com/2011/10/Let-Your-Content-Do-the-Talking-Fullscreen-API).\n* \n* @namespace\n*/\nvar fullScreen = {};\n\n/**\n * test if it is possible to have fullscreen\n * @returns {boolean} true if fullscreen API is available, false otherwise\n */\nfullScreen.available = function () {\n  return this._hasWebkitFullScreen || this._hasMozFullScreen;\n};\n\n/**\n * Test if fullscreen is currently activated\n * @returns {boolean} true if fullscreen is currently activated, false otherwise\n */\nfullScreen.activated = function () {\n  if (this._hasWebkitFullScreen) {\n    return document.webkitIsFullScreen;\n  } else if (this._hasMozFullScreen) {\n    return document.mozFullScreen;\n  } else {\n    console.assert(false);\n  }\n};\n\n/**\n * Request fullscreen on a given element\n * @param {DomElement} element to make fullscreen. optional. default to document.body\n */\nfullScreen.request = function (element) {\n  element = element || document.body;\n  if (this._hasWebkitFullScreen) {\n    element.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);\n  } else if (this._hasMozFullScreen) {\n    element.mozRequestFullScreen();\n  } else {\n    console.assert(false);\n  }\n};\n\n/**\n * Cancel fullscreen\n */\nfullScreen.cancel = function () {\n  if (this._hasWebkitFullScreen) {\n    document.webkitCancelFullScreen();\n  } else if (this._hasMozFullScreen) {\n    document.mozCancelFullScreen();\n  } else {\n    console.assert(false);\n  }\n};\n\n\n// internal functions to know which fullscreen API implementation is available\nfullScreen._hasWebkitFullScreen = 'webkitCancelFullScreen' in document ? true : false;\nfullScreen._hasMozFullScreen = 'mozCancelFullScreen' in document ? true : false;\n\n/**\n * Bind a key to renderer screenshot\n * @param {Object} opts\n * @param {Object} [opts.charcode=f]\n * @param {Object} [opts.dblClick=false] True to make it go\n * fullscreen on double click\n */\nfullScreen.bindKey = function (opts) {\n  opts = opts || {};\n  var charCode = opts.charCode || 'f'.charCodeAt(0);\n  var dblclick = opts.dblclick !== undefined ? opts.dblclick : false;\n  var element = opts.element;\n\n  var toggle = function () {\n    if (fullScreen.activated()) {\n      fullScreen.cancel();\n    } else {\n      fullScreen.request(element);\n    }\n  };\n\n  // callback to handle keypress\n  var __bind = function (fn, me) {\n    return function () {\n      return fn.apply(me, arguments);\n    };\n  };\n  var onKeyPress = __bind(function (event) {\n    // return now if the KeyPress isnt for the proper charCode\n    if (event.which !== charCode) { return; }\n    // toggle fullscreen\n    toggle();\n  }, this);\n\n  // listen to keypress\n  // NOTE: for firefox it seems mandatory to listen to document directly\n  document.addEventListener('keypress', onKeyPress, false);\n  // listen to dblclick\n  dblclick && document.addEventListener('dblclick', toggle, false);\n\n  return {\n    unbind: function () {\n      document.removeEventListener('keypress', onKeyPress, false);\n      dblclick && document.removeEventListener('dblclick', toggle, false);\n    }\n  };\n};\n\nmodule.exports = fullScreen;","/*\r\nLicense gpl-3.0 http://www.gnu.org/licenses/gpl-3.0-standalone.html\r\n*/\r\n/*jslint\r\n    evil: true,\r\n    node: true\r\n*/\r\n'use strict';\r\n/**\r\n * Clones non native JavaScript functions, or references native functions.\r\n * @author <a href=\"mailto:matthewkastor@gmail.com\">Matthew Kastor</a>\r\n * @param {Function} func The function to clone.\r\n * @returns {Function} Returns a clone of the non native function, or a\r\n *  reference to the native function.\r\n */\r\nfunction cloneFunction(func) {\r\n    var out, str;\r\n    try {\r\n        str = func.toString();\r\n        if (/\\[native code\\]/.test(str)) {\r\n            out = func;\r\n        } else {\r\n            out = eval('(function(){return ' + str + '}());');\r\n        }\r\n    } catch (e) {\r\n        throw new Error(e.message + '\\r\\n\\r\\n' + str);\r\n    }\r\n    return out;\r\n}\r\nmodule.exports = cloneFunction;","/**\r\n * Executes a function on each of an objects own enumerable properties. The\r\n *  callback function will receive three arguments: the value of the current\r\n *  property, the name of the property, and the object being processed. This is\r\n *  roughly equivalent to the signature for callbacks to\r\n *  Array.prototype.forEach.\r\n * @param {Object} obj The object to act on.\r\n * @param {Function} callback The function to execute.\r\n * @returns {Object} Returns the given object.\r\n */\r\nfunction objectForeach(obj, callback) {\r\n    \"use strict\";\r\n    Object.keys(obj).forEach(function (prop) {\r\n        callback(obj[prop], prop, obj);\r\n    });\r\n    return obj;\r\n};\r\nmodule.exports = objectForeach;"]}